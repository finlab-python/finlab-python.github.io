(window.webpackJsonp=window.webpackJsonp||[]).push([[44,35],{430:function(t,e,n){"use strict";var o=n(422),r=n(452),l=n(426),c=(n(445),o.k),h=o.A,d=-1,f=function(){function t(option){var e=option.mappingMethod,n=option.type,r=this.option=o.d(option);this.type=n,this.mappingMethod=e,this._normalizeData=I[e];var l=t.visualHandlers[n];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[e],"piecewise"===e?(m(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,o.k(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(c(e,function(t,e){n[t]=e}),!o.t(r)){var l=[];o.A(r)?c(r,function(t,e){var o=n[e];l[null!=o?o:d]=t}):l[-1]=r,r=w(t,l)}for(var i=e.length-1;i>=0;i--)null==r[i]&&(delete n[e[i]],e.pop())}(r):m(r,!0):(o.b("linear"!==e||r.dataExtent),m(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return o.c(this._normalizeData,this)},t.listVisualTypes=function(){return o.E(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){o.A(t)?o.k(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var l,c=o.t(e)?[]:o.A(e)?{}:(l=!0,null);return t.eachVisual(e,function(t,e){var o=n.call(r,t,e);l?c=o:c[e]=o}),c},t.retrieveVisuals=function(e){var n,o={};return e&&c(t.visualHandlers,function(t,r){e.hasOwnProperty(r)&&(o[r]=e[r],n=!0)}),n?o:null},t.prepareVisualTypes=function(t){if(o.t(t))t=t.slice();else{if(!h(t))return[];var e=[];c(t,function(t,n){e.push(n)}),t=e}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var r,l=1/0,i=0,c=e.length;i<c;i++){var h=e[i].value;if(null!=h){if(h===t||o.B(h)&&h===t+"")return i;n&&v(h,i)}}for(i=0,c=e.length;i<c;i++){var d=e[i],f=d.interval,m=d.close;if(f){if(f[0]===-1/0){if(j(m[1],t,f[1]))return i}else if(f[1]===1/0){if(j(m[0],f[0],t))return i}else if(j(m[0],f[0],t)&&j(m[1],t,f[1]))return i;n&&v(f[0],i),n&&v(f[1],i)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function v(e,n){var o=Math.abs(e-t);o<l&&(l=o,r=n)}},t.visualHandlers={color:{applyVisual:_("color"),getColorMapper:function(){var t=this.option;return o.c("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),x.call(this,t)}:function(e,n,o){var l=!!o;return!n&&(e=this._normalizeData(e)),o=r.a(e,t.parsedVisual,o),l?o:r.h(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return r.h(r.a(t,this.option.parsedVisual),"rgba")},category:x,piecewise:function(t,e){var n=M.call(this,e);return null==n&&(n=r.h(r.a(t,this.option.parsedVisual),"rgba")),n},fixed:S}},colorHue:v(function(t,e){return r.f(t,e)}),colorSaturation:v(function(t,e){return r.f(t,null,e)}),colorLightness:v(function(t,e){return r.f(t,null,null,e)}),colorAlpha:v(function(t,e){return r.e(t,e)}),decal:{applyVisual:_("decal"),_normalizedToVisual:{linear:null,category:x,piecewise:null,fixed:null}},opacity:{applyVisual:_("opacity"),_normalizedToVisual:O([0,1])},liftZ:{applyVisual:_("liftZ"),_normalizedToVisual:{linear:S,category:S,piecewise:S,fixed:S}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:y,category:x,piecewise:function(t,e){var n=M.call(this,e);return null==n&&(n=y.call(this,t)),n},fixed:S}},symbolSize:{applyVisual:_("symbolSize"),_normalizedToVisual:O([0,1])}},t}();function m(t,e){var n=t.visual,r=[];o.A(n)?c(n,function(t){r.push(t)}):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),w(t,r)}function v(t){return{applyVisual:function(e,n,o){var r=this.mapValueToVisual(e);o("color",t(n("color"),r))},_normalizedToVisual:O([0,1])}}function y(t){var e=this.option.visual;return e[Math.round(Object(l.j)(t,[0,1],[0,e.length-1],!0))]||{}}function _(t){return function(e,n,o){o(t,this.mapValueToVisual(e))}}function x(t){var e=this.option.visual;return e[this.option.loop&&t!==d?t%e.length:t]}function S(){return this.option.visual[0]}function O(t){return{linear:function(e){return Object(l.j)(e,t,this.option.visual,!0)},category:x,piecewise:function(e,n){var o=M.call(this,n);return null==o&&(o=Object(l.j)(e,t,this.option.visual,!0)),o},fixed:S}}function M(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var o=n[f.findPieceIndex(t,n)];if(o&&o.visual)return o.visual[this.type]}}function w(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=o.G(e,function(t){var e=r.g(t);return e||[0,0,0,1]})),e}var I={linear:function(t){return Object(l.j)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=f.findPieceIndex(t,e,!0);if(null!=n)return Object(l.j)(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?d:e},fixed:o.J};function j(t,a,b){return t?a<=b:a<b}e.a=f},431:function(t,e,n){"use strict";var o=n(5),r=n(8),l=n(55),c=n(50),h=n(76),d=n(274),f=n(24),m=n(9),v=n(275),y=n(190),_=n(440),x=n(441),S=n(120),O=n(442),M=[],w=r(M.sort),I=r(M.push),j=m(function(){M.sort(void 0)}),A=m(function(){M.sort(null)}),D=y("sort"),k=!m(function(){if(S)return S<70;if(!(_&&_>3)){if(x)return!0;if(O)return O<603;var code,t,e,n,o="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)M.push({k:t+n,v:e})}for(M.sort(function(a,b){return b.v-a.v}),n=0;n<M.length;n++)t=M[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}});o({target:"Array",proto:!0,forced:j||!A||!D||!k},{sort:function(t){void 0!==t&&l(t);var e=c(this);if(k)return void 0===t?w(e):w(e,t);var n,o,r=[],m=h(e);for(o=0;o<m;o++)o in e&&I(r,e[o]);for(v(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:f(e)>f(n)?1:-1}}(t)),n=h(r),o=0;o<n;)e[o]=r[o++];for(;o<m;)d(e,o++);return e}})},435:function(t,e,n){"use strict";function o(t,e,n,o,c,h){t=t||0;var d=n[1]-n[0];if(null!=c&&(c=l(c,[0,d])),null!=h&&(h=Math.max(h,null!=c?c:0)),"all"===o){var f=Math.abs(e[1]-e[0]);f=l(f,[0,d]),c=h=l(f,[c,h]),o=0}e[0]=l(e[0],n),e[1]=l(e[1],n);var m=r(e,o);e[o]+=t;var v,y=c||0,_=n.slice();return m.sign<0?_[0]+=y:_[1]-=y,e[o]=l(e[o],_),v=r(e,o),null!=c&&(v.sign!==m.sign||v.span<c)&&(e[1-o]=e[o]+m.sign*c),v=r(e,o),null!=h&&v.span>h&&(e[1-o]=e[o]+v.sign*h),e}function r(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function l(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}n.d(e,"a",function(){return o})},440:function(t,e,n){"use strict";var o=n(85).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},441:function(t,e,n){"use strict";var o=n(85);t.exports=/MSIE|Trident/.test(o)},442:function(t,e,n){"use strict";var o=n(85).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},448:function(t,e,n){"use strict";var o=n(5),r=n(474),l=n(149);o({target:"Array",proto:!0},{fill:r}),l("fill")},450:function(t,e,n){"use strict";function o(t,e){return t.type===e}n.d(e,"a",function(){return o})},459:function(t,e,n){"use strict";var o=n(423),r=n(429),l=n(476),c=n(584),h=n(432),d=n(428),f=n(460),m=n(422),v=n(427),y=n(438),_=function(t){function e(data,e,n,o){var r=t.call(this)||this;return r.updateData(data,e,n,o),r}return Object(o.a)(e,t),e.prototype._createSymbol=function(t,data,e,n,o){this.removeAll();var l=Object(r.a)(t,-1,-1,2,2,null,o);l.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=x,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(d.q)(this.childAt(0))},e.prototype.downplay=function(){Object(d.B)(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(data,t,n,o){this.silent=!1;var r=data.getItemVisual(t,"symbol")||"circle",c=data.hostModel,h=e.getSymbolSize(data,t),d=r!==this._symbolType,f=o&&o.disableAnimation;if(d){var m=data.getItemVisual(t,"symbolKeepAspect");this._createSymbol(r,data,t,h,m)}else{(y=this.childAt(0)).silent=!1;var v={scaleX:h[0]/2,scaleY:h[1]/2};f?y.attr(v):l.f(y,v,c,t),Object(l.e)(y)}if(this._updateCommon(data,t,h,n,o),d){var y=this.childAt(0);if(!f){v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}};y.scaleX=y.scaleY=0,y.style.opacity=0,l.a(y,v,c,t)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(data,t,e,n,o){var l,c,h,_,x,S,O,M,w,I=this.childAt(0),j=data.hostModel;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,_=n.focus,x=n.blurScope,O=n.labelStatesModels,M=n.hoverScale,w=n.cursorStyle,S=n.emphasisDisabled),!n||data.hasItemOption){var A=n&&n.itemModel?n.itemModel:data.getItemModel(t),D=A.getModel("emphasis");l=D.getModel("itemStyle").getItemStyle(),h=A.getModel(["select","itemStyle"]).getItemStyle(),c=A.getModel(["blur","itemStyle"]).getItemStyle(),_=D.get("focus"),x=D.get("blurScope"),S=D.get("disabled"),O=Object(v.d)(A),M=D.getShallow("scale"),w=A.getShallow("cursor")}var k=data.getItemVisual(t,"symbolRotate");I.attr("rotation",(k||0)*Math.PI/180||0);var L=Object(r.b)(data.getItemVisual(t,"symbolOffset"),e);L&&(I.x=L[0],I.y=L[1]),w&&I.attr("cursor",w);var C=data.getItemVisual(t,"style"),T=C.fill;if(I instanceof y.a){var V=I.style;I.useStyle(Object(m.m)({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},C))}else I.__isEmptyBrush?I.useStyle(Object(m.m)({},C)):I.useStyle(C),I.style.decal=null,I.setColor(T,o&&o.symbolInnerColor),I.style.strokeNoScale=!0;var P=data.getItemVisual(t,"liftZ"),z=this._z2;null!=P?null==z&&(this._z2=I.z2,I.z2+=P):null!=z&&(I.z2=z,this._z2=null);var R=o&&o.useNameLabel;Object(v.f)(I,O,{labelFetcher:j,labelDataIndex:t,defaultText:function(t){return R?data.getName(t):Object(f.b)(data,t)},inheritColor:T,defaultOpacity:C.opacity}),this._sizeX=e[0]/2,this._sizeY=e[1]/2;var N=I.ensureState("emphasis");N.style=l,I.ensureState("select").style=h,I.ensureState("blur").style=c;var E=null==M||!0===M?Math.max(1.1,3/this._sizeY):isFinite(M)&&M>0?+M:1;N.scaleX=this._sizeX*E,N.scaleY=this._sizeY*E,this.setSymbolScale(1),Object(d.I)(this,_,x,S)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var o=this.childAt(0),r=Object(h.a)(this).dataIndex,c=n&&n.animation;if(this.silent=o.silent=!0,n&&n.fadeLabel){var d=o.getTextContent();d&&l.c(d,{style:{opacity:0}},e,{dataIndex:r,removeOpt:c,cb:function(){o.removeTextContent()}})}else o.removeTextContent();l.c(o,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:r,cb:t,removeOpt:c})},e.getSymbolSize=function(data,t){return Object(r.c)(data.getItemVisual(t,"symbolSize"))},e}(c.a);function x(t,e){this.parent.drift(t,e)}e.a=_},460:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return c});var o=n(508),r=n(422);function l(data,t){var e=data.mapDimensionsAll("defaultedLabel"),n=e.length;if(1===n){var r=Object(o.e)(data,t,e[0]);return null!=r?r+"":null}if(n){for(var l=[],i=0;i<e.length;i++)l.push(Object(o.e)(data,t,e[i]));return l.join(" ")}}function c(data,t){var e=data.mapDimensionsAll("defaultedLabel");if(!Object(r.t)(t))return t+"";for(var n=[],i=0;i<e.length;i++){var o=data.getDimensionIndex(e[i]);o>=0&&n.push(t[o])}return n.join(" ")}},467:function(t,e,n){"use strict";var o=n(584),r=n(476),l=n(424),c=n(459),h=n(422),d=n(427);function f(data,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==data.getItemVisual(e,"symbol")}function m(t){return null==t||Object(h.A)(t)||(t={isIgnore:t}),t||{}}function v(data){var t=data.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Object(d.d)(t),cursorStyle:t.get("cursor")}}var y=function(){function t(t){this.group=new o.a,this._SymbolCtor=t||c.a}return t.prototype.updateData=function(data,t){this._progressiveEls=null,t=m(t);var e=this.group,n=data.hostModel,o=this._data,l=this._SymbolCtor,c=t.disableAnimation,h=v(data),d={disableAnimation:c},y=t.getSymbolPoint||function(t){return data.getItemLayout(t)};o||e.removeAll(),data.diff(o).add(function(n){var o=y(n);if(f(data,o,n,t)){var r=new l(data,n,h,d);r.setPosition(o),data.setItemGraphicEl(n,r),e.add(r)}}).update(function(m,v){var _=o.getItemGraphicEl(v),x=y(m);if(f(data,x,m,t)){var S=data.getItemVisual(m,"symbol")||"circle",O=_&&_.getSymbolType&&_.getSymbolType();if(!_||O&&O!==S)e.remove(_),(_=new l(data,m,h,d)).setPosition(x);else{_.updateData(data,m,h,d);var M={x:x[0],y:x[1]};c?_.attr(M):r.f(_,M,n)}e.add(_),data.setItemGraphicEl(m,_)}else e.remove(_)}).remove(function(t){var r=o.getItemGraphicEl(t);r&&r.fadeOut(function(){e.remove(r)},n)}).execute(),this._getSymbolPoint=y,this._data=data},t.prototype.updateLayout=function(){var t=this,data=this._data;data&&data.eachItemGraphicEl(function(e,n){var o=t._getSymbolPoint(n);e.setPosition(o),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=v(data),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,data,e){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],e=m(e);for(var o=t.start;o<t.end;o++){var r=data.getItemLayout(o);if(f(data,r,o,e)){var l=new this._SymbolCtor(data,o,this._seriesScope);l.traverse(n),l.setPosition(r),this.group.add(l),data.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},t.prototype.eachRendered=function(t){l.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,data=this._data;data&&t?data.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},data.hostModel)}):e.removeAll()},t}();e.a=y},472:function(t,e,n){t.exports={}},474:function(t,e,n){"use strict";var o=n(50),r=n(122),l=n(76);t.exports=function(t){for(var e=o(this),n=l(e),c=arguments.length,h=r(c>1?arguments[1]:void 0,n),d=c>2?arguments[2]:void 0,f=void 0===d?n:r(d,n);f>h;)e[h++]=t;return e}},478:function(t,e,n){"use strict";var o=n(422),r=n(443),l=n(482),c=n(523),h=n(425),d=n(504),f=function(t){this.coordSysDims=[],this.axisMap=Object(o.f)(),this.categoryAxisMap=Object(o.f)(),this.coordSysName=t};var m={cartesian2d:function(t,e,n,o){var r=t.getReferringComponents("xAxis",h.b).models[0],l=t.getReferringComponents("yAxis",h.b).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",l),v(r)&&(o.set("x",r),e.firstCategoryDimIndex=0),v(l)&&(o.set("y",l),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,o){var r=t.getReferringComponents("singleAxis",h.b).models[0];e.coordSysDims=["single"],n.set("single",r),v(r)&&(o.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,o){var r=t.getReferringComponents("polar",h.b).models[0],l=r.findAxisModel("radiusAxis"),c=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",c),v(l)&&(o.set("radius",l),e.firstCategoryDimIndex=0),v(c)&&(o.set("angle",c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,o){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var l=t.ecModel,c=l.getComponent("parallel",t.get("parallelIndex")),h=e.coordSysDims=c.dimensions.slice();Object(o.k)(c.parallelAxisIndex,function(t,o){var c=l.getComponent("parallelAxis",t),d=h[o];n.set(d,c),v(c)&&(r.set(d,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))})}};function v(t){return"category"===t.get("type")}var y=n(498),_=n(433),x=n(507),S=n(497);e.a=function(t,e,n){n=n||{};var source,v=e.getSourceManager(),O=!1;t?(O=!0,source=Object(y.c)(t)):O=(source=v.getSource()).sourceFormat===S.f;var M=function(t){var e=t.get("coordinateSystem"),n=new f(e),o=m[e];if(o)return o(t,n,n.axisMap,n.categoryAxisMap),n}(e),w=function(t,e){var n,r=t.get("coordinateSystem"),l=d.a.get(r);return e&&e.coordSysDims&&(n=o.G(e.coordSysDims,function(t){var n={name:t},o=e.axisMap.get(t);if(o){var r=o.get("type");n.type=Object(c.a)(r)}return n})),n||(n=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]),n}(e,M),I=n.useEncodeDefaulter,j=o.w(I)?I:I?o.h(x.c,w,e):null,A={coordDimensions:w,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:j,canOmitUnusedDimensions:!O},D=Object(l.a)(source,A),k=function(t,e,n){var r,l;return n&&o.k(t,function(t,o){var c=t.coordDim,h=n.categoryAxisMap.get(c);h&&(null==r&&(r=o),t.ordinalMeta=h.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)}),l||null==r||(t[r].otherDims.itemName=0),r}(D.dimensions,n.createInvertedIndices,M),L=O?null:v.getSharedDataStore(D),C=Object(_.a)(e,{schema:D,store:L}),data=new r.a(D,e);data.setCalculationInfo(C);var T=null!=k&&function(source){if(source.sourceFormat===S.f){var t=function(t){var i=0;for(;i<t.length&&null==t[i];)i++;return t[i]}(source.data||[]);return!o.t(Object(h.h)(t))}}(source)?function(t,e,n,o){return o===k?n:this.defaultDimValueGetter(t,e,n,o)}:null;return data.hasItemOption=!1,data.initData(O?source:L,null,T),data}},496:function(t,e,n){"use strict";var o=n(423),r=n(484),l=n(449),c=n(532),h=n(422),d="\0_ec_interaction_mutex";function f(t,e){return!!m(t)[e]}function m(t){return t[d]||(t[d]={})}c.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},h.J);var v=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var o=Object(h.c)(n._mousedownHandler,n),r=Object(h.c)(n._mousemoveHandler,n),l=Object(h.c)(n._mouseupHandler,n),c=Object(h.c)(n._mousewheelHandler,n),d=Object(h.c)(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(h.i)(Object(h.d)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",l)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",c),e.on("pinch",d))},n.disable=function(){e.off("mousedown",o),e.off("mousemove",r),e.off("mouseup",l),e.off("mousewheel",c),e.off("pinch",d)},n}return Object(o.a)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!l.d(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,o)&&(this._x=n,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&x("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!f(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,o=this._x,r=this._y,c=e-o,h=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&l.g(t.event),_(this,"pan","moveOnMouseMove",t,{dx:c,dy:h,oldX:o,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){l.d(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=x("zoomOnMouseWheel",t,this._opt),n=x("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,r=Math.abs(o),l=t.offsetX,c=t.offsetY;if(0!==o&&(e||n)){if(e){var h=r>3?1.4:r>1?1.2:1.1;y(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?h:1/h,originX:l,originY:c,isAvailableBehavior:null})}if(n){var d=Math.abs(o);y(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:l,originY:c,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){f(this._zr,"globalPan")||y(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(r.a);function y(t,e,n,o,r){t.pointerChecker&&t.pointerChecker(o,r.originX,r.originY)&&(l.g(o.event),_(t,e,n,o,r))}function _(t,e,n,o,r){r.isAvailableBehavior=Object(h.c)(x,null,n,o),t.trigger(e,r)}function x(t,e,n){var o=n[t];return!t||o&&(!Object(h.B)(o)||e.event[o+"Key"])}e.a=v},499:function(t,e,n){"use strict";n(472)},501:function(t,e,n){"use strict";n.r(e);n(448),n(60),n(276),n(53),n(23),n(38);var o=n(6),r=n(451),l=n(532),c=n(713),h=n(543),d=n(967),f=n(965),m=n(963),v=n(422);function y(t,e){if(!t)return!1;for(var n=Object(v.t)(t)?t:[t],o=0;o<n.length;o++)if(n[o]&&n[o][e])return!0;return!1}var _=n(423),x=n(469),S=n(527),O=n(436),M=n(425),w=n(480);function I(t){Object(M.f)(t,"label",["show"])}var j=Object(M.n)(),A=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Object(_.a)(e,t),e.prototype.init=function(option,t,e){this.mergeDefaultAndTheme(option,e),this._mergeOption(option,e,!1,!0)},e.prototype.isAnimationEnabled=function(){if(x.a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,o){var r=this.mainType;n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),l=j(t)[r];n&&n.data?(l?l._mergeOption(n,e,!0):(o&&I(n),v.k(n.data,function(t){t instanceof Array?(I(t[0]),I(t[1])):I(t)}),l=this.createMarkerModelFromSeries(n,this,e),v.m(l,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),l.__hostSeries=t),j(t)[r]=l):j(t)[r]=null},this)},e.prototype.formatTooltip=function(t,e,n){var data=this.getData(),o=this.getRawValue(t),r=data.getName(t);return Object(w.c)("section",{header:this.name,blocks:[Object(w.c)("nameValue",{name:r,value:o,noName:!r,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(data){this._data=data},e.prototype.getDataParams=function(t,e){var n=S.a.prototype.getDataParams.call(this,t,e),o=this.__hostSeries;return o&&(n.seriesId=o.id,n.seriesName=o.name,n.seriesType=o.subType),n},e.getMarkerModelFromSeries=function(t,e){return j(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(O.a);v.I(A,S.a.prototype);var D=A,k=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,o){return new e(t,n,o)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(D),L=k,C=n(467),T=n(426),V=n(443),P=n(433),z=n(522);function R(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function N(t,data,e,n,o,r){var l=[],c=Object(P.c)(data,n)?data.getCalculationInfo("stackResultDimension"):n,h=F(data,c,t),d=data.indicesOfNearest(c,h)[0];l[o]=data.get(e,d),l[r]=data.get(c,d);var f=data.get(n,d),m=T.f(data.get(n,d));return(m=Math.min(m,20))>=0&&(l[r]=+l[r].toFixed(m)),[l,f]}var E={min:Object(v.h)(N,"min"),max:Object(v.h)(N,"max"),average:Object(v.h)(N,"average"),median:Object(v.h)(N,"median")};function H(t,e){if(e){var data=t.getData(),n=t.coordinateSystem,o=n&&n.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!Object(v.t)(e.coord)&&Object(v.t)(o)){var r=B(e,data,n,t);if((e=Object(v.d)(e)).type&&E[e.type]&&r.baseAxis&&r.valueAxis){var l=Object(v.r)(o,r.baseAxis.dim),c=Object(v.r)(o,r.valueAxis.dim),h=E[e.type](data,r.baseDataDim,r.valueDataDim,l,c);e.coord=h[0],e.value=h[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&Object(v.t)(o))for(var d=e.coord,i=0;i<2;i++)E[d[i]]&&(d[i]=F(data,data.mapDimension(o[i]),d[i]));else e.coord=[];return e}}function B(t,data,e,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?data.getDimension(t.valueIndex):t.valueDim,o.valueAxis=e.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(n,o.valueDataDim)),o.baseAxis=e.getOtherAxis(o.valueAxis),o.baseDataDim=data.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=e.getOtherAxis(o.baseAxis),o.baseDataDim=data.mapDimension(o.baseAxis.dim),o.valueDataDim=data.mapDimension(o.valueAxis.dim)),o}function G(t,e){return!(t&&t.containData&&e.coord&&!R(e))||t.containData(e.coord)}function Z(t,e){return t?function(t,n,o,r){var l=r<2?t.coord&&t.coord[r]:t.value;return Object(z.b)(l,e[r])}:function(t,n,o,r){return Object(z.b)(t.value,e[r])}}function F(data,t,e){if("average"===e){var n=0,o=0;return data.each(t,function(t,e){isNaN(t)||(n+=t,o++)}),n/o}return"median"===e?data.getMedian(t):data.getDataExtent(t)["max"===e?1:0]}var W=n(437),Y=n(428),X=Object(M.n)(),K=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.init=function(){this.markerGroupMap=Object(v.f)()},e.prototype.render=function(t,e,n){var o=this,r=this.markerGroupMap;r.each(function(t){X(t).keep=!1}),e.eachSeries(function(t){var r=D.getMarkerModelFromSeries(t,o.type);r&&o.renderSeries(t,r,e,n)}),r.each(function(t){!X(t).keep&&o.group.remove(t.group)})},e.prototype.markKeep=function(t){X(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;Object(v.k)(t,function(t){var o=D.getMarkerModelFromSeries(t,n.type);o&&o.getData().eachItemGraphicEl(function(t){t&&(e?Object(Y.p)(t):Object(Y.A)(t))})})},e.type="marker",e}(W.a),U=K,J=n(432),$=n(444);function Q(t,e,n){var o=e.coordinateSystem;t.each(function(r){var l,c=t.getItemModel(r),h=T.n(c.get("x"),n.getWidth()),d=T.n(c.get("y"),n.getHeight());if(isNaN(h)||isNaN(d)){if(e.getMarkerPosition)l=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(o){var f=t.get(o.dimensions[0],r),m=t.get(o.dimensions[1],r);l=o.dataToPoint([f,m])}}else l=[h,d];isNaN(h)||(l[0]=h),isNaN(d)||(l[1]=d),t.setItemLayout(r,l)})}var tt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=D.getMarkerModelFromSeries(t,"markPoint");e&&(Q(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())},this)},e.prototype.renderSeries=function(t,e,n,o){var r=t.coordinateSystem,l=t.id,c=t.getData(),h=this.markerGroupMap,d=h.get(l)||h.set(l,new C.a),f=function(t,e,n){var o;o=t?Object(v.G)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(v.m)(Object(v.m)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new V.a(o,n),l=Object(v.G)(n.get("data"),Object(v.h)(H,e));t&&(l=Object(v.n)(l,Object(v.h)(G,t)));var c=Z(!!t,o);return r.initData(l,null,c),r}(r,t,e);e.setData(f),Q(e.getData(),t,o),f.each(function(t){var n=f.getItemModel(t),symbol=n.getShallow("symbol"),o=n.getShallow("symbolSize"),r=n.getShallow("symbolRotate"),l=n.getShallow("symbolOffset"),h=n.getShallow("symbolKeepAspect");if(Object(v.w)(symbol)||Object(v.w)(o)||Object(v.w)(r)||Object(v.w)(l)){var d=e.getRawValue(t),m=e.getDataParams(t);Object(v.w)(symbol)&&(symbol=symbol(d,m)),Object(v.w)(o)&&(o=o(d,m)),Object(v.w)(r)&&(r=r(d,m)),Object(v.w)(l)&&(l=l(d,m))}var style=n.getModel("itemStyle").getItemStyle(),y=Object($.b)(c,"color");style.fill||(style.fill=y),f.setItemVisual(t,{symbol:symbol,symbolSize:o,symbolRotate:r,symbolOffset:l,symbolKeepAspect:h,style:style})}),d.updateData(f),this.group.add(d.group),f.eachItemGraphicEl(function(t){t.traverse(function(t){Object(J.a)(t).dataModel=e})}),this.markKeep(d),d.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(U);var et=tt;var it=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,o){return new e(t,n,o)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(D),nt=it,at=n(584),ot=n(424),st=n(465),lt=n(429),ut=n(729),ct=n(730),ht=n(447),pt=ut.a.prototype,ft=ct.a.prototype,gt=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(_.a)(e,t)}(gt);function mt(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var vt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Object(_.a)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gt},e.prototype.buildPath=function(t,e){mt(e)?pt.buildPath.call(this,t,e):ft.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return mt(this.shape)?pt.pointAt.call(this,t):ft.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,p=mt(e)?[e.x2-e.x1,e.y2-e.y1]:ft.tangentAt.call(this,t);return st.j(p,p)},e}(ht.b),yt=n(476),bt=n(427),_t=["fromSymbol","toSymbol"];function xt(t){return"_"+t+"Type"}function St(t,e,n){var o=e.getItemVisual(n,t);if(!o||"none"===o)return o;var r=e.getItemVisual(n,t+"Size"),l=e.getItemVisual(n,t+"Rotate"),c=e.getItemVisual(n,t+"Offset"),h=e.getItemVisual(n,t+"KeepAspect"),d=lt.c(r);return o+d+lt.b(c||0,d)+(l||"")+(h||"")}function Ot(t,e,n){var o=e.getItemVisual(n,t);if(o&&"none"!==o){var r=e.getItemVisual(n,t+"Size"),l=e.getItemVisual(n,t+"Rotate"),c=e.getItemVisual(n,t+"Offset"),h=e.getItemVisual(n,t+"KeepAspect"),d=lt.c(r),f=lt.b(c||0,d),m=lt.a(o,-d[0]/2+f[0],-d[1]/2+f[1],d[0],d[1],null,h);return m.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,m.name=t,m}}function Mt(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var wt=function(t){function e(e,n,o){var r=t.call(this)||this;return r._createLine(e,n,o),r}return Object(_.a)(e,t),e.prototype._createLine=function(t,e,n){var o=t.hostModel,line=function(t){var line=new vt({name:"line",subPixelOptimize:!0});return Mt(line.shape,t),line}(t.getItemLayout(e));line.shape.percent=0,yt.a(line,{shape:{percent:1}},o,e),this.add(line),Object(v.k)(_t,function(n){var symbol=Ot(n,t,e);this.add(symbol),this[xt(n)]=St(n,t,e)},this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var o=t.hostModel,line=this.childOfName("line"),r=t.getItemLayout(e),l={shape:{}};Mt(l.shape,r),yt.f(line,l,o,e),Object(v.k)(_t,function(n){var o=St(n,t,e),r=xt(n);if(this[r]!==o){this.remove(this.childOfName(n));var symbol=Ot(n,t,e);this.add(symbol)}this[r]=o},this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var o=t.hostModel,line=this.childOfName("line"),r=n&&n.emphasisLineStyle,l=n&&n.blurLineStyle,c=n&&n.selectLineStyle,h=n&&n.labelStatesModels,d=n&&n.emphasisDisabled,f=n&&n.focus,m=n&&n.blurScope;if(!n||t.hasItemOption){var y=t.getItemModel(e),_=y.getModel("emphasis");r=_.getModel("lineStyle").getLineStyle(),l=y.getModel(["blur","lineStyle"]).getLineStyle(),c=y.getModel(["select","lineStyle"]).getLineStyle(),d=_.get("disabled"),f=_.get("focus"),m=_.get("blurScope"),h=Object(bt.d)(y)}var x=t.getItemVisual(e,"style"),S=x.stroke;line.useStyle(x),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=r,line.ensureState("blur").style=l,line.ensureState("select").style=c,Object(v.k)(_t,function(t){var symbol=this.childOfName(t);if(symbol){symbol.setColor(S),symbol.style.opacity=x.opacity;for(var i=0;i<Y.g.length;i++){var e=Y.g[i],n=line.getState(e);if(n){var o=n.style||{},r=symbol.ensureState(e),l=r.style||(r.style={});null!=o.stroke&&(l[symbol.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(l.opacity=o.opacity)}}symbol.markRedraw()}},this);var O=o.getRawValue(e);Object(bt.f)(this,h,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return o.getFormattedLabel(e,n,t.dataType)}},inheritColor:S||"#000",defaultOpacity:x.opacity,defaultText:(null==O?t.getName(e):isFinite(O)?Object(T.s)(O):O)+""});var label=this.getTextContent();if(label){var M=h.normal;label.__align=label.style.align,label.__verticalAlign=label.style.verticalAlign,label.__position=M.get("position")||"middle";var w=M.get("distance");Object(v.t)(w)||(w=[w,w]),label.__labelDistance=w}this.setTextConfig({position:null,local:!0,inside:!1}),Object(Y.I)(this,f,m,d)},e.prototype.highlight=function(){Object(Y.q)(this)},e.prototype.downplay=function(){Object(Y.B)(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");Mt(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),label=t.getTextContent();if(e||n||label&&!label.ignore){for(var o=1,r=this.parent;r;)r.scaleX&&(o/=r.scaleX),r=r.parent;var line=t.childOfName("line");if(this.__dirty||line.__dirty){var l=line.shape.percent,c=line.pointAt(0),h=line.pointAt(l),d=st.l([],h,c);if(st.j(d,d),e&&(e.setPosition(c),A(e,0),e.scaleX=e.scaleY=o*l,e.markRedraw()),n&&(n.setPosition(h),A(n,1),n.scaleX=n.scaleY=o*l,n.markRedraw()),label&&!label.ignore){label.x=label.y=0,label.originX=label.originY=0;var f=void 0,m=void 0,v=label.__labelDistance,y=v[0]*o,_=v[1]*o,x=l/2,S=line.tangentAt(x),O=[S[1],-S[0]],M=line.pointAt(x);O[1]>0&&(O[0]=-O[0],O[1]=-O[1]);var w=S[0]<0?-1:1;if("start"!==label.__position&&"end"!==label.__position){var I=-Math.atan2(S[1],S[0]);h[0]<c[0]&&(I=Math.PI+I),label.rotation=I}var j=void 0;switch(label.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":j=-_,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":j=_,m="top";break;default:j=0,m="middle"}switch(label.__position){case"end":label.x=d[0]*y+h[0],label.y=d[1]*_+h[1],f=d[0]>.8?"left":d[0]<-.8?"right":"center",m=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":label.x=-d[0]*y+c[0],label.y=-d[1]*_+c[1],f=d[0]>.8?"right":d[0]<-.8?"left":"center",m=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":label.x=y*w+c[0],label.y=c[1]+j,f=S[0]<0?"right":"left",label.originX=-y*w,label.originY=-j;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":label.x=M[0],label.y=M[1]+j,f="center",label.originY=-j;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":label.x=-y*w+h[0],label.y=h[1]+j,f=S[0]>=0?"right":"left",label.originX=y*w,label.originY=-j}label.scaleX=label.scaleY=o,label.setStyle({verticalAlign:label.__verticalAlign||m,align:label.__align||f})}}}function A(symbol,t){var e=symbol.__specifiedRotation;if(null==e){var n=line.tangentAt(t);symbol.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else symbol.attr("rotation",e)}},e}(at.a);function It(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Object(bt.d)(e)}}function jt(t){return isNaN(t[0])||isNaN(t[1])}function At(t){return t&&!jt(t[0])&&!jt(t[1])}var Dt=function(){function t(t){this.group=new at.a,this._LineCtor=t||wt}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,o=n.group,r=n._lineData;n._lineData=t,r||o.removeAll();var l=It(t);t.diff(r).add(function(n){e._doAdd(t,n,l)}).update(function(n,o){e._doUpdate(r,t,o,n,l)}).remove(function(t){o.remove(r.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=It(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=t.start;o<t.end;o++){if(At(e.getItemLayout(o))){var r=new this._LineCtor(e,o,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(o,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){ot.traverseElements(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(At(t.getItemLayout(e))){var o=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,o),this.group.add(o)}},t.prototype._doUpdate=function(t,e,n,o,r){var l=t.getItemGraphicEl(n);At(e.getItemLayout(o))?(l?l.updateData(e,o,r):l=new this._LineCtor(e,o,r),e.setItemGraphicEl(o,l),this.group.add(l)):this.group.remove(l)},t}(),kt=n(450),Lt=Object(M.n)(),Ct=function(t,e,n,o){var r,data=t.getData();if(Object(v.t)(o))r=o;else{var l=o.type;if("min"===l||"max"===l||"average"===l||"median"===l||null!=o.xAxis||null!=o.yAxis){var c=void 0,h=void 0;if(null!=o.yAxis||null!=o.xAxis)c=e.getAxis(null!=o.yAxis?"y":"x"),h=Object(v.M)(o.yAxis,o.xAxis);else{var d=B(o,data,e,t);c=d.valueAxis,h=F(data,Object(P.b)(data,d.valueDataDim),l)}var f="x"===c.dim?0:1,m=1-f,y=Object(v.d)(o),_={coord:[]};y.type=null,y.coord=[],y.coord[m]=-1/0,_.coord[m]=1/0;var x=n.get("precision");x>=0&&Object(v.z)(h)&&(h=+h.toFixed(Math.min(x,20))),y.coord[f]=_.coord[f]=h,r=[y,_,{type:l,valueIndex:o.valueIndex,value:h}]}else r=[]}var S=[H(t,r[0]),H(t,r[1]),Object(v.m)({},r[2])];return S[2].type=S[2].type||null,Object(v.H)(S[2],S[0]),Object(v.H)(S[2],S[1]),S};function Tt(t){return!isNaN(t)&&!isFinite(t)}function Vt(t,e,n,o){var r=1-t,l=o.dimensions[t];return Tt(e[r])&&Tt(n[r])&&e[t]===n[t]&&o.getAxis(l).containData(e[t])}function Pt(t,e){if("cartesian2d"===t.type){var n=e[0].coord,o=e[1].coord;if(n&&o&&(Vt(1,n,o,t)||Vt(0,n,o,t)))return!0}return G(t,e[0])&&G(t,e[1])}function zt(data,t,e,n,o){var r,l=n.coordinateSystem,c=data.getItemModel(t),h=T.n(c.get("x"),o.getWidth()),d=T.n(c.get("y"),o.getHeight());if(isNaN(h)||isNaN(d)){if(n.getMarkerPosition)r=n.getMarkerPosition(data.getValues(data.dimensions,t));else{var f=l.dimensions,m=data.get(f[0],t),v=data.get(f[1],t);r=l.dataToPoint([m,v])}if(Object(kt.a)(l,"cartesian2d")){var y=l.getAxis("x"),_=l.getAxis("y");f=l.dimensions;Tt(data.get(f[0],t))?r[0]=y.toGlobalCoord(y.getExtent()[e?0:1]):Tt(data.get(f[1],t))&&(r[1]=_.toGlobalCoord(_.getExtent()[e?0:1]))}isNaN(h)||(r[0]=h),isNaN(d)||(r[1]=d)}else r=[h,d];data.setItemLayout(t,r)}var Rt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=D.getMarkerModelFromSeries(t,"markLine");if(e){var o=e.getData(),r=Lt(e).from,l=Lt(e).to;r.each(function(e){zt(r,e,!0,t,n),zt(l,e,!1,t,n)}),o.each(function(t){o.setItemLayout(t,[r.getItemLayout(t),l.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,e,n,o){var r=t.coordinateSystem,l=t.id,c=t.getData(),h=this.markerGroupMap,d=h.get(l)||h.set(l,new Dt);this.group.add(d.group);var f=function(t,e,n){var o;o=t?Object(v.G)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(v.m)(Object(v.m)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new V.a(o,n),l=new V.a(o,n),c=new V.a([],n),h=Object(v.G)(n.get("data"),Object(v.h)(Ct,e,t,n));t&&(h=Object(v.n)(h,Object(v.h)(Pt,t)));var d=Z(!!t,o);return r.initData(Object(v.G)(h,function(t){return t[0]}),null,d),l.initData(Object(v.G)(h,function(t){return t[1]}),null,d),c.initData(Object(v.G)(h,function(t){return t[2]})),c.hasItemOption=!0,{from:r,to:l,line:c}}(r,t,e),m=f.from,y=f.to,_=f.line;Lt(e).from=m,Lt(e).to=y,e.setData(_);var x=e.get("symbol"),S=e.get("symbolSize"),O=e.get("symbolRotate"),M=e.get("symbolOffset");function w(data,e,n){var r=data.getItemModel(e);zt(data,e,n,t,o);var style=r.getModel("itemStyle").getItemStyle();null==style.fill&&(style.fill=Object($.b)(c,"color")),data.setItemVisual(e,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:Object(v.N)(r.get("symbolOffset",!0),M[n?0:1]),symbolRotate:Object(v.N)(r.get("symbolRotate",!0),O[n?0:1]),symbolSize:Object(v.N)(r.get("symbolSize"),S[n?0:1]),symbol:Object(v.N)(r.get("symbol",!0),x[n?0:1]),style:style})}Object(v.t)(x)||(x=[x,x]),Object(v.t)(S)||(S=[S,S]),Object(v.t)(O)||(O=[O,O]),Object(v.t)(M)||(M=[M,M]),f.from.each(function(t){w(m,t,!0),w(y,t,!1)}),_.each(function(t){var e=_.getItemModel(t).getModel("lineStyle").getLineStyle();_.setItemLayout(t,[m.getItemLayout(t),y.getItemLayout(t)]),null==e.stroke&&(e.stroke=m.getItemVisual(t,"style").fill),_.setItemVisual(t,{fromSymbolKeepAspect:m.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(t,"symbolOffset"),fromSymbolRotate:m.getItemVisual(t,"symbolRotate"),fromSymbolSize:m.getItemVisual(t,"symbolSize"),fromSymbol:m.getItemVisual(t,"symbol"),toSymbolKeepAspect:y.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:y.getItemVisual(t,"symbolOffset"),toSymbolRotate:y.getItemVisual(t,"symbolRotate"),toSymbolSize:y.getItemVisual(t,"symbolSize"),toSymbol:y.getItemVisual(t,"symbol"),style:e})}),d.updateData(_),f.line.eachItemGraphicEl(function(t){Object(J.a)(t).dataModel=e,t.traverse(function(t){Object(J.a)(t).dataModel=e})}),this.markKeep(d),d.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(U);var Nt=Rt;var Et=n(542),Ht=["x","y","radius","angle","single"],Bt=["cartesian2d","polar","singleAxis"];function Gt(t){return t+"Axis"}function Zt(t,e){var n,o=Object(v.f)(),r=[],l=Object(v.f)();t.eachComponent({mainType:"dataZoom",query:e},function(t){l.get(t.uid)||h(t)});do{n=!1,t.eachComponent("dataZoom",c)}while(n);function c(t){!l.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis(function(t,n){var r=o.get(t);r&&r[n]&&(e=!0)}),e}(t)&&(h(t),n=!0)}function h(t){l.set(t.uid,!0),r.push(t),t.eachTargetAxis(function(t,e){(o.get(t)||o.set(t,[]))[e]=!0})}return r}function Ft(t){var e=t.ecModel,n={infoList:[],infoMap:Object(v.f)()};return t.eachTargetAxis(function(t,o){var r=e.getComponent(Gt(t),o);if(r){var l=r.getCoordSysModel();if(l){var c=l.uid,h=n.infoMap.get(c);h||(h={model:l,axisModels:[]},n.infoList.push(h),n.infoMap.set(c,h)),h.axisModels.push(r)}}}),n}var Wt=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),Yt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(_.a)(e,t),e.prototype.init=function(option,t,e){var n=Xt(option);this.settledOption=n,this.mergeDefaultAndTheme(option,e),this._doInit(n)},e.prototype.mergeOption=function(t){var e=Xt(t);Object(v.H)(this.option,t,!0),Object(v.H)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(v.k)([["start","startValue"],["end","endValue"]],function(t,o){"value"===this._rangePropMode[o]&&(e[t[0]]=n[t[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(v.f)();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(v.k)(Ht,function(n){var o=this.getReferringComponents(Gt(n),M.a);if(o.specified){e=!0;var r=new Wt;Object(v.k)(o.models,function(t){r.add(t.componentIndex)}),t.set(n,r)}},this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,o=!0;if(o){var r="vertical"===e?"y":"x";l(n.findComponents({mainType:r+"Axis"}),r)}o&&l(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function l(e,n){var r=e[0];if(r){var l=new Wt;if(l.add(r.componentIndex),t.set(n,l),o=!1,"x"===n||"y"===n){var c=r.getReferringComponents("grid",M.b).models[0];c&&Object(v.k)(e,function(t){r.componentIndex!==t.componentIndex&&c===t.getReferringComponents("grid",M.b).models[0]&&l.add(t.componentIndex)})}}}o&&Object(v.k)(Ht,function(e){if(o){var r=n.findComponents({mainType:Gt(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var l=new Wt;l.add(r[0].componentIndex),t.set(e,l),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(v.k)([["start","startValue"],["end","endValue"]],function(o,r){var l=null!=t[o[0]],c=null!=t[o[1]];l&&!c?e[r]="percent":!l&&c?e[r]="value":n?e[r]=n[r]:l&&(e[r]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,n){null==t&&(t=this.ecModel.getComponent(Gt(e),n))},this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(n,o){Object(v.k)(n.indexList,function(n){t.call(e,o,n)})})},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(Gt(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(v.k)([["start","startValue"],["end","endValue"]],function(o){null==t[o[0]]&&null==t[o[1]]||(e[o[0]]=n[o[0]]=t[o[0]],e[o[1]]=n[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var option=this.option;Object(v.k)(["start","startValue","end","endValue"],function(e){option[e]=t[e]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],r=this._targetAxisInfoMap.get(o),l=0;l<r.indexList.length;l++){var c=this.getAxisProxy(o,r.indexList[l]);if(c.hostedBy(this))return c;e||(e=c)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(O.a);function Xt(option){var t={};return Object(v.k)(["start","end","startValue","endValue","throttle"],function(e){option.hasOwnProperty(e)&&(t[e]=option[e])}),t}var Kt=Yt,component=n(439),Ut=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.type="dataZoom.inside",e.defaultOption=Object(component.d)(Kt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Kt),Jt=Ut,qt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.prototype.render=function(t,e,n,o){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(W.a),$t=qt,Qt=n(435),te=n(496),ee=n(485),ie=Object(M.n)();function ne(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function ae(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function oe(t,e,n,o){return t.coordinateSystem.containPoint([n,o])}function re(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=ie(e),o=n.coordSysRecordMap||(n.coordSysRecordMap=Object(v.f)());o.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){var n=Ft(t);Object(v.k)(n.infoList,function(n){var r=n.model.uid,l=o.get(r)||o.set(r,function(t,e){var n={model:e,containsPoint:Object(v.h)(oe,e),dispatchAction:Object(v.h)(ae,t),dataZoomInfoMap:null,controller:null},o=n.controller=new te.a(t.getZr());return Object(v.k)(["pan","zoom","scrollMove"],function(t){o.on(t,function(e){var o=[];n.dataZoomInfoMap.each(function(r){if(e.isAvailableBehavior(r.model.option)){var l=(r.getRange||{})[t],c=l&&l(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get("disabled",!0)&&c&&o.push({dataZoomId:r.model.id,start:c[0],end:c[1]})}}),o.length&&n.dispatchAction(o)})}),n}(e,n.model));(l.dataZoomInfoMap||(l.dataZoomInfoMap=Object(v.f)())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})})}),o.each(function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var l=r.keys()[0];null!=l&&(e=r.get(l))}if(e){var c=function(t){var e,n="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each(function(t){var l=t.model,c=!l.get("disabled",!0)&&(!l.get("zoomLock",!0)||"move");o[n+c]>o[n+e]&&(e=c),r=r&&l.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);n.enable(c.controlType,c.opt),n.setPointerChecker(t.containsPoint),ee.b(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else ne(o,t)})})}var se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(_.a)(e,t),e.prototype.render=function(e,n,o){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(t,e,n){ie(t).coordSysRecordMap.each(function(t){var o=t.dataZoomInfoMap.get(e.uid);o&&(o.getRange=n)})}(o,e,{pan:Object(v.c)(le.pan,this),zoom:Object(v.c)(le.zoom,this),scrollMove:Object(v.c)(le.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=ie(t).coordSysRecordMap,o=n.keys(),i=0;i<o.length;i++){var r=o[i],l=n.get(r),c=l.dataZoomInfoMap;if(c){var h=e.uid;c.get(h)&&(c.removeKey(h),c.keys().length||ne(n,l))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}($t),le={zoom:function(t,e,n,o){var r=this.range,l=r.slice(),c=t.axisModels[0];if(c){var h=ce[e](null,[o.originX,o.originY],c,n,t),d=(h.signal>0?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(l[1]-l[0])+l[0],f=Math.max(1/o.scale,0);l[0]=(l[0]-d)*f+d,l[1]=(l[1]-d)*f+d;var m=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Object(Qt.a)(0,l,[0,100],0,m.minSpan,m.maxSpan),this.range=l,r[0]!==l[0]||r[1]!==l[1]?l:void 0}},pan:ue(function(t,e,n,o,r,l){var c=ce[o]([l.oldX,l.oldY],[l.newX,l.newY],e,r,n);return c.signal*(t[1]-t[0])*c.pixel/c.pixelLength}),scrollMove:ue(function(t,e,n,o,r,l){return ce[o]([0,0],[l.scrollDelta,l.scrollDelta],e,r,n).signal*(t[1]-t[0])*l.scrollDelta})};function ue(t){return function(e,n,o,r){var l=this.range,c=l.slice(),h=e.axisModels[0];if(h){var d=t(c,h,e,n,o,r);return Object(Qt.a)(d,c,[0,100],"all"),this.range=c,l[0]!==c[0]||l[1]!==c[1]?c:void 0}}}var ce={grid:function(t,e,n,o,r){var l=n.axis,c={},rect=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===l.dim?(c.pixel=e[0]-t[0],c.pixelLength=rect.width,c.pixelStart=rect.x,c.signal=l.inverse?1:-1):(c.pixel=e[1]-t[1],c.pixelLength=rect.height,c.pixelStart=rect.y,c.signal=l.inverse?-1:1),c},polar:function(t,e,n,o,r){var l=n.axis,c={},h=r.model.coordinateSystem,d=h.getRadiusAxis().getExtent(),f=h.getAngleAxis().getExtent();return t=t?h.pointToCoord(t):[0,0],e=h.pointToCoord(e),"radiusAxis"===n.mainType?(c.pixel=e[0]-t[0],c.pixelLength=d[1]-d[0],c.pixelStart=d[0],c.signal=l.inverse?1:-1):(c.pixel=e[1]-t[1],c.pixelLength=f[1]-f[0],c.pixelStart=f[0],c.signal=l.inverse?-1:1),c},singleAxis:function(t,e,n,o,r){var l=n.axis,rect=r.model.coordinateSystem.getRect(),c={};return t=t||[0,0],"horizontal"===l.orient?(c.pixel=e[0]-t[0],c.pixelLength=rect.width,c.pixelStart=rect.x,c.signal=l.inverse?1:-1):(c.pixel=e[1]-t[1],c.pixelLength=rect.height,c.pixelStart=rect.y,c.signal=l.inverse?-1:1),c}},he=se,pe=n(509),de=n(536),fe=v.k,ge=T.c;var me=function(){function t(t,e,n,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(t){var e=t.get("coordinateSystem");return Object(v.r)(Bt,e)>=0}(e)){var n=Gt(this._dimName),o=e.getReferringComponents(n,M.b).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return v.d(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,o=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),l=[0,100],c=[],h=[];fe(["start","end"],function(d,f){var m=t[d],v=t[d+"Value"];"percent"===r[f]?(null==m&&(m=l[f]),v=o.parse(T.j(m,l,n))):(e=!0,v=null==v?n[f]:o.parse(v),m=T.j(v,n,l)),h[f]=null==v||isNaN(v)?n[f]:v,c[f]=null==m||isNaN(m)?l[f]:m}),ge(h),ge(c);var d=this._minMaxSpan;function f(t,e,n,r,l){var c=l?"Span":"ValueSpan";Object(Qt.a)(0,t,n,"all",d["min"+c],d["max"+c]);for(var i=0;i<2;i++)e[i]=T.j(t[i],n,r,!0),l&&(e[i]=o.parse(e[i]))}return e?f(h,c,n,l,!1):f(c,h,l,n,!0),{valueWindow:h,percentWindow:c}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var o=[1/0,-1/0];fe(n,function(t){Object(pe.k)(o,t.getData(),e)});var r=t.getAxisModel(),l=Object(de.a)(r.axis.scale,r,o).calculate();return[l.min,l.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),r=t.get("filterMode"),l=this._valueWindow;"none"!==r&&fe(o,function(t){var e=t.getData(),o=e.mapDimensionsAll(n);if(o.length){if("weakFilter"===r){var c=e.getStore(),h=v.G(o,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){for(var e,n,r,i=0;i<o.length;i++){var d=c.get(h[i],t),f=!isNaN(d),m=d<l[0],v=d>l[1];if(f&&!m&&!v)return!0;f&&(r=!0),m&&(e=!0),v&&(n=!0)}return r&&e&&n})}else fe(o,function(n){if("empty"===r)t.setData(e=e.map(n,function(t){return function(t){return t>=l[0]&&t<=l[1]}(t)?t:NaN}));else{var o={};o[n]=l,e.selectRange(o)}});fe(o,function(t){e.setApproximateExtent(l,t)})}})}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;fe(["min","max"],function(o){var r=e.get(o+"Span"),l=e.get(o+"ValueSpan");null!=l&&(l=this.getAxisModel().axis.scale.parse(l)),null!=l?r=T.j(n[0]+l,n,[0,100],!0):null!=r&&(l=T.j(r,[0,100],n,!0)-n[0]),t[o+"Span"]=r,t[o+"ValueSpan"]=l},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var o=T.e(n,[0,500]);o=Math.min(o,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(o)),100!==e[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(o)),r.freeze()}},t}(),ve={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,r){var l=t.getComponent(Gt(o),r);e(o,r,l,n)})})}e(function(t,e,n,o){n.__dzAxisProxy=null});var n=[];e(function(e,o,r,l){r.__dzAxisProxy||(r.__dzAxisProxy=new me(e,o,l,t),n.push(r.__dzAxisProxy))});var o=Object(v.f)();return Object(v.k)(n,function(t){Object(v.k)(t.getTargetSeriesModels(),function(t){o.set(t.uid,t)})}),o},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).reset(t)}),t.eachTargetAxis(function(n,o){t.getAxisProxy(n,o).filterData(t,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),o=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]})}})}};var ye=!1;function be(t){ye||(ye=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,ve),function(t){t.registerAction("dataZoom",function(t,e){var n=Zt(e,t);Object(v.k)(n,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function _e(t){be(t),t.registerComponentModel(Jt),t.registerComponentView(he),re(t)}var xe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_.a)(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Object(component.d)(Kt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Kt),Se=xe,Oe=n(449),Me=n(714),we=n(727),Ie=n(728),je=n(541),Ae=n(630),De=n(434),ke=Me.a,Le="horizontal",Ce="vertical",Te=["line","bar","candlestick","scatter"],Ve={easing:"cubicOut",duration:100,delay:0},Pe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Object(_.a)(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(v.c)(this._onBrush,this),this._onBrushEnd=Object(v.c)(this._onBrushEnd,this)},e.prototype.render=function(e,n,o,r){if(t.prototype.render.apply(this,arguments),ee.b(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ee.a(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new at.a;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,o=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},l=this._orient===Le?{right:r.width-o.x-o.width,top:r.height-30-7-n,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},c=De.d(t.option);Object(v.k)(["right","top","width","height"],function(t){"ph"===c[t]&&(c[t]=l[t])});var h=De.e(c,r);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===Ce&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),r=o&&o.get("inverse"),l=this._displayables.sliderGroup,c=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(n!==Le||r?n===Le&&r?{scaleY:c?1:-1,scaleX:-1}:n!==Ce||r?{scaleY:c?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:c?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:c?1:-1,scaleX:1});var rect=t.getBoundingRect([l]);t.x=e.x-rect.x,t.y=e.y-rect.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,o=t.get("brushSelect");n.add(new ke({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var r=new ke({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(v.c)(this._onClickPanel,this)}),l=this.api.getZr();o?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],o=t.series,data=o.getRawData(),r=o.getShadowDim&&o.getShadowDim(),l=r&&data.getDimensionInfo(r)?o.getShadowDim():t.otherDim;if(null!=l){var c=this._shadowPolygonPts,h=this._shadowPolylinePts;if(data!==this._shadowData||l!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var d=data.getDataExtent(l),f=.3*(d[1]-d[0]);d=[d[0]-f,d[1]+f];var m,v=[0,e[1]],y=[0,e[0]],_=[[e[0],0],[0,0]],x=[],S=y[1]/(data.count()-1),O=0,M=Math.round(data.count()/e[0]);data.each([l],function(t,e){if(M>0&&e%M)O+=S;else{var n=null==t||isNaN(t)||""===t,o=n?0:Object(T.j)(t,d,v,!0);n&&!m&&e?(_.push([_[_.length-1][0],0]),x.push([x[x.length-1][0],0])):!n&&m&&(_.push([O,0]),x.push([O,0])),_.push([O,o]),x.push([O,o]),O+=S,m=n}}),c=this._shadowPolygonPts=_,h=this._shadowPolylinePts=x}this._shadowData=data,this._shadowDim=l,this._shadowSize=[e[0],e[1]];for(var w=this.dataZoomModel,i=0;i<3;i++){var I=j(1===i);this._displayables.sliderGroup.add(I),this._displayables.dataShadowSegs.push(I)}}}function j(t){var e=w.getModel(t?"selectedDataBackground":"dataBackground"),n=new at.a,polygon=new we.a({shape:{points:c},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),polyline=new Ie.a({shape:{points:h},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(polygon),n.add(polyline),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,o=this.ecModel;return t.eachTargetAxis(function(r,l){var c=t.getAxisProxy(r,l).getTargetSeriesModels();Object(v.k)(c,function(t){if(!(n||!0!==e&&Object(v.r)(Te,t.get("type"))<0)){var c,h=o.getComponent(Gt(r),l).axis,d={x:"y",y:"x",radius:"angle",angle:"radius"}[r],f=t.coordinateSystem;null!=d&&f.getOtherAxis&&(c=f.getOtherAxis(h).inverse),d=t.getData().mapDimension(d),n={thisAxis:h,series:t,thisDim:r,otherDim:d,otherAxisInverse:c}}},this)},this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],o=e.handleLabels=[null,null],r=this._displayables.sliderGroup,l=this._size,c=this.dataZoomModel,h=this.api,d=c.get("borderRadius")||0,f=c.get("brushSelect"),m=e.filler=new ke({silent:f,style:{fill:c.get("fillerColor")},textConfig:{position:"inside"}});r.add(m),r.add(new ke({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:d},style:{stroke:c.get("dataBackgroundColor")||c.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Object(v.k)([0,1],function(e){var l=c.get("handleIcon");!lt.d[l]&&l.indexOf("path://")<0&&l.indexOf("image://")<0&&(l="path://"+l);var path=Object(lt.a)(l,-1,0,2,2,null,!0);path.attr({cursor:ze(this._orient),draggable:!0,drift:Object(v.c)(this._onDragMove,this,e),ondragend:Object(v.c)(this._onDragEnd,this),onmouseover:Object(v.c)(this._showDataInfo,this,!0),onmouseout:Object(v.c)(this._showDataInfo,this,!1),z2:5});var h=path.getBoundingRect(),d=c.get("handleSize");this._handleHeight=Object(T.n)(d,this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,path.setStyle(c.getModel("handleStyle").getItemStyle()),path.style.strokeNoScale=!0,path.rectHover=!0,path.ensureState("emphasis").style=c.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Y.n)(path);var f=c.get("handleColor");null!=f&&(path.style.fill=f),r.add(n[e]=path);var m=c.getModel("textStyle"),y=(c.get("handleLabel")||{}).show||!1;t.add(o[e]=new je.a({silent:!0,invisible:!y,style:Object(bt.b)(m,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:m.getTextColor(),font:m.getFont()}),z2:10}))},this);var y=m;if(f){var _=Object(T.n)(c.get("moveHandleSize"),l[1]),x=e.moveHandle=new Me.a({style:c.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:_}}),S=.8*_,O=e.moveHandleIcon=Object(lt.a)(c.get("moveHandleIcon"),-S/2,-S/2,S,S,"#fff",!0);O.silent=!0,O.y=l[1]+_/2-.5,x.ensureState("emphasis").style=c.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(l[1]/2,Math.max(_,10));(y=e.moveZone=new Me.a({invisible:!0,shape:{y:l[1]-M,height:_+M}})).on("mouseover",function(){h.enterEmphasis(x)}).on("mouseout",function(){h.leaveEmphasis(x)}),r.add(x),r.add(O),r.add(y)}y.attr({draggable:!0,cursor:ze(this._orient),drift:Object(v.c)(this._onDragMove,this,"all"),ondragstart:Object(v.c)(this._showDataInfo,this,!0),ondragend:Object(v.c)(this._onDragEnd,this),onmouseover:Object(v.c)(this._showDataInfo,this,!0),onmouseout:Object(v.c)(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Object(T.j)(t[0],[0,100],e,!0),Object(T.j)(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,o=this._handleEnds,r=this._getViewExtent(),l=n.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];Object(Qt.a)(e,o,r,n.get("zoomLock")?"all":t,null!=l.minSpan?Object(T.j)(l.minSpan,c,r,!0):null,null!=l.maxSpan?Object(T.j)(l.maxSpan,c,r,!0):null);var h=this._range,d=this._range=Object(T.c)([Object(T.j)(o[0],r,c,!0),Object(T.j)(o[1],r,c,!0)]);return!h||h[0]!==d[0]||h[1]!==d[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,o=Object(T.c)(n.slice()),r=this._size;Object(v.k)([0,1],function(t){var o=e.handles[t],l=this._handleHeight;o.attr({scaleX:l/2,scaleY:l/2,x:n[t]+(t?-1:1),y:r[1]/2-l/2})},this),e.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:r[1]});var l={x:o[0],width:o[1]-o[0]};e.moveHandle&&(e.moveHandle.setShape(l),e.moveZone.setShape(l),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",l.x+l.width/2));for(var c=e.dataShadowSegs,h=[0,o[0],o[1],r[0]],i=0;i<c.length;i++){var d=c[i],f=d.getClipPath();f||(f=new Me.a,d.setClipPath(f)),f.setShape({x:h[i],y:0,width:h[i+1]-h[i],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,o=n.handleLabels,r=this._orient,l=["",""];if(e.get("showDetail")){var c=e.findRepresentativeAxisProxy();if(c){var h=c.getAxisModel().axis,d=this._range,f=t?c.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:c.getDataValueWindow();l=[this._formatLabel(f[0],h),this._formatLabel(f[1],h)]}}var m=Object(T.c)(this._handleEnds.slice());function v(t){var e=ot.getTransform(n.handles[t].parent,this.group),c=ot.transformDirection(0===t?"right":"left",e),h=this._handleWidth/2+5,d=ot.applyTransform([m[t]+(0===t?-h:h),this._size[1]/2],e);o[t].setStyle({x:d[0],y:d[1],verticalAlign:r===Le?"middle":c,align:r===Le?c:"center",text:l[t]})}v.call(this,0),v.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,o=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var l=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return Object(v.w)(o)?o(t,l):Object(v.B)(o)?o.replace("{value}",l):l},e.prototype._showDataInfo=function(t){var e=(this.dataZoomModel.get("handleLabel")||{}).show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,o=t||this._dragging?n:e,r=this._displayables,l=r.handleLabels;l[0].attr("invisible",!o),l[1].attr("invisible",!o),r.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,o){this._dragging=!0,Oe.g(o.event);var r=this._displayables.sliderGroup.getLocalTransform(),l=ot.applyTransform([e,n],r,!0),c=this._updateInterval(t,l[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),c&&h&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var o=this._handleEnds,r=(o[0]+o[1])/2,l=this._updateInterval("all",n[0]-r);this._updateView(),l&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Ae.a(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),r=[0,100];this._range=Object(T.c)([Object(T.j)(n.x,o,r,!0),Object(T.j)(n.x+n.width,o,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Oe.g(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,o=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new ke({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var l=this._brushStart,c=this._displayables.sliderGroup,h=c.transformCoordToLocal(t,e),d=c.transformCoordToLocal(l.x,l.y),f=this._size;h[0]=Math.max(Math.min(f[0],h[0]),0),r.setShape({x:d[0],y:0,width:h[0]-d[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Ve:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var rect,t=Ft(this.dataZoomModel).infoList;if(!rect&&t.length){var e=t[0].model.coordinateSystem;rect=e.getRect&&e.getRect()}if(!rect){var n=this.api.getWidth(),o=this.api.getHeight();rect={x:.2*n,y:.2*o,width:.6*n,height:.6*o}}return rect},e.type="dataZoom.slider",e}($t);function ze(t){return"vertical"===t?"ns-resize":"ew-resize"}var Re=Pe;function Ne(t){t.registerComponentModel(Se),t.registerComponentView(Re),be(t)}Object(r.a)([c.a,d.a,f.a,h.a,m.a,function(t){t.registerComponentModel(L),t.registerComponentView(et),t.registerPreprocessor(function(t){y(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})},function(t){t.registerComponentModel(nt),t.registerComponentView(Nt),t.registerPreprocessor(function(t){y(t.series,"markLine")&&(t.markLine=t.markLine||{})})},Et.a,function(t){Object(r.a)(_e),Object(r.a)(Ne)}]);var Ee=Object(o.b)({name:"CumulativeReturnChart",props:{values:{type:Array,default:function(){return[[1,2,3,4]]}},index:{type:Array,default:function(){return["2020-01-01","2020-02-01","2020-03-01","2020-04-01"]}},benchmark:{type:Array,default:function(){return null}},height:{type:String,default:"300px"},valueName:{type:Array,default:function(){return[""]}},benchmarkName:{type:String,default:""},fill:{type:Boolean,default:!0},secondaryBenchmark:{type:Boolean,default:!1},visualMap:{type:Object,default:function(){return null}},livePerformanceUpdate:{default:function(){return null}},maxSamples:{type:Number,default:100},dataZoom:{type:Object,default:function(){return null}},colors:{type:Array,default:function(){return["#37459c","#eb7e26","#14b363"]}}},data:function(){var t={animation:!1,type:"value",scale:!0,axisLabel:{formatter:"{value}%",inside:!0},show:!0,minorTick:{show:!1},minorSplitLine:{show:!1},axisTick:{show:!0,inside:!0},axisLine:{show:!1},splitLine:{show:!1},position:"right"},e=t;return this.secondaryBenchmark&&((e=[JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(t))])[0].position="right",e[0].axisLabel.formatter=null,e[0].axisLabel.inside=!0,e[1].position="left",e[1].axisLabel.inside=!0),{chartInstance:null,resizeObserver:null,chartOption:{visualMap:this.visualMap,dataZoom:this.dataZoom,legend:{bottom:80,left:5,orient:"vertical",show:!this.secondaryBenchmark},grid:{left:0,right:0,top:"12px",bottom:"20px"},xAxis:{type:"time",animation:!1,name:"",minorTick:{show:!1},minorSplitLine:{show:!1},axisLine:{lineStyle:{color:"#aaa"}},axisLabel:{inside:!0},inverval:1},yAxis:e,series:[],backgroundColor:"transparent"}}},watch:{index:{handler:"updateChart",deep:!0},values:{handler:"updateChart",deep:!0},benchmark:{handler:"updateChart",deep:!0}},mounted:function(){var t=this;this.initChart(),this.updateChart(),window.addEventListener("resize",this.resizeChart),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){t.resizeChart()}),this.resizeObserver.observe(this.$refs.chart))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose()},methods:{initChart:function(){this.chartInstance=Object(l.b)(this.$refs.chart,"light")},resizeChart:function(){this.chartInstance&&this.chartInstance.resize()},makeSeriesData:function(t,e,i){var n=this.fill?[{offset:0,color:this.colors[i]+"99"},{offset:1,color:this.colors[i]+"00",alpha:1}]:[],o=this.secondaryBenchmark?null:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:n,global:!1}},r=null,l=null;if(this.livePerformanceUpdate){var c=this.livePerformanceUpdate;e[0][0]>c&&(c=e[0][0]),r={data:[{coord:[c,0],symbol:"circle",symbolSize:10,itemStyle:{color:"#55bd95"},value:"Live",label:{color:"#459979",offset:[-20,0]}}]},l={symbol:"circle",symbolSize:10,itemStyle:{color:"#55bd95"},data:[[{coord:[c,0]},{coord:[e.slice(-1)[0][0],0]}]],lineStyle:{type:"solid",cap:"round",width:3}}}return{name:t,data:e,markPoint:r,markLine:l,animation:!1,zlevel:100,type:"line",smooth:!1,areaStyle:o,itemStyle:{opacity:0},lineStyle:{color:this.secondaryBenchmark?null:this.colors[i]},silent:!0}},updateChart:function(){if(this.chartOption.series=[],this.values&&this.index&&Array.isArray(this.values)&&Array.isArray(this.index)){for(var i in this.values){var t=this.valueName[i],e=this.index,n=this.values[i];if(n&&Array.isArray(n)&&0!==n.length){var o=this.values[i][0],r=Math.max(Math.round(n.length/this.maxSamples),1),data=[];for(var l in e)(l=parseInt(l))%r!==0&&0!==l&&l!==e.length-1||(this.secondaryBenchmark?data.push([e[l],n[l]]):data.push([e[l],n[l]/o*100-100]));var c=this.makeSeriesData(t,data,i);this.chartOption.series.push(c)}}if(void 0!==this.benchmark&&null!==this.benchmark&&Array.isArray(this.benchmark)&&0!==this.benchmark.length){var h=Math.max(Math.round(this.index.length/this.maxSamples),1),d=[];for(var f in this.index)(f=parseInt(f))%h!==0&&f!==this.index.length-1&&0!==f||d.push([this.index[f],100*(this.benchmark[f]/this.benchmark[0]-1)]);this.chartOption.series.push({name:this.benchmarkName,data:d,animation:!1,smooth:!1,type:"line",itemStyle:{color:"#000",borderColor:"#000",opacity:0},lineStyle:{color:"#aaa"},yAxisIndex:this.secondaryBenchmark?1:0,silent:!0}),this.chartInstance&&this.chartInstance.setOption(this.chartOption,!0)}else this.chartInstance&&this.chartInstance.setOption(this.chartOption,!0)}}}}),He=(n(499),n(52)),Be=Object(He.a)(Ee,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{position:"relative"}},[e("div",{staticStyle:{"z-index":"1"}},[e("div",{ref:"chart",staticClass:"chart",style:{height:t.height,width:"100%",zIndex:0}})])])},[],!1,null,"1de21e3e",null);e.default=Be.exports},542:function(t,e,n){"use strict";n.d(e,"a",function(){return Ct});var o=n(451),r=n(423),l=n(422),c={get:function(t,e,n){var o=l.d((h[t]||{})[e]);return n&&l.t(o)?o[o.length-1]:o}},h={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},d=c,f=n(430),m=n(444),v=l.k;function y(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function _(option,t,e){var n={};return v(t,function(t){var o,r=n[t]=((o=function(){}).prototype.__hidden=o.prototype,new o);v(option[t],function(n,o){if(f.a.isValidType(o)){var c={type:o,visual:n};e&&e(c,t),r[o]=new f.a(c),"opacity"===o&&((c=l.d(c)).type="colorAlpha",r.__hidden.__alphaForOpacity=new f.a(c))}})}),n}var x=n(425),S=n(426),O=n(436),M=f.a.mapVisual,w=f.a.eachVisual,I=l.t,j=l.k,A=S.c,D=S.j,k=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(r.a)(e,t),e.prototype.init=function(option,t,e){this.mergeDefaultAndTheme(option,e)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&function(t,e,n){var o;l.k(n,function(t){e.hasOwnProperty(t)&&y(e[t])&&(o=!0)}),o&&l.k(n,function(n){e.hasOwnProperty(n)&&y(e[n])?t[n]=l.d(e[n]):delete t[n]})}(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=l.c(t,this),this.controllerVisuals=_(this.option.controller,e,t),this.targetVisuals=_(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=x.p(t),e},e.prototype.eachTargetSeries=function(t,e){l.k(this.getTargetSeriesIndices(),function(n){var o=this.ecModel.getSeriesByIndex(n);o&&t.call(e,o)},this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},e.prototype.formatValueText=function(t,e,n){var o,option=this.option,r=option.precision,c=this.dataBound,h=option.formatter;n=n||["<",">"],l.t(t)&&(t=t.slice(),o=!0);var d=e?t:o?[f(t[0]),f(t[1])]:f(t);return l.B(h)?h.replace("{value}",o?d[0]:d).replace("{value2}",o?d[1]:d):l.w(h)?o?h(t[0],t[1]):h(t):o?t[0]===c[0]?n[0]+" "+d[1]:t[1]===c[1]?n[1]+" "+d[0]:d[0]+" - "+d[1]:d;function f(t){return t===c[0]?"min":t===c[1]?"max":(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=A([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(data){var t=this.option.dimension;if(null!=t)return data.getDimensionIndex(t);for(var e=data.dimensions,i=e.length-1;i>=0;i--){var n=e[i],o=data.getDimensionInfo(n);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,base={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});l.H(n,base),l.H(o,base);var r=this.isCategory();function c(base){I(e.color)&&!base.inRange&&(base.inRange={color:e.color.slice().reverse()}),base.inRange=base.inRange||{color:t.get("gradientColor")}}c.call(this,n),c.call(this,o),function(base,t,e){var n=base[t],o=base[e];n&&!o&&(o=base[e]={},j(n,function(t,e){if(f.a.isValidType(e)){var n=d.get(e,"inactive",r);null!=n&&(o[e]=n,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}.call(this,n,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get("inactiveColor"),c=this.getItemSymbol()||"roundRect";j(this.stateList,function(h){var d=this.itemSize,f=t[h];f||(f=t[h]={color:r?o:[o]}),null==f.symbol&&(f.symbol=e&&l.d(e)||(r?c:[c])),null==f.symbolSize&&(f.symbolSize=n&&l.d(n)||(r?d[0]:[d[0],d[0]])),f.symbol=M(f.symbol,function(symbol){return"none"===symbol?c:symbol});var m=f.symbolSize;if(null!=m){var v=-1/0;w(m,function(t){t>v&&(v=t)}),f.symbolSize=M(m,function(t){return D(t,[0,v],[0,d[0]],!0)})}},this)}.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(O.a),L=k,component=n(439),C=[20,140],T=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r.a)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=C[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=C[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):l.t(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),l.k(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=S.c((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries(function(n){var o=[],data=n.getData();data.each(this.getDataDimensionIndex(data),function(e,n){t[0]<=e&&e<=t[1]&&o.push(n)},this),e.push({seriesId:n.id,dataIndex:o})},this),e},e.prototype.getVisualMeta=function(t){var e=V(this,"outOfRange",this.getExtent()),n=V(this,"inRange",this.option.range.slice()),o=[];function r(e,n){o.push({value:e,color:t(e,n)})}for(var l=0,c=0,h=n.length,d=e.length;c<d&&(!n.length||e[c]<=n[0]);c++)e[c]<n[l]&&r(e[c],"outOfRange");for(var f=1;l<h;l++,f=0)f&&o.length&&r(n[l],"outOfRange"),r(n[l],"inRange");for(f=1;c<d;c++)(!n.length||n[n.length-1]<e[c])&&(f&&(o.length&&r(o[o.length-1].value,"outOfRange"),f=0),r(e[c],"outOfRange"));var m=o.length;return{stops:o,outerColors:[m?o[0].color:"transparent",m?o[m-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Object(component.d)(L.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(L);function V(t,e,n){if(n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/200,r=n[0],l=[],i=0;i<=200&&r<n[1];i++)l.push(r),r+=o;return l.push(n[1]),l}var P=T,z=n(521),R=n(449),N=n(714),E=n(458),H=n(434),B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(r.a)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=E.f(e.get("padding")||0),rect=t.getBoundingRect();t.add(new N.a({z2:-1,silent:!0,shape:{x:rect.x-n[3],y:rect.y-n[0],width:rect.width+n[3]+n[1],height:rect.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var o=(n=n||{}).forceState,r=this.visualMapModel,c={};if("color"===e){var h=r.get("contentColor");c.color=h}function d(t){return c[t]}function m(t,e){c[t]=e}var v=r.controllerVisuals[o||r.getValueState(t)],y=f.a.prepareVisualTypes(v);return l.k(y,function(o){var r=v[o];n.convertOpacityToAlpha&&"opacity"===o&&(o="colorAlpha",r=v.__alphaForOpacity),f.a.dependsOn(o,e)&&r&&r.applyVisual(t,d,m)}),c[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;H.g(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,o){},e.type="visualMap",e}(n(437).a),G=B,Z=n(541),F=n(584),W=n(424),Y=n(727),X=n(435),K=[["left","right","width"],["top","bottom","height"]];function U(t,e,n){var o=t.option,r=o.align;if(null!=r&&"auto"!==r)return r;for(var l={width:e.getWidth(),height:e.getHeight()},c="horizontal"===o.orient?1:0,h=K[c],d=[0,null,10],f={},i=0;i<3;i++)f[K[1-c][i]]=d[i],f[h[i]]=2===i?n[0]:o[h[i]];var m=[["x","width",3],["y","height",0]][c],rect=Object(H.e)(f,l,o.padding);return h[(rect.margin[m[2]]||0)+rect[m[0]]+.5*rect[m[1]]<.5*l[m[1]]?0:1]}function J(t,e){return l.k(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var $=n(483),Q=n(428),symbol=n(429),tt=n(438),et=n(432),it=n(427),nt=n(519),at=S.j,ot=l.k,st=Math.min,lt=Math.max,ut=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(r.a)(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=l.c(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=l.c(this._hideIndicator,this)},e.prototype.doRender=function(t,e,n,o){o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var text=e[1-n];text=null!=text?text+"":"";var o=this.visualMapModel,r=o.get("textGap"),l=o.itemSize,c=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===n?-r:l[1]+r],c),d=this._applyTransform(0===n?"bottom":"top",c),f=this._orient,m=this.visualMapModel.textStyleModel;this.group.add(new Z.a({style:Object(it.b)(m,{x:h[0],y:h[1],verticalAlign:"horizontal"===f?"middle":d,align:"horizontal"===f?d:"center",text:text})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,o=e.itemSize,r=this._orient,c=this._useHandle,h=U(e,this.api,o),d=n.mainGroup=this._createBarGroup(h),f=new F.a;d.add(f),f.add(n.outOfRange=ct()),f.add(n.inRange=ct(null,c?pt(this._orient):null,l.c(this._dragHandle,this,"all",!1),l.c(this._dragHandle,this,"all",!0))),f.setClipPath(new N.a({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var m=e.textStyleModel.getTextRect(""),v=lt(m.width,m.height);c&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,d,0,o,v,r),this._createHandle(e,d,1,o,v,r)),this._createIndicator(e,d,o,v,r),t.add(d)},e.prototype._createHandle=function(t,e,n,o,r,c){var h=l.c(this._dragHandle,this,n,!1),d=l.c(this._dragHandle,this,n,!0),f=Object($.g)(t.get("handleSize"),o[0]),m=Object(symbol.a)(t.get("handleIcon"),-f/2,-f/2,f,f,null,!0),cursor=pt(this._orient);m.attr({cursor:cursor,draggable:!0,drift:h,ondragend:d,onmousemove:function(t){R.g(t.event)}}),m.x=o[0]/2,m.useStyle(t.getModel("handleStyle").getItemStyle()),m.setStyle({strokeNoScale:!0,strokeFirst:!0}),m.style.lineWidth*=2,m.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Q.E)(m,!0),e.add(m);var v=this.visualMapModel.textStyleModel,y=new Z.a({cursor:cursor,draggable:!0,drift:h,onmousemove:function(t){R.g(t.event)},ondragend:d,style:Object(it.b)(v,{x:0,y:0,text:""})});y.ensureState("blur").style={opacity:.1},y.stateTransition={duration:200},this.group.add(y);var _=[f,0],x=this._shapes;x.handleThumbs[n]=m,x.handleLabelPoints[n]=_,x.handleLabels[n]=y},e.prototype._createIndicator=function(t,e,n,o,r){var c=Object($.g)(t.get("indicatorSize"),n[0]),h=Object(symbol.a)(t.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var d=t.getModel("indicatorStyle").getItemStyle();if(h instanceof tt.a){var f=h.style;h.useStyle(l.m({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},d))}else h.useStyle(d);e.add(h);var m=this.visualMapModel.textStyleModel,v=new Z.a({silent:!0,invisible:!0,style:Object(it.b)(m,{x:0,y:0,text:""})});this.group.add(v);var y=[("horizontal"===r?o/2:6)+n[0]/2,0],_=this._shapes;_.indicator=h,_.indicatorLabel=v,_.indicatorLabelPoint=y,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,o){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,o],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():ht(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[at(e[0],n,o,!0),at(e[1],n,o,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,o=this._handleEnds,r=[0,n.itemSize[1]];Object(X.a)(e,o,r,t,0);var l=n.getExtent();this._dataInterval=[at(o[0],r,l,!0),at(o[1],r,l,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),o=this._shapes,r=[0,e.itemSize[1]],l=t?r:this._handleEnds,c=this._createBarVisual(this._dataInterval,n,l,"inRange"),h=this._createBarVisual(n,n,r,"outOfRange");o.inRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),o.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(l,c)},e.prototype._createBarVisual=function(t,e,n,o){var r={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(t,r),c=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],h=this._createBarPoints(n,c);return{barColor:new z.a(0,0,0,1,l),barPoints:h,handlesColor:[l[0].color,l[l.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],o=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var r=t[0]+o*i;if(r>t[1])break;n.push({color:this.getControllerVisual(r,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new F.a("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,o=this.visualMapModel,r=n.handleThumbs,l=n.handleLabels,c=o.itemSize,h=o.getExtent(),d=this._applyTransform("left",n.mainGroup);ot([0,1],function(f){var m=r[f];m.setStyle("fill",e.handlesColor[f]),m.y=t[f];var v=at(t[f],[0,c[1]],h,!0),y=this.getControllerVisual(v,"symbolSize");m.scaleX=m.scaleY=y/c[0],m.x=c[0]-y/2;var _=W.applyTransform(n.handleLabelPoints[f],W.getTransform(m,this.group));if("horizontal"===this._orient){var x="left"===d||"top"===d?(c[0]-y)/2:(c[0]-y)/-2;_[1]+=x}l[f].setStyle({x:_[0],y:_[1],text:o.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,e,n,o){var r=this.visualMapModel,l=r.getExtent(),c=r.itemSize,h=[0,c[1]],d=this._shapes,f=d.indicator;if(f){f.attr("invisible",!1);var m=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),v=this.getControllerVisual(t,"symbolSize"),y=at(t,l,h,!0),_=c[0]-v/2,x={x:f.x,y:f.y};f.y=y,f.x=_;var S=W.applyTransform(d.indicatorLabelPoint,W.getTransform(f,this.group)),O=d.indicatorLabel;O.attr("invisible",!1);var M=this._applyTransform("left",d.mainGroup),w="horizontal"===this._orient;O.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:w?M:"middle",align:w?"center":M});var I={x:_,y:y,style:{fill:m}},j={style:{x:S[0],y:S[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var A={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(I,A),O.animateTo(j,A)}else f.attr(I),O.attr(j);this._firstShowIndicator=!1;var D=this._shapes.handleLabels;if(D)for(var i=0;i<D.length;i++)this.api.enterBlur(D[i])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,o=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);o[1]=st(lt(0,o[1]),n[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,o=n.itemSize;if(n.option.hoverLink){var r=[0,o[1]],l=n.getExtent();t=st(lt(r[0],t),r[1]);var c=function(t,e,n){var o=6,r=t.get("hoverLinkDataSize");r&&(o=at(r,e,n,!0)/2);return o}(n,l,r),h=[t-c,t+c],d=at(t,r,l,!0),f=[at(h[0],r,l,!0),at(h[1],r,l,!0)];h[0]<r[0]&&(f[0]=-1/0),h[1]>r[1]&&(f[1]=1/0),e&&(f[0]===-1/0?this._showIndicator(d,f[1],"< ",c):f[1]===1/0?this._showIndicator(d,f[0],"> ",c):this._showIndicator(d,d," ",c));var m=this._hoverLinkDataIndices,v=[];(e||ht(n))&&(v=this._hoverLinkDataIndices=n.findTargetDataIndices(f));var y=x.d(m,v);this._dispatchHighDown("downplay",J(y[0],n)),this._dispatchHighDown("highlight",J(y[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if(Object(nt.a)(t.target,function(t){var n=Object(et.a)(t);if(null!=n.dataIndex)return e=n,!0},!0),e){var n=this.ecModel.getSeriesByIndex(e.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(n)){var data=n.getData(e.dataType),r=data.getStore().get(o.getDataDimensionIndex(data),e.dataIndex);isNaN(r)||this._showIndicator(r,r)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this.api.leaveBlur(e[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",J(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,element,e,n){var o=W.getTransform(element,n?null:this.group);return l.t(t)?W.applyTransform(t,o,e):W.transformDirection(t,o,e)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(G);function ct(t,cursor,e,n){return new Y.a({shape:{points:t},draggable:!!e,cursor:cursor,drift:e,onmousemove:function(t){R.g(t.event)},ondragend:n})}function ht(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function pt(t){return"vertical"===t?"ns-resize":"ew-resize"}var ft=ut,gt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},mt=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})},vt=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var o,r,c,h,d,v=t.pipelineContext;!e.isTargetSeries(t)||v&&v.large||n.push((o=e.stateList,r=e.targetVisuals,c=l.c(e.getValueState,e),h=e.getDataDimensionIndex(t.getData()),d={},l.k(o,function(t){var e=f.a.prepareVisualTypes(r[t]);d[t]=e}),{progress:function(t,data){var e,n;function o(t){return Object(m.a)(data,n,t)}function l(t,e){Object(m.c)(data,n,t,e)}null!=h&&(e=data.getDimensionIndex(h));for(var f=data.getStore();null!=(n=t.next());){var v=data.getRawDataItem(n);if(!v||!1!==v.visualMap)for(var y=null!=h?f.get(e,n):n,_=c(y),x=r[_],S=d[_],i=0,O=S.length;i<O;i++){var M=S[i];x[M]&&x[M].applyVisual(y,o,l)}}}}))}),n}},{createOnAllSeries:!0,reset:function(t,e){var data=t.getData(),n=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(l.c(yt,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimensionIndex(data);r>=0&&(o.dimension=r,n.push(o))}}),t.getData().setVisual("visualMeta",n)}}];function yt(t,e,n,o){for(var r=e.targetVisuals[o],l=f.a.prepareVisualTypes(r),c={color:Object(m.b)(t.getData(),"color")},i=0,h=l.length;i<h;i++){var d=l[i],v=r["opacity"===d?"__alphaForOpacity":d];v&&v.applyVisual(n,y,_)}return c.color;function y(t){return c[t]}function _(t,e){c[t]=e}}var bt=l.k;function _t(option){var t=option&&option.visualMap;l.t(t)||(t=t?[t]:[]),bt(t,function(t){if(t){xt(t,"splitList")&&!xt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&l.t(e)&&bt(e,function(t){l.A(t)&&(xt(t,"start")&&!xt(t,"min")&&(t.min=t.start),xt(t,"end")&&!xt(t,"max")&&(t.max=t.end))})}})}function xt(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var St=!1;function Ot(t){St||(St=!0,t.registerSubTypeDefaulter("visualMap",function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"}),t.registerAction(gt,mt),Object(l.k)(vt,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(_t))}function Mt(t){t.registerComponentModel(P),t.registerComponentView(ft),Ot(t)}var wt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(r.a)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],It[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual(function(t,e){"categories"===o?(t.mappingMethod="category",t.categories=l.d(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=l.G(this._pieceList,function(t){return t=l.d(t),"inRange"!==e&&(t.visual=null),t}))})},e.prototype.completeVisualOption=function(){var option=this.option,e={},n=f.a.listVisualTypes(),o=this.isCategory();function r(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}l.k(option.pieces,function(t){l.k(n,function(n){t.hasOwnProperty(n)&&(e[n]=1)})}),l.k(e,function(t,e){var n=!1;l.k(this.stateList,function(t){n=n||r(option,t,e)||r(option.target,t,e)},this),!n&&l.k(this.stateList,function(t){(option[t]||(option[t]={}))[e]=d.get(e,"inRange"===t?"active":"inactive",o)})},this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,o=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,l.k(o,function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)},this),"single"===n.selectedMode){var c=!1;l.k(o,function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(c?r[n]=!1:c=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=l.d(t)},e.prototype.getValueState=function(t){var e=f.a.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries(function(o){var r=[],data=o.getData();data.each(this.getDataDimensionIndex(data),function(e,o){f.a.findPieceIndex(e,n)===t&&r.push(o)},this),e.push({seriesId:o.id,dataIndex:r})},this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],o=this,r=this._pieceList.slice();if(r.length){var c=r[0].interval[0];c!==-1/0&&r.unshift({interval:[-1/0,c]}),(c=r[r.length-1].interval[1])!==1/0&&r.push({interval:[c,1/0]})}else r.push({interval:[-1/0,1/0]});var h=-1/0;return l.k(r,function(t){var e=t.interval;e&&(e[0]>h&&d([h,e[0]],"outOfRange"),d(e.slice()),h=e[1])},this),{stops:e,outerColors:n}}function d(r,l){var c=o.getRepresentValue({interval:r});l||(l=o.getValueState(c));var h=t(c,l);r[0]===-1/0?n[0]=h:r[1]===1/0?n[1]=h:e.push({value:r[0],color:h},{value:r[1],color:h})}},e.type="visualMap.piecewise",e.defaultOption=Object(component.d)(L.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(L),It={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),o=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var c=(o[1]-o[0])/r;+c.toFixed(n)!==c&&n<5;)n++;e.precision=n,c=+c.toFixed(n),e.minOpen&&t.push({interval:[-1/0,o[0]],close:[0,0]});for(var h=0,d=o[0];h<r;d+=c,h++){var f=h===r-1?o[1]:d+c;t.push({interval:[d,f],close:[1,1]})}e.maxOpen&&t.push({interval:[o[1],1/0],close:[0,0]}),Object(S.q)(t),l.k(t,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;l.k(e.categories,function(e){t.push({text:this.formatValueText(e,!0),value:e})},this),jt(e,t)},pieces:function(t){var e=this.option;l.k(e.pieces,function(e,n){l.A(e)||(e={value:e});var o={text:"",index:n};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var r=o.value=e.value;o.interval=[r,r],o.close=[1,1]}else{for(var c=o.interval=[],h=o.close=[0,0],d=[1,0,1],m=[-1/0,1/0],v=[],y=0;y<2;y++){for(var _=[["gte","gt","min"],["lte","lt","max"]][y],i=0;i<3&&null==c[y];i++)c[y]=e[_[i]],h[y]=d[i],v[y]=2===i;null==c[y]&&(c[y]=m[y])}v[0]&&c[1]===1/0&&(h[0]=0),v[1]&&c[0]===-1/0&&(h[1]=0),c[0]===c[1]&&h[0]&&h[1]&&(o.value=c[0])}o.visual=f.a.retrieveVisuals(e),t.push(o)},this),jt(e,t),Object(S.q)(t),l.k(t,function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};function jt(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var At=wt,Dt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r.a)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),o=e.textStyleModel,r=o.getFont(),c=o.getTextColor(),h=this._getItemAlign(),d=e.itemSize,f=this._getViewData(),m=f.endsText,v=l.M(e.get("showLabel",!0),!m),y=!e.get("selectedMode");m&&this._renderEndsText(t,m[0],d,v,h),l.k(f.viewPieceList,function(o){var f=o.piece,m=new F.a;m.onclick=l.c(this._onItemClick,this,f),this._enableHoverLink(m,o.indexInModelPieceList);var _=e.getRepresentValue(f);if(this._createItemSymbol(m,_,[0,0,d[0],d[1]],y),v){var x=this.visualMapModel.getValueState(_);m.add(new Z.a({style:{x:"right"===h?-n:d[0]+n,y:d[1]/2,text:f.text,verticalAlign:"middle",align:h,font:r,fill:c,opacity:"outOfRange"===x?.5:1},silent:y}))}t.add(m)},this),m&&this._renderEndsText(t,m[1],d,v,h),H.a(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(t){var o=n.visualMapModel;o.option.hoverLink&&n.api.dispatchAction({type:t,batch:J(o.findTargetDataIndices(e),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return U(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,text,e,n,o){if(text){var r=new F.a,l=this.visualMapModel.textStyleModel;r.add(new Z.a({style:Object(it.b)(l,{x:n?"right"===o?e[0]:0:e[0]/2,y:e[1]/2,verticalAlign:"middle",align:n?o:"center",text:text})})),t.add(r)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=l.G(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),o=t.get("orient"),r=t.get("inverse");return("horizontal"===o?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n,o){var r=Object(symbol.a)(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color"));r.silent=o,t.add(r)},e.prototype._onItemClick=function(t){var e=this.visualMapModel,option=e.option,n=option.selectedMode;if(n){var o=l.d(option.selected),r=e.getSelectedMapKey(t);"single"===n||!0===n?(o[r]=!0,l.k(o,function(t,e){o[e]=e===r})):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(G),kt=Dt;function Lt(t){t.registerComponentModel(At),t.registerComponentView(kt),Ot(t)}function Ct(t){Object(o.a)(Mt),Object(o.a)(Lt)}},543:function(t,e,n){"use strict";n.d(e,"a",function(){return vt});var o=n(423),r=n(478),l=n(468),c=n(429),h=n(584),d=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(o.a)(e,t),e.prototype.getInitialData=function(option){return Object(r.a)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new h.a,line=Object(c.a)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(line),line.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),r="none"===n?"circle":n,l=.8*t.itemHeight,symbol=Object(c.a)(r,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(symbol),symbol.setStyle(t.itemStyle);var d="inherit"===t.iconRotate?o:t.iconRotate||0;return symbol.rotation=d*Math.PI/180,symbol.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(symbol.style.stroke=symbol.style.fill,symbol.style.fill="#fff",symbol.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(l.a),f=d,m=n(422),v=n(467),y=n(459),_=n(433);function x(t,data,e){var n=t.getBaseAxis(),o=t.getOtherAxis(n),r=function(t,e){var n=0,o=t.scale.getExtent();"start"===e?n=o[0]:"end"===e?n=o[1]:Object(m.z)(e)&&!isNaN(e)?n=e:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]);return n}(o,e),l=n.dim,c=o.dim,h=data.mapDimension(c),d=data.mapDimension(l),f="x"===c||"radius"===c?1:0,v=Object(m.G)(t.dimensions,function(t){return data.mapDimension(t)}),y=!1,x=data.getCalculationInfo("stackResultDimension");return Object(_.c)(data,v[0])&&(y=!0,v[0]=x),Object(_.c)(data,v[1])&&(y=!0,v[1]=x),{dataDimsForPoint:v,valueStart:r,valueAxisDim:c,baseAxisDim:l,stacked:!!y,valueDim:h,baseDim:d,baseDataOffset:f,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}}function S(t,e,data,n){var o=NaN;t.stacked&&(o=data.get(data.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var r=t.baseDataOffset,l=[];return l[r]=data.get(t.baseDim,n),l[1-r]=o,e.dataToPoint(l)}var O=n(457);var M=n(521),w=n(476),I=n(541),j=n(425),A=n(447),D=n(491),k=n(503),L=Math.min,C=Math.max;function T(t,e){return isNaN(t)||isNaN(e)}function V(t,e,n,o,r,l,c,h,d){for(var f,m,v,y,_,x,S=n,O=0;O<o;O++){var M=e[2*S],w=e[2*S+1];if(S>=r||S<0)break;if(T(M,w)){if(d){S+=l;continue}break}if(S===n)t[l>0?"moveTo":"lineTo"](M,w),v=M,y=w;else{var I=M-f,j=w-m;if(I*I+j*j<.5){S+=l;continue}if(c>0){for(var A=S+l,D=e[2*A],k=e[2*A+1];D===M&&k===w&&O<o;)O++,S+=l,D=e[2*(A+=l)],k=e[2*A+1],I=(M=e[2*S])-f,j=(w=e[2*S+1])-m;var V=O+1;if(d)for(;T(D,k)&&V<o;)V++,D=e[2*(A+=l)],k=e[2*A+1];var P=.5,z=0,R=0,N=void 0,E=void 0;if(V>=o||T(D,k))_=M,x=w;else{z=D-f,R=k-m;var H=M-f,B=D-M,G=w-m,Z=k-w,F=void 0,W=void 0;if("x"===h){var Y=z>0?1:-1;_=M-Y*(F=Math.abs(H))*c,x=w,N=M+Y*(W=Math.abs(B))*c,E=w}else if("y"===h){var X=R>0?1:-1;_=M,x=w-X*(F=Math.abs(G))*c,N=M,E=w+X*(W=Math.abs(Z))*c}else F=Math.sqrt(H*H+G*G),_=M-z*c*(1-(P=(W=Math.sqrt(B*B+Z*Z))/(W+F))),x=w-R*c*(1-P),E=w+R*c*P,N=L(N=M+z*c*P,C(D,M)),E=L(E,C(k,w)),N=C(N,L(D,M)),x=w-(R=(E=C(E,L(k,w)))-w)*F/W,_=L(_=M-(z=N-M)*F/W,C(f,M)),x=L(x,C(m,w)),N=M+(z=M-(_=C(_,L(f,M))))*W/F,E=w+(R=w-(x=C(x,L(m,w))))*W/F}t.bezierCurveTo(v,y,_,x,M,w),v=N,y=E}else t.lineTo(M,w)}f=M,m=w,S+=l}return O}var P=function(){this.smooth=0,this.smoothConstraint=!0},z=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(o.a)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new P},e.prototype.buildPath=function(t,e){var n=e.points,i=0,o=n.length/2;if(e.connectNulls){for(;o>0&&T(n[2*o-2],n[2*o-1]);o--);for(;i<o&&T(n[2*i],n[2*i+1]);i++);}for(;i<o;)i+=V(t,n,i,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,o,data=this.path.data,r=D.a.CMD,l="x"===e,c=[],i=0;i<data.length;){var h=void 0,d=void 0,f=void 0,m=void 0,v=void 0,y=void 0,_=void 0;switch(data[i++]){case r.M:n=data[i++],o=data[i++];break;case r.L:if(h=data[i++],d=data[i++],(_=l?(t-n)/(h-n):(t-o)/(d-o))<=1&&_>=0){var x=l?(d-o)*_+o:(h-n)*_+n;return l?[t,x]:[x,t]}n=h,o=d;break;case r.C:h=data[i++],d=data[i++],f=data[i++],m=data[i++],v=data[i++],y=data[i++];var S=l?Object(k.f)(n,h,f,v,t,c):Object(k.f)(o,d,m,y,t,c);if(S>0)for(var O=0;O<S;O++){var M=c[O];if(M<=1&&M>=0){x=l?Object(k.a)(o,d,m,y,M):Object(k.a)(n,h,f,v,M);return l?[t,x]:[x,t]}}n=v,o=y}}},e}(A.b),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.a)(e,t),e}(P),N=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(o.a)(e,t),e.prototype.getDefaultShape=function(){return new R},e.prototype.buildPath=function(t,e){var n=e.points,o=e.stackedOnPoints,i=0,r=n.length/2,l=e.smoothMonotone;if(e.connectNulls){for(;r>0&&T(n[2*r-2],n[2*r-1]);r--);for(;i<r&&T(n[2*i],n[2*i+1]);i++);}for(;i<r;){var c=V(t,n,i,r,r,1,e.smooth,l,e.connectNulls);V(t,o,i+c-1,c,r,-1,e.stackedOnSmooth,l,e.connectNulls),i+=c+1,t.closePath()}},e}(A.b),E=n(466),H=n(714),B=n(811),G=n(426);function Z(t,e,n,o,r){var rect=t.getArea(),l=rect.x,c=rect.y,h=rect.width,d=rect.height,f=n.get(["lineStyle","width"])||0;l-=f/2,c-=f/2,h+=f,d+=f,h=Math.ceil(h),l!==Math.floor(l)&&(l=Math.floor(l),h++);var v=new H.a({shape:{x:l,y:c,width:h,height:d}});if(e){var y=t.getBaseAxis(),_=y.isHorizontal(),x=y.inverse;_?(x&&(v.shape.x+=h),v.shape.width=0):(x||(v.shape.y+=d),v.shape.height=0);var S=Object(m.w)(r)?function(t){r(t,v)}:null;w.a(v,{shape:{width:h,height:d,x:l,y:c}},n,null,o,S)}return v}function F(t,e,n){var o=t.getArea(),r=Object(G.s)(o.r0,1),l=Object(G.s)(o.r,1),c=new B.a({shape:{cx:Object(G.s)(t.cx,1),cy:Object(G.s)(t.cy,1),r0:r,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});e&&("angle"===t.getBaseAxis().dim?c.shape.endAngle=o.startAngle:c.shape.r=r,w.a(c,{shape:{endAngle:o.endAngle,r:l}},n));return c}var W=n(450),Y=n(428),X=n(427),K=n(460),U=n(432),J=n(458),$=n(452);function Q(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function tt(t){for(var e=1/0,n=1/0,o=-1/0,r=-1/0,i=0;i<t.length;){var l=t[i++],c=t[i++];isNaN(l)||(e=Math.min(l,e),o=Math.max(l,o)),isNaN(c)||(n=Math.min(c,n),r=Math.max(c,r))}return[[e,n],[o,r]]}function et(t,e){var n=tt(t),o=n[0],r=n[1],l=tt(e),c=l[0],h=l[1];return Math.max(Math.abs(o[0]-c[0]),Math.abs(o[1]-c[1]),Math.abs(r[0]-h[0]),Math.abs(r[1]-h[1]))}function it(t){return m.z(t)?t:t?.5:0}function nt(t,e,n,o,r){var l=n.getBaseAxis(),c="x"===l.dim||"radius"===l.dim?0:1,h=[],i=0,d=[],f=[],m=[],v=[];if(r){for(i=0;i<t.length;i+=2){var y=e||t;isNaN(y[i])||isNaN(y[i+1])||v.push(t[i],t[i+1])}t=v}for(i=0;i<t.length-2;i+=2)switch(m[0]=t[i+2],m[1]=t[i+3],f[0]=t[i],f[1]=t[i+1],h.push(f[0],f[1]),o){case"end":d[c]=m[c],d[1-c]=f[1-c],h.push(d[0],d[1]);break;case"middle":var _=(f[c]+m[c])/2,x=[];d[c]=x[c]=_,d[1-c]=f[1-c],x[1-c]=m[1-c],h.push(d[0],d[1]),h.push(x[0],x[1]);break;default:d[c]=f[c],d[1-c]=m[1-c],h.push(d[0],d[1])}return h.push(t[i++],t[i++]),h}function at(data,t,e){var n=data.getVisual("visualMeta");if(n&&n.length&&data.count()&&"cartesian2d"===t.type){for(var o,r,i=n.length-1;i>=0;i--){var l=data.getDimensionInfo(n[i].dimension);if("x"===(o=l&&l.coordDim)||"y"===o){r=n[i];break}}if(r){var c=t.getAxis(o),h=m.G(r.stops,function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}}),d=h.length,f=r.outerColors.slice();d&&h[0].coord>h[d-1].coord&&(h.reverse(),f.reverse());var v=function(t,e){var n,o,r=[],l=t.length;function c(t,e,n){var o=t.coord,p=(n-o)/(e.coord-o);return{coord:n,color:Object($.b)(p,[t.color,e.color])}}for(var i=0;i<l;i++){var h=t[i],d=h.coord;if(d<0)n=h;else{if(d>e){o?r.push(c(o,h,e)):n&&r.push(c(n,h,0),c(n,h,e));break}n&&(r.push(c(n,h,0)),n=null),r.push(h),o=h}}return r}(h,"x"===o?e.getWidth():e.getHeight()),y=v.length;if(!y&&d)return h[0].coord<0?f[1]?f[1]:h[d-1].color:f[0]?f[0]:h[0].color;var _=v[0].coord-10,x=v[y-1].coord+10,S=x-_;if(S<.001)return"transparent";m.k(v,function(t){t.offset=(t.coord-_)/S}),v.push({offset:y?v[y-1].offset:.5,color:f[1]||"transparent"}),v.unshift({offset:y?v[0].offset:.5,color:f[0]||"transparent"});var O=new M.a(0,0,0,0,v,!0);return O[o]=_,O[o+"2"]=x,O}}}function ot(t,data,e){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var r=e.getAxesByScale("ordinal")[0];if(r&&(!o||!function(t,data){var e=t.getExtent(),n=Math.abs(e[1]-e[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=data.count(),r=Math.max(1,Math.round(o/5)),l=0;l<o;l+=r)if(1.5*y.a.getSymbolSize(data,l)[t.isHorizontal()?1:0]>n)return!1;return!0}(r,data))){var l=data.mapDimension(r.dim),c={};return m.k(r.getViewLabels(),function(t){var e=r.scale.getRawOrdinalNumber(t.tickValue);c[e]=1}),function(t){return!c.hasOwnProperty(data.get(l,t))}}}}function st(t,e){return isNaN(t)||isNaN(e)}function lt(t,e){return[t[2*e],t[2*e+1]]}function ut(t){if(t.get(["endLabel","show"]))return!0;for(var i=0;i<Y.g.length;i++)if(t.get([Y.g[i],"endLabel","show"]))return!0;return!1}function ct(t,e,n,o){if(Object(W.a)(e,"cartesian2d")){var r=o.getModel("endLabel"),l=r.get("valueAnimation"),c=o.getData(),h={lastFrameIndex:0},d=ut(o)?function(n,o){t._endLabelOnDuring(n,o,c,h,l,r,e)}:null,f=e.getBaseAxis().isHorizontal(),m=Z(e,n,o,function(){var e=t._endLabel;e&&n&&null!=h.originalX&&e.attr({x:h.originalX,y:h.originalY})},d);if(!o.get("clip",!0)){var v=m.shape,y=Math.max(v.width,v.height);f?(v.y-=y,v.height+=2*y):(v.x-=y,v.width+=2*y)}return d&&d(1,m),m}return F(e,n,o)}var ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.init=function(){var t=new h.a,e=new v.a;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=m.c(this._changePolyState,this)},e.prototype.render=function(t,e,n){var o=t.coordinateSystem,r=this.group,data=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),h=data.getLayout("points")||[],d="polar"===o.type,f=this._coordSys,v=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,y=this._lineGroup,_=!e.ssr&&t.get("animation"),M=!c.isEmpty(),I=c.get("origin"),j=x(o,data,I),A=M&&function(t,data,e){if(!e.valueDim)return[];for(var n=data.count(),o=Object(O.a)(2*n),r=0;r<n;r++){var l=S(e,t,data,r);o[2*r]=l[0],o[2*r+1]=l[1]}return o}(o,data,j),D=t.get("showSymbol"),k=t.get("connectNulls"),L=D&&!d&&ot(t,data,o),C=this._data;C&&C.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),C.setItemGraphicEl(e,null))}),D||v.remove(),r.add(y);var T,V=!d&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(T=o.getArea()).width?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r+=.5)),this._clipShapeForSymbol=T;var P=at(data,o,n)||data.getVisual("style")[data.getVisual("drawType")];if(polyline&&f.type===o.type&&V===this._step){M&&!polygon?polygon=this._newPolygon(h,A):polygon&&!M&&(y.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(t,o,Object(J.b)(P));var z=y.getClipPath();if(z){var R=ct(this,o,!1,t);w.a(z,{shape:R.shape},t)}else y.setClipPath(ct(this,o,!0,t));D&&v.updateData(data,{isIgnore:L,clipShape:T,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),Q(this._stackedOnPoints,A)&&Q(this._points,h)||(_?this._doUpdateAnimation(data,A,o,n,V,I,k):(V&&(A&&(A=nt(A,h,o,V,k)),h=nt(h,null,o,V,k)),polyline.setShape({points:h}),polygon&&polygon.setShape({points:h,stackedOnPoints:A})))}else D&&v.updateData(data,{isIgnore:L,clipShape:T,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),_&&this._initSymbolLabelAnimation(data,o,T),V&&(A&&(A=nt(A,h,o,V,k)),h=nt(h,null,o,V,k)),polyline=this._newPolyline(h),M?polygon=this._newPolygon(h,A):polygon&&(y.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(t,o,Object(J.b)(P)),y.setClipPath(ct(this,o,!0,t));var N=t.getModel("emphasis"),E=N.get("focus"),H=N.get("blurScope"),B=N.get("disabled");(polyline.useStyle(m.i(l.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),Object(Y.H)(polyline,t,"lineStyle"),polyline.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(polyline.getState("emphasis").style.lineWidth=+polyline.style.lineWidth+1);Object(U.a)(polyline).seriesIndex=t.seriesIndex,Object(Y.I)(polyline,E,H,B);var G=it(t.get("smooth")),Z=t.get("smoothMonotone");if(polyline.setShape({smooth:G,smoothMonotone:Z,connectNulls:k}),polygon){var F=data.getCalculationInfo("stackedOnSeries"),W=0;polygon.useStyle(m.i(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:data.getVisual("style").decal})),F&&(W=it(F.get("smooth"))),polygon.setShape({smooth:G,stackedOnSmooth:W,smoothMonotone:Z,connectNulls:k}),Object(Y.H)(polygon,t,"areaStyle"),Object(U.a)(polygon).seriesIndex=t.seriesIndex,Object(Y.I)(polygon,E,H,B)}var X=this._changePolyState;data.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=X)}),this._polyline.onHoverStateChange=X,this._data=data,this._coordSys=o,this._stackedOnPoints=A,this._points=h,this._step=V,this._valueOrigin=I,t.get("triggerLineEvent")&&(this.packEventData(t,polyline),polygon&&this.packEventData(t,polygon))},e.prototype.packEventData=function(t,e){Object(U.a)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,o){var data=t.getData(),r=j.s(data,o);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&r>=0){var l=data.getLayout("points"),symbol=data.getItemGraphicEl(r);if(!symbol){var c=l[2*r],h=l[2*r+1];if(isNaN(c)||isNaN(h))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var d=t.get("zlevel")||0,f=t.get("z")||0;(symbol=new y.a(data,r)).x=c,symbol.y=h,symbol.setZ(d,f);var m=symbol.getSymbolPath().getTextContent();m&&(m.zlevel=d,m.z=f,m.z2=this._polyline.z2+1),symbol.__temp=!0,data.setItemGraphicEl(r,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else E.a.prototype.highlight.call(this,t,e,n,o)},e.prototype.downplay=function(t,e,n,o){var data=t.getData(),r=j.s(data,o);if(this._changePolyState("normal"),null!=r&&r>=0){var symbol=data.getItemGraphicEl(r);symbol&&(symbol.__temp?(data.setItemGraphicEl(r,null),this.group.remove(symbol)):symbol.downplay())}else E.a.prototype.downplay.call(this,t,e,n,o)},e.prototype._changePolyState=function(t){var polygon=this._polygon;Object(Y.G)(this._polyline,t),polygon&&Object(Y.G)(polygon,t)},e.prototype._newPolyline=function(t){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new z({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},e.prototype._newPolygon=function(t,e){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new N({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},e.prototype._initSymbolLabelAnimation=function(data,t,e){var n,o,r=t.getBaseAxis(),l=r.inverse;"cartesian2d"===t.type?(n=r.isHorizontal(),o=!1):"polar"===t.type&&(n="angle"===r.dim,o=!0);var c=data.hostModel,h=c.get("animationDuration");m.w(h)&&(h=h(null));var d=c.get("animationDelay")||0,f=m.w(d)?d(null):d;data.eachItemGraphicEl(function(symbol,r){var c=symbol;if(c){var v=[symbol.x,symbol.y],y=void 0,_=void 0,x=void 0;if(e)if(o){var S=e,O=t.pointToCoord(v);n?(y=S.startAngle,_=S.endAngle,x=-O[1]/180*Math.PI):(y=S.r0,_=S.r,x=O[0])}else{var M=e;n?(y=M.x,_=M.x+M.width,x=symbol.x):(y=M.y+M.height,_=M.y,x=symbol.y)}var w=_===y?0:(x-y)/(_-y);l&&(w=1-w);var I=m.w(d)?d(r):h*w+f,j=c.getSymbolPath(),text=j.getTextContent();c.attr({scaleX:0,scaleY:0}),c.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),text&&text.animateFrom({style:{opacity:0}},{duration:300,delay:I}),j.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,e,n){var o=t.getModel("endLabel");if(ut(t)){var r=t.getData(),polyline=this._polyline,l=r.getLayout("points");if(!l)return polyline.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new I.a({z2:200})).ignoreClip=!0,polyline.setTextContent(this._endLabel),polyline.disableLabelAnimation=!0);var h=function(t){for(var e=t.length/2;e>0&&st(t[2*e-2],t[2*e-1]);e--);return e-1}(l);h>=0&&(Object(X.f)(polyline,Object(X.d)(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:h,defaultText:function(t,e,n){return null!=n?Object(K.a)(r,n):Object(K.b)(r,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),o=n.isHorizontal(),r=n.inverse,l=o?r?"right":"left":"center",c=o?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||l,verticalAlign:t.get("verticalAlign")||c}}}(o,e)),polyline.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,data,n,o,r,l){var c=this._endLabel,polyline=this._polyline;if(c){t<1&&null==n.originalX&&(n.originalX=c.x,n.originalY=c.y);var h=data.getLayout("points"),d=data.hostModel,f=d.get("connectNulls"),m=r.get("precision"),v=r.get("distance")||0,y=l.getBaseAxis(),_=y.isHorizontal(),x=y.inverse,S=e.shape,O=x?_?S.x:S.y+S.height:_?S.x+S.width:S.y,M=(_?v:0)*(x?-1:1),w=(_?0:-v)*(x?-1:1),I=_?"x":"y",A=function(t,e,n){for(var a,b,o=t.length/2,r="x"===n?0:1,l=0,c=-1,i=0;i<o;i++)if(b=t[2*i+r],!isNaN(b)&&!isNaN(t[2*i+1-r]))if(0!==i){if(a<=e&&b>=e||a>=e&&b<=e){c=i;break}l=i,a=b}else a=b;return{range:[l,c],t:(e-a)/(b-a)}}(h,O,I),D=A.range,k=D[1]-D[0],L=void 0;if(k>=1){if(k>1&&!f){var C=lt(h,D[0]);c.attr({x:C[0]+M,y:C[1]+w}),o&&(L=d.getRawValue(D[0]))}else{(C=polyline.getPointOn(O,I))&&c.attr({x:C[0]+M,y:C[1]+w});var T=d.getRawValue(D[0]),V=d.getRawValue(D[1]);o&&(L=j.j(data,m,T,V,A.t))}n.lastFrameIndex=D[0]}else{var P=1===t||n.lastFrameIndex>0?D[0]:0;C=lt(h,P);o&&(L=d.getRawValue(P)),c.attr({x:C[0]+M,y:C[1]+w})}if(o){var z=Object(X.e)(c);"function"==typeof z.setLabelText&&z.setLabelText(L)}}},e.prototype._doUpdateAnimation=function(data,t,e,n,o,r,l){var polyline=this._polyline,polygon=this._polygon,c=data.hostModel,h=function(t,e,n,o,r,l,c){for(var h=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),d=[],f=[],m=[],v=[],y=[],_=[],M=[],w=x(r,e,c),I=t.getLayout("points")||[],j=e.getLayout("points")||[],i=0;i<h.length;i++){var A=h[i],D=!0,k=void 0,L=void 0;switch(A.cmd){case"=":k=2*A.idx,L=2*A.idx1;var C=I[k],T=I[k+1],V=j[L],P=j[L+1];(isNaN(C)||isNaN(T))&&(C=V,T=P),d.push(C,T),f.push(V,P),m.push(n[k],n[k+1]),v.push(o[L],o[L+1]),M.push(e.getRawIndex(A.idx1));break;case"+":var z=A.idx,R=w.dataDimsForPoint,N=r.dataToPoint([e.get(R[0],z),e.get(R[1],z)]);L=2*z,d.push(N[0],N[1]),f.push(j[L],j[L+1]);var E=S(w,r,e,z);m.push(E[0],E[1]),v.push(o[L],o[L+1]),M.push(e.getRawIndex(z));break;case"-":D=!1}D&&(y.push(A),_.push(_.length))}_.sort(function(a,b){return M[a]-M[b]});var H=d.length,B=Object(O.a)(H),G=Object(O.a)(H),Z=Object(O.a)(H),F=Object(O.a)(H),W=[];for(i=0;i<_.length;i++){var Y=_[i],X=2*i,K=2*Y;B[X]=d[K],B[X+1]=d[K+1],G[X]=f[K],G[X+1]=f[K+1],Z[X]=m[K],Z[X+1]=m[K+1],F[X]=v[K],F[X+1]=v[K+1],W[i]=y[Y]}return{current:B,next:G,stackedOnCurrent:Z,stackedOnNext:F,status:W}}(this._data,data,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=h.current,f=h.stackedOnCurrent,m=h.next,v=h.stackedOnNext;if(o&&(f=nt(h.stackedOnCurrent,h.current,e,o,l),d=nt(h.current,null,e,o,l),v=nt(h.stackedOnNext,h.next,e,o,l),m=nt(h.next,null,e,o,l)),et(d,m)>3e3||polygon&&et(f,v)>3e3)return polyline.stopAnimation(),polyline.setShape({points:m}),void(polygon&&(polygon.stopAnimation(),polygon.setShape({points:m,stackedOnPoints:v})));polyline.shape.__points=h.current,polyline.shape.points=d;var y={shape:{points:m}};h.current!==d&&(y.shape.__points=h.next),polyline.stopAnimation(),w.f(polyline,y,c),polygon&&(polygon.setShape({points:d,stackedOnPoints:f}),polygon.stopAnimation(),w.f(polygon,{shape:{stackedOnPoints:v}},c),polyline.shape.points!==polygon.shape.points&&(polygon.shape.points=polyline.shape.points));for(var _=[],M=h.status,i=0;i<M.length;i++){if("="===M[i].cmd){var I=data.getItemGraphicEl(M[i].idx1);I&&_.push({el:I,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during(function(){polygon&&polygon.dirtyShape();for(var t=polyline.shape.__points,i=0;i<_.length;i++){var e=_[i].el,n=2*_[i].ptIdx;e.x=t[n],e.y=t[n+1],e.markRedraw()}})},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,o){t.__temp&&(e.remove(t),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(E.a),pt=ht,ft=n(520);var gt={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},mt=function(t){return Math.round(t.length/2)};function vt(t){var e;t.registerChartView(pt),t.registerSeriesModel(f),t.registerLayout((e=!0,{seriesType:"line",plan:Object(ft.a)(),reset:function(t){var data=t.getData(),n=t.coordinateSystem,o=t.pipelineContext,r=e||o.large;if(n){var l=Object(m.G)(n.dimensions,function(t){return data.mapDimension(t)}).slice(0,2),c=l.length,h=data.getCalculationInfo("stackResultDimension");Object(_.c)(data,l[0])&&(l[0]=h),Object(_.c)(data,l[1])&&(l[1]=h);var d=data.getStore(),f=data.getDimensionIndex(l[0]),v=data.getDimensionIndex(l[1]);return c&&{progress:function(t,data){for(var e=t.end-t.start,o=r&&Object(O.a)(e*c),l=[],h=[],i=t.start,m=0;i<t.end;i++){var y=void 0;if(1===c){var _=d.get(f,i);y=n.dataToPoint(_,null,h)}else l[0]=d.get(f,i),l[1]=d.get(v,i),y=n.dataToPoint(l,null,h);r?(o[m++]=y[0],o[m++]=y[1]):data.setItemLayout(i,y.slice())}r&&data.setLayout("points",o)}}}}})),t.registerVisual({seriesType:"line",reset:function(t){var data=t.getData(),e=t.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=data.getVisual("style").fill),data.setVisual("legendLineStyle",e)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t){return{seriesType:t,reset:function(t,e,n){var data=t.getData(),o=t.get("sampling"),r=t.coordinateSystem,l=data.count();if(l>10&&"cartesian2d"===r.type&&o){var c=r.getBaseAxis(),h=r.getOtherAxis(c),d=c.getExtent(),f=n.getDevicePixelRatio(),v=Math.abs(d[1]-d[0])*(f||1),y=Math.round(l/v);if(isFinite(y)&&y>1){"lttb"===o?t.setData(data.lttbDownSample(data.mapDimension(h.dim),1/y)):"minmax"===o&&t.setData(data.minmaxDownSample(data.mapDimension(h.dim),1/y));var _=void 0;Object(m.B)(o)?_=gt[o]:Object(m.w)(o)&&(_=o),_&&t.setData(data.downSample(data.mapDimension(h.dim),1/y,_,mt))}}}}}("line"))}},707:function(t,e,n){"use strict";n.r(e);n(448),n(75),n(431),n(191),n(53),n(23);var o=n(6),r=n(501),l=n(26),c=Object(o.b)({components:{cumulativeReturnChart:r.default},mounted:function(){var t=l.c.collection("twStock").doc("global"),e=this;t.get().then(function(t){if(t.exists){var data=t.data();for(var n in data)data[n]=JSON.parse(data[n]);console.log(data),e.ml=data}else console.log("cannot find")})},data:function(){return{ml:null}},methods:{rebase:function(t){var e=t[0];return t.map(function(t){return t/e*100})},calculatePerformance:function(){return[this.rebase(this.ml.fundamentalMLPerformance.best_group),this.rebase(this.ml.fundamentalMLPerformance.worse_group)]},calculateName:function(){return[" 10% "," 10% "]},calculateYOR:function(){if(!this.ml)return 0;var t=this.rebase(this.ml.fundamentalMLPerformance.best_group),e=this.rebase(this.ml.fundamentalMLPerformance.worse_group);return t=t[t.length-1],e=e[e.length-1],Math.round(1e4*(Math.pow(t/e,52/this.ml.fundamentalMLPerformance.best_group.length)-1))/100},percentFormat:function(t){var e=Math.round(100*t)/100+"";return t>0?"+"+e:e},percentageColor:function(t){return t>0?"rgba(255, 133, 182, ".concat(1,")"):"rgba(154, 145, 255, ".concat(1,")")}},computed:{top100Ids:function(){if(!this.ml)return[];var t=this.ml.fundamentalSummary..length,e=this.ml.fundamentalSummary.;return Array(t).fill().map(function(element,t){return t}).sort(function(t,n){return e[t]-e[n]}).splice(-100).reverse()}}}),h=n(52),component=Object(h.a)(c,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"uk-background-muted"},[t.ml?e("div",{staticClass:"uk-section dark-muted"},[e("div",{staticClass:"uk-container uk-container-xsmall"},[e("h1",{staticClass:"uk-text-primary",staticStyle:{"font-size":"2rem"}},[t._v("\n         AI \n      ")]),t._v(" "),e("div",{staticClass:"uk-margin-large-top uk-card uk-card-default uk-card-body round-border"},[t._m(0),t._v(" "),e("p",[t._v("\n            10%  10%\n           \n          "+t._s(t.calculateYOR())+" %\n        ")])])])]):t._e(),t._v(" "),t.ml?e("div",{staticClass:"dark-muted"},[e("cumulativeReturnChart",{attrs:{index:t.ml.fundamentalMLPerformance.date,values:t.calculatePerformance(),valueName:t.calculateName(),fill:!1}})],1):t._e(),t._v(" "),t.ml?e("div",{staticClass:"uk-section"},[e("div",{staticClass:"uk-container uk-container-xsmall"},[e("div",{staticClass:"uk-card uk-card-default uk-card-body round-border"},[e("h3",{staticClass:"uk-card-title"},[t._v("AI  100 ")]),t._v(" "),e("table",{staticClass:"uk-table"},[t._m(1),t._v(" "),e("tbody",t._l(t.top100Ids,function(i){return e("tr",{key:"table-".concat(i)},[e("td",[e("nuxt-link",{attrs:{to:"/stock/?stock_id=".concat(t.ml.fundamentalSummary.stock_id[i])}},[t._v(t._s(t.ml.fundamentalSummary.stock_id[i]))])],1),t._v(" "),e("td",{style:"color:"+t.percentageColor(t.ml.fundamentalSummary.[i])},[t._v("\n                "+t._s(t.percentFormat(t.ml.fundamentalSummary.[i]))+"\n              ")]),t._v(" "),e("td",{style:"color:"+t.percentageColor(t.ml.fundamentalSummary.[i])},[t._v("\n                "+t._s(t.percentFormat(t.ml.fundamentalSummary.[i]))+"\n              ")]),t._v(" "),e("td",{style:"color:"+t.percentageColor(t.ml.fundamentalSummary.[i])},[t._v("\n                "+t._s(t.percentFormat(t.ml.fundamentalSummary.[i]))+"\n              ")]),t._v(" "),e("td",{style:"color:"+t.percentageColor(t.ml.fundamentalSummary.[i])},[t._v("\n                "+t._s(t.percentFormat(t.ml.fundamentalSummary.[i]))+"\n              ")]),t._v(" "),e("td",{style:"color:"+t.percentageColor(t.ml.fundamentalSummary.[i])},[t._v("\n                "+t._s(t.percentFormat(t.ml.fundamentalSummary.[i]))+"\n              ")])])}),0)])])])]):t._e()])},[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("p",[e("b",[t._v("")]),t._v(" xgboost\n          \n          /( -\n          )\n          \n        ")])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("th",[t._v("")]),t._v(" "),e("th",[t._v("()")]),t._v(" "),e("th",[t._v("")]),t._v(" "),e("th",[t._v("")]),t._v(" "),e("th",[t._v("")]),t._v(" "),e("th",[t._v("")])])}],!1,null,null,null);e.default=component.exports}}]);
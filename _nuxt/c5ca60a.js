(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{334:function(t,e,n){"use strict";var o=n(320),r=n(337),l=n(324),c=o.k,h=o.A,d=-1,f=function(){function t(option){var e=option.mappingMethod,n=option.type,r=this.option=o.d(option);this.type=n,this.mappingMethod=e,this._normalizeData=w[e];var l=t.visualHandlers[n];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[e],"piecewise"===e?(v(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,o.k(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(c(e,(function(t,e){n[t]=e})),!o.t(r)){var l=[];o.A(r)?c(r,(function(t,e){var o=n[e];l[null!=o?o:d]=t})):l[-1]=r,r=I(t,l)}for(var i=e.length-1;i>=0;i--)null==r[i]&&(delete n[e[i]],e.pop())}(r):v(r,!0):(o.b("linear"!==e||r.dataExtent),v(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return o.c(this._normalizeData,this)},t.listVisualTypes=function(){return o.E(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){o.A(t)?o.k(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var l,c=o.t(e)?[]:o.A(e)?{}:(l=!0,null);return t.eachVisual(e,(function(t,e){var o=n.call(r,t,e);l?c=o:c[e]=o})),c},t.retrieveVisuals=function(e){var n,o={};return e&&c(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(o[r]=e[r],n=!0)})),n?o:null},t.prepareVisualTypes=function(t){if(o.t(t))t=t.slice();else{if(!h(t))return[];var e=[];c(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var o,r=1/0,i=0,l=e.length;i<l;i++){var c=e[i].value;if(null!=c){if(c===t||"string"==typeof c&&c===t+"")return i;n&&v(c,i)}}for(i=0,l=e.length;i<l;i++){var h=e[i],d=h.interval,f=h.close;if(d){if(d[0]===-1/0){if(V(f[1],t,d[1]))return i}else if(d[1]===1/0){if(V(f[0],d[0],t))return i}else if(V(f[0],d[0],t)&&V(f[1],t,d[1]))return i;n&&v(d[0],i),n&&v(d[1],i)}}if(n)return t===1/0?e.length-1:t===-1/0?0:o;function v(e,n){var l=Math.abs(e-t);l<r&&(r=l,o=n)}},t.visualHandlers={color:{applyVisual:x("color"),getColorMapper:function(){var t=this.option;return o.c("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),M.call(this,t)}:function(e,n,o){var l=!!o;return!n&&(e=this._normalizeData(e)),o=r.a(e,t.parsedVisual,o),l?o:r.h(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return r.h(r.a(t,this.option.parsedVisual),"rgba")},category:M,piecewise:function(t,e){var n=O.call(this,e);return null==n&&(n=r.h(r.a(t,this.option.parsedVisual),"rgba")),n},fixed:_}},colorHue:y((function(t,e){return r.f(t,e)})),colorSaturation:y((function(t,e){return r.f(t,null,e)})),colorLightness:y((function(t,e){return r.f(t,null,null,e)})),colorAlpha:y((function(t,e){return r.e(t,e)})),decal:{applyVisual:x("decal"),_normalizedToVisual:{linear:null,category:M,piecewise:null,fixed:null}},opacity:{applyVisual:x("opacity"),_normalizedToVisual:S([0,1])},liftZ:{applyVisual:x("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:m,category:M,piecewise:function(t,e){var n=O.call(this,e);return null==n&&(n=m.call(this,t)),n},fixed:_}},symbolSize:{applyVisual:x("symbolSize"),_normalizedToVisual:S([0,1])}},t}();function v(t,e){var n=t.visual,r=[];o.A(n)?c(n,(function(t){r.push(t)})):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),I(t,r)}function y(t){return{applyVisual:function(e,n,o){var r=this.mapValueToVisual(e);o("color",t(n("color"),r))},_normalizedToVisual:S([0,1])}}function m(t){var e=this.option.visual;return e[Math.round(Object(l.j)(t,[0,1],[0,e.length-1],!0))]||{}}function x(t){return function(e,n,o){o(t,this.mapValueToVisual(e))}}function M(t){var e=this.option.visual;return e[this.option.loop&&t!==d?t%e.length:t]}function _(){return this.option.visual[0]}function S(t){return{linear:function(e){return Object(l.j)(e,t,this.option.visual,!0)},category:M,piecewise:function(e,n){var o=O.call(this,n);return null==o&&(o=Object(l.j)(e,t,this.option.visual,!0)),o},fixed:_}}function O(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var o=n[f.findPieceIndex(t,n)];if(o&&o.visual)return o.visual[this.type]}}function I(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=o.G(e,(function(t){return r.g(t)}))),e}var w={linear:function(t){return Object(l.j)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=f.findPieceIndex(t,e,!0);if(null!=n)return Object(l.j)(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?d:e},fixed:o.J};function V(t,a,b){return t?a<=b:a<b}e.a=f},343:function(t,e,n){"use strict";function o(t,e,n,o,c,h){t=t||0;var d=n[1]-n[0];if(null!=c&&(c=l(c,[0,d])),null!=h&&(h=Math.max(h,null!=c?c:0)),"all"===o){var f=Math.abs(e[1]-e[0]);f=l(f,[0,d]),c=h=l(f,[c,h]),o=0}e[0]=l(e[0],n),e[1]=l(e[1],n);var v=r(e,o);e[o]+=t;var y,m=c||0,x=n.slice();return v.sign<0?x[0]+=m:x[1]-=m,e[o]=l(e[o],x),y=r(e,o),null!=c&&(y.sign!==v.sign||y.span<c)&&(e[1-o]=e[o]+v.sign*c),y=r(e,o),null!=h&&y.span>h&&(e[1-o]=e[o]+y.sign*h),e}function r(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function l(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}n.d(e,"a",(function(){return o}))},356:function(t,e,n){"use strict";function o(t,e){return t.type===e}n.d(e,"a",(function(){return o}))},371:function(t,e,n){"use strict";var o=n(320),r=n(348),l=n(382),c=n(421),h=n(323),d=n(400),f=function(t){this.coordSysDims=[],this.axisMap=Object(o.g)(),this.categoryAxisMap=Object(o.g)(),this.coordSysName=t};var v={cartesian2d:function(t,e,n,o){var r=t.getReferringComponents("xAxis",h.b).models[0],l=t.getReferringComponents("yAxis",h.b).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",l),y(r)&&(o.set("x",r),e.firstCategoryDimIndex=0),y(l)&&(o.set("y",l),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,o){var r=t.getReferringComponents("singleAxis",h.b).models[0];e.coordSysDims=["single"],n.set("single",r),y(r)&&(o.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,o){var r=t.getReferringComponents("polar",h.b).models[0],l=r.findAxisModel("radiusAxis"),c=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",c),y(l)&&(o.set("radius",l),e.firstCategoryDimIndex=0),y(c)&&(o.set("angle",c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,o){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var l=t.ecModel,c=l.getComponent("parallel",t.get("parallelIndex")),h=e.coordSysDims=c.dimensions.slice();Object(o.k)(c.parallelAxisIndex,(function(t,o){var c=l.getComponent("parallelAxis",t),d=h[o];n.set(d,c),y(c)&&(r.set(d,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))}))}};function y(t){return"category"===t.get("type")}var m=n(397),x=n(340),M=n(411),_=n(394);e.a=function(t,e,n){n=n||{};var source,y=e.getSourceManager(),S=!1;t?(S=!0,source=Object(m.c)(t)):S=(source=y.getSource()).sourceFormat===_.f;var O=function(t){var e=t.get("coordinateSystem"),n=new f(e),o=v[e];if(o)return o(t,n,n.axisMap,n.categoryAxisMap),n}(e),I=function(t,e){var n,r=t.get("coordinateSystem"),l=d.a.get(r);return e&&e.coordSysDims&&(n=o.G(e.coordSysDims,(function(t){var n={name:t},o=e.axisMap.get(t);if(o){var r=o.get("type");n.type=Object(c.a)(r)}return n}))),n||(n=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]),n}(e,O),w=n.useEncodeDefaulter,V=o.w(w)?w:w?o.i(M.c,I,e):null,C={coordDimensions:I,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:V,canOmitUnusedDimensions:!S},T=Object(l.a)(source,C),D=function(t,e,n){var r,l;return n&&o.k(t,(function(t,o){var c=t.coordDim,h=n.categoryAxisMap.get(c);h&&(null==r&&(r=o),t.ordinalMeta=h.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)})),l||null==r||(t[r].otherDims.itemName=0),r}(T.dimensions,n.createInvertedIndices,O),z=S?null:y.getSharedDataStore(T),k=Object(x.a)(e,{schema:T,store:z}),data=new r.a(T,e);data.setCalculationInfo(k);var L=null!=D&&function(source){if(source.sourceFormat===_.f){var t=function(t){var i=0;for(;i<t.length&&null==t[i];)i++;return t[i]}(source.data||[]);return null!=t&&!o.t(Object(h.h)(t))}}(source)?function(t,e,n,o){return o===D?n:this.defaultDimValueGetter(t,e,n,o)}:null;return data.hasItemOption=!1,data.initData(S?source:z,null,L),data}},429:function(t,e,n){},439:function(t,e,n){"use strict";n.d(e,"a",(function(){return zt}));var o=n(344),r=n(321),l=n(320),c=n(326),h={get:function(t,e,n){var o=l.d((d[t]||{})[e]);return n&&l.t(o)?o[o.length-1]:o}},d={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},f=h,v=n(334),y=n(347),m=l.k;function x(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function M(option,t,e){var n={};return m(t,(function(t){var o,r=n[t]=((o=function(){}).prototype.__hidden=o.prototype,new o);m(option[t],(function(n,o){if(v.a.isValidType(o)){var c={type:o,visual:n};e&&e(c,t),r[o]=new v.a(c),"opacity"===o&&((c=l.d(c)).type="colorAlpha",r.__hidden.__alphaForOpacity=new v.a(c))}}))})),n}var _=n(323),S=n(324),O=n(335),I=v.a.mapVisual,w=v.a.eachVisual,V=l.t,C=l.k,T=S.c,D=S.j,z=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(r.a)(e,t),e.prototype.init=function(option,t,e){this.mergeDefaultAndTheme(option,e)},e.prototype.optionUpdated=function(t,e){var n=this.option;c.a.canvasSupported||(n.realtime=!1),!e&&function(t,e,n){var o;l.k(n,(function(t){e.hasOwnProperty(t)&&x(e[t])&&(o=!0)})),o&&l.k(n,(function(n){e.hasOwnProperty(n)&&x(e[n])?t[n]=l.d(e[n]):delete t[n]}))}(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=l.c(t,this),this.controllerVisuals=M(this.option.controller,e,t),this.targetVisuals=M(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=_.p(t),e},e.prototype.eachTargetSeries=function(t,e){l.k(this.getTargetSeriesIndices(),(function(n){var o=this.ecModel.getSeriesByIndex(n);o&&t.call(e,o)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var o,option=this.option,r=option.precision,c=this.dataBound,h=option.formatter;n=n||["<",">"],l.t(t)&&(t=t.slice(),o=!0);var d=e?t:o?[f(t[0]),f(t[1])]:f(t);return l.B(h)?h.replace("{value}",o?d[0]:d).replace("{value2}",o?d[1]:d):l.w(h)?o?h(t[0],t[1]):h(t):o?t[0]===c[0]?n[0]+" "+d[1]:t[1]===c[1]?n[1]+" "+d[0]:d[0]+" - "+d[1]:d;function f(t){return t===c[0]?"min":t===c[1]?"max":(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=T([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(data){var t=this.option.dimension;if(null!=t)return data.getDimensionIndex(t);for(var e=data.dimensions,i=e.length-1;i>=0;i--){var n=e[i],o=data.getDimensionInfo(n);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,base={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});l.H(n,base),l.H(o,base);var r=this.isCategory();function c(base){V(e.color)&&!base.inRange&&(base.inRange={color:e.color.slice().reverse()}),base.inRange=base.inRange||{color:t.get("gradientColor")}}c.call(this,n),c.call(this,o),function(base,t,e){var n=base[t],o=base[e];n&&!o&&(o=base[e]={},C(n,(function(t,e){if(v.a.isValidType(e)){var n=f.get(e,"inactive",r);null!=n&&(o[e]=n,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}.call(this,n,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get("inactiveColor"),c=this.getItemSymbol()||"roundRect";C(this.stateList,(function(h){var d=this.itemSize,f=t[h];f||(f=t[h]={color:r?o:[o]}),null==f.symbol&&(f.symbol=e&&l.d(e)||(r?c:[c])),null==f.symbolSize&&(f.symbolSize=n&&l.d(n)||(r?d[0]:[d[0],d[0]])),f.symbol=I(f.symbol,(function(symbol){return"none"===symbol?c:symbol}));var v=f.symbolSize;if(null!=v){var y=-1/0;w(v,(function(t){t>y&&(y=t)})),f.symbolSize=I(v,(function(t){return D(t,[0,y],[0,d[0]],!0)}))}}),this)}.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(O.a),k=z,component=n(345),L=[20,140],R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r.a)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=L[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=L[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):l.t(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),l.k(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=S.c((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var o=[],data=n.getData();data.each(this.getDataDimensionIndex(data),(function(e,n){t[0]<=e&&e<=t[1]&&o.push(n)}),this),e.push({seriesId:n.id,dataIndex:o})}),this),e},e.prototype.getVisualMeta=function(t){var e=A(this,"outOfRange",this.getExtent()),n=A(this,"inRange",this.option.range.slice()),o=[];function r(e,n){o.push({value:e,color:t(e,n)})}for(var l=0,c=0,h=n.length,d=e.length;c<d&&(!n.length||e[c]<=n[0]);c++)e[c]<n[l]&&r(e[c],"outOfRange");for(var f=1;l<h;l++,f=0)f&&o.length&&r(n[l],"outOfRange"),r(n[l],"inRange");for(f=1;c<d;c++)(!n.length||n[n.length-1]<e[c])&&(f&&(o.length&&r(o[o.length-1].value,"outOfRange"),f=0),r(e[c],"outOfRange"));var v=o.length;return{stops:o,outerColors:[v?o[0].color:"transparent",v?o[v-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Object(component.d)(k.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(k);function A(t,e,n){if(n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/200,r=n[0],l=[],i=0;i<=200&&r<n[1];i++)l.push(r),r+=o;return l.push(n[1]),l}var j=R,H=n(418),P=n(342),E=n(558),G=n(329),B=n(333),F=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(r.a)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=G.g(e.get("padding")||0),rect=t.getBoundingRect();t.add(new E.a({z2:-1,silent:!0,shape:{x:rect.x-n[3],y:rect.y-n[0],width:rect.width+n[3]+n[1],height:rect.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var o=(n=n||{}).forceState,r=this.visualMapModel,c={};if("color"===e){var h=r.get("contentColor");c.color=h}function d(t){return c[t]}function f(t,e){c[t]=e}var y=r.controllerVisuals[o||r.getValueState(t)],m=v.a.prepareVisualTypes(y);return l.k(m,(function(o){var r=y[o];n.convertOpacityToAlpha&&"opacity"===o&&(o="colorAlpha",r=y.__alphaForOpacity),v.a.dependsOn(o,e)&&r&&r.applyVisual(t,d,f)})),c[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;B.g(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,o){},e.type="visualMap",e}(n(336).a),N=F,Y=n(391),W=n(473),J=n(322),K=n(579),U=n(343),X=[["left","right","width"],["top","bottom","height"]];function Z(t,e,n){var o=t.option,r=o.align;if(null!=r&&"auto"!==r)return r;for(var l={width:e.getWidth(),height:e.getHeight()},c="horizontal"===o.orient?1:0,h=X[c],d=[0,null,10],f={},i=0;i<3;i++)f[X[1-c][i]]=d[i],f[h[i]]=2===i?n[0]:o[h[i]];var v=[["x","width",3],["y","height",0]][c],rect=Object(B.e)(f,l,o.padding);return h[(rect.margin[v[2]]||0)+rect[v[0]]+.5*rect[v[1]]<.5*l[v[1]]?0:1]}function $(t,e){return l.k(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var Q=n(379),tt=n(327),symbol=n(331),et=n(341),it=n(330),nt=S.j,at=l.k,ot=Math.min,st=Math.max,lt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(r.a)(e,t),e.prototype.doRender=function(t,e,n,o){this._api=n,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var text=e[1-n];text=null!=text?text+"":"";var o=this.visualMapModel,r=o.get("textGap"),l=o.itemSize,c=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===n?-r:l[1]+r],c),d=this._applyTransform(0===n?"bottom":"top",c),f=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new Y.a({style:{x:h[0],y:h[1],verticalAlign:"horizontal"===f?"middle":d,align:"horizontal"===f?d:"center",text:text,font:v.getFont(),fill:v.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,o=e.itemSize,r=this._orient,c=this._useHandle,h=Z(e,this.api,o),d=n.mainGroup=this._createBarGroup(h),f=new W.a;d.add(f),f.add(n.outOfRange=ut()),f.add(n.inRange=ut(null,c?pt(this._orient):null,l.c(this._dragHandle,this,"all",!1),l.c(this._dragHandle,this,"all",!0))),f.setClipPath(new E.a({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var v=e.textStyleModel.getTextRect("国"),y=st(v.width,v.height);c&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,d,0,o,y,r),this._createHandle(e,d,1,o,y,r)),this._createIndicator(e,d,o,y,r),t.add(d)},e.prototype._createHandle=function(t,e,n,o,r,c){var h=l.c(this._dragHandle,this,n,!1),d=l.c(this._dragHandle,this,n,!0),f=Object(Q.h)(t.get("handleSize"),o[0]),v=Object(symbol.a)(t.get("handleIcon"),-f/2,-f/2,f,f,null,!0),cursor=pt(this._orient);v.attr({cursor:cursor,draggable:!0,drift:h,ondragend:d,onmousemove:function(t){P.g(t.event)}}),v.x=o[0]/2,v.useStyle(t.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(tt.E)(v,!0),e.add(v);var y=this.visualMapModel.textStyleModel,m=new Y.a({cursor:cursor,draggable:!0,drift:h,onmousemove:function(t){P.g(t.event)},ondragend:d,style:{x:0,y:0,text:"",font:y.getFont(),fill:y.getTextColor()}});m.ensureState("blur").style={opacity:.1},m.stateTransition={duration:200},this.group.add(m);var x=[f,0],M=this._shapes;M.handleThumbs[n]=v,M.handleLabelPoints[n]=x,M.handleLabels[n]=m},e.prototype._createIndicator=function(t,e,n,o,r){var c=Object(Q.h)(t.get("indicatorSize"),n[0]),h=Object(symbol.a)(t.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var d=t.getModel("indicatorStyle").getItemStyle();if(h instanceof et.a){var f=h.style;h.useStyle(l.m({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},d))}else h.useStyle(d);e.add(h);var v=this.visualMapModel.textStyleModel,y=new Y.a({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:v.getFont(),fill:v.getTextColor()}});this.group.add(y);var m=[("horizontal"===r?o/2:6)+n[0]/2,0],x=this._shapes;x.indicator=h,x.indicatorLabel=y,x.indicatorLabelPoint=m,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,o){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,o],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():ct(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[nt(e[0],n,o,!0),nt(e[1],n,o,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,o=this._handleEnds,r=[0,n.itemSize[1]];Object(U.a)(e,o,r,t,0);var l=n.getExtent();this._dataInterval=[nt(o[0],r,l,!0),nt(o[1],r,l,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),o=this._shapes,r=[0,e.itemSize[1]],l=t?r:this._handleEnds,c=this._createBarVisual(this._dataInterval,n,l,"inRange"),h=this._createBarVisual(n,n,r,"outOfRange");o.inRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),o.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(l,c)},e.prototype._createBarVisual=function(t,e,n,o){var r={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(t,r),c=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],h=this._createBarPoints(n,c);return{barColor:new H.a(0,0,0,1,l),barPoints:h,handlesColor:[l[0].color,l[l.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],o=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var r=t[0]+o*i;if(r>t[1])break;n.push({color:this.getControllerVisual(r,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new W.a("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,o=this.visualMapModel,r=n.handleThumbs,l=n.handleLabels,c=o.itemSize,h=o.getExtent();at([0,1],(function(d){var f=r[d];f.setStyle("fill",e.handlesColor[d]),f.y=t[d];var v=nt(t[d],[0,c[1]],h,!0),y=this.getControllerVisual(v,"symbolSize");f.scaleX=f.scaleY=y/c[0],f.x=c[0]-y/2;var m=J.applyTransform(n.handleLabelPoints[d],J.getTransform(f,this.group));l[d].setStyle({x:m[0],y:m[1],text:o.formatValueText(this._dataInterval[d]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,o){var r=this.visualMapModel,l=r.getExtent(),c=r.itemSize,h=[0,c[1]],d=this._shapes,f=d.indicator;if(f){f.attr("invisible",!1);var v=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),y=this.getControllerVisual(t,"symbolSize"),m=nt(t,l,h,!0),x=c[0]-y/2,M={x:f.x,y:f.y};f.y=m,f.x=x;var _=J.applyTransform(d.indicatorLabelPoint,J.getTransform(f,this.group)),S=d.indicatorLabel;S.attr("invisible",!1);var O=this._applyTransform("left",d.mainGroup),I="horizontal"===this._orient;S.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:I?O:"middle",align:I?"center":O});var w={x:x,y:m,style:{fill:v}},V={style:{x:_[0],y:_[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};f.x=M.x,f.y=M.y,f.animateTo(w,C),S.animateTo(V,C)}else f.attr(w),S.attr(V);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var i=0;i<T.length;i++)this._api.enterBlur(T[i])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,o=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);o[1]=ot(st(0,o[1]),n[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,o=n.itemSize;if(n.option.hoverLink){var r=[0,o[1]],l=n.getExtent();t=ot(st(r[0],t),r[1]);var c=function(t,e,n){var o=6,r=t.get("hoverLinkDataSize");r&&(o=nt(r,e,n,!0)/2);return o}(n,l,r),h=[t-c,t+c],d=nt(t,r,l,!0),f=[nt(h[0],r,l,!0),nt(h[1],r,l,!0)];h[0]<r[0]&&(f[0]=-1/0),h[1]>r[1]&&(f[1]=1/0),e&&(f[0]===-1/0?this._showIndicator(d,f[1],"< ",c):f[1]===1/0?this._showIndicator(d,f[0],"> ",c):this._showIndicator(d,d,"≈ ",c));var v=this._hoverLinkDataIndices,y=[];(e||ct(n))&&(y=this._hoverLinkDataIndices=n.findTargetDataIndices(f));var m=_.d(v,y);this._dispatchHighDown("downplay",$(m[0],n)),this._dispatchHighDown("highlight",$(m[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Object(it.a)(e).dataIndex){var o=Object(it.a)(e),r=this.ecModel.getSeriesByIndex(o.seriesIndex);if(n.isTargetSeries(r)){var data=r.getData(o.dataType),l=data.getStore().get(n.getDataDimensionIndex(data),o.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this._api.leaveBlur(e[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",$(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,element,e,n){var o=J.getTransform(element,n?null:this.group);return l.t(t)?J.applyTransform(t,o,e):J.transformDirection(t,o,e)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(N);function ut(t,cursor,e,n){return new K.a({shape:{points:t},draggable:!!e,cursor:cursor,drift:e,onmousemove:function(t){P.g(t.event)},ondragend:n})}function ct(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function pt(t){return"vertical"===t?"ns-resize":"ew-resize"}var ht=lt,gt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},ft=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},vt=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var o,r,c,h,d,f=t.pipelineContext;!e.isTargetSeries(t)||f&&f.large||n.push((o=e.stateList,r=e.targetVisuals,c=l.c(e.getValueState,e),h=e.getDataDimensionIndex(t.getData()),d={},l.k(o,(function(t){var e=v.a.prepareVisualTypes(r[t]);d[t]=e})),{progress:function(t,data){var e,n;function o(t){return Object(y.a)(data,n,t)}function l(t,e){Object(y.c)(data,n,t,e)}null!=h&&(e=data.getDimensionIndex(h));for(var f=data.getStore();null!=(n=t.next());){var v=data.getRawDataItem(n);if(!v||!1!==v.visualMap)for(var m=null!=h?f.get(e,n):n,x=c(m),M=r[x],_=d[x],i=0,S=_.length;i<S;i++){var O=_[i];M[O]&&M[O].applyVisual(m,o,l)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var data=t.getData(),n=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(l.c(yt,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimensionIndex(data);r>=0&&(o.dimension=r,n.push(o))}})),t.getData().setVisual("visualMeta",n)}}];function yt(t,e,n,o){for(var r=e.targetVisuals[o],l=v.a.prepareVisualTypes(r),c={color:Object(y.b)(t.getData(),"color")},i=0,h=l.length;i<h;i++){var d=l[i],f=r["opacity"===d?"__alphaForOpacity":d];f&&f.applyVisual(n,m,x)}return c.color;function m(t){return c[t]}function x(t,e){c[t]=e}}var mt=l.k;function xt(option){var t=option&&option.visualMap;l.t(t)||(t=t?[t]:[]),mt(t,(function(t){if(t){Mt(t,"splitList")&&!Mt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&l.t(e)&&mt(e,(function(t){l.A(t)&&(Mt(t,"start")&&!Mt(t,"min")&&(t.min=t.start),Mt(t,"end")&&!Mt(t,"max")&&(t.max=t.end))}))}}))}function Mt(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var bt=!1;function _t(t){bt||(bt=!0,t.registerSubTypeDefaulter("visualMap",(function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"})),t.registerAction(gt,ft),Object(l.k)(vt,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(xt))}function St(t){t.registerComponentModel(j),t.registerComponentView(ht),_t(t)}var Ot=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(r.a)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],It[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===o?(t.mappingMethod="category",t.categories=l.d(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=l.G(this._pieceList,(function(t){return t=l.d(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var option=this.option,e={},n=v.a.listVisualTypes(),o=this.isCategory();function r(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}l.k(option.pieces,(function(t){l.k(n,(function(n){t.hasOwnProperty(n)&&(e[n]=1)}))})),l.k(e,(function(t,e){var n=!1;l.k(this.stateList,(function(t){n=n||r(option,t,e)||r(option.target,t,e)}),this),!n&&l.k(this.stateList,(function(t){(option[t]||(option[t]={}))[e]=f.get(e,"inRange"===t?"active":"inactive",o)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,o=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,l.k(o,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var c=!1;l.k(o,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(c?r[n]=!1:c=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=l.d(t)},e.prototype.getValueState=function(t){var e=v.a.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(o){var r=[],data=o.getData();data.each(this.getDataDimensionIndex(data),(function(e,o){v.a.findPieceIndex(e,n)===t&&r.push(o)}),this),e.push({seriesId:o.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],o=this,r=this._pieceList.slice();if(r.length){var c=r[0].interval[0];c!==-1/0&&r.unshift({interval:[-1/0,c]}),(c=r[r.length-1].interval[1])!==1/0&&r.push({interval:[c,1/0]})}else r.push({interval:[-1/0,1/0]});var h=-1/0;return l.k(r,(function(t){var e=t.interval;e&&(e[0]>h&&d([h,e[0]],"outOfRange"),d(e.slice()),h=e[1])}),this),{stops:e,outerColors:n}}function d(r,l){var c=o.getRepresentValue({interval:r});l||(l=o.getValueState(c));var h=t(c,l);r[0]===-1/0?n[0]=h:r[1]===1/0?n[1]=h:e.push({value:r[0],color:h},{value:r[1],color:h})}},e.type="visualMap.piecewise",e.defaultOption=Object(component.d)(k.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(k),It={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),o=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var c=(o[1]-o[0])/r;+c.toFixed(n)!==c&&n<5;)n++;e.precision=n,c=+c.toFixed(n),e.minOpen&&t.push({interval:[-1/0,o[0]],close:[0,0]});for(var h=0,d=o[0];h<r;d+=c,h++){var f=h===r-1?o[1]:d+c;t.push({interval:[d,f],close:[1,1]})}e.maxOpen&&t.push({interval:[o[1],1/0],close:[0,0]}),Object(S.p)(t),l.k(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;l.k(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),wt(e,t)},pieces:function(t){var e=this.option;l.k(e.pieces,(function(e,n){l.A(e)||(e={value:e});var o={text:"",index:n};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var r=o.value=e.value;o.interval=[r,r],o.close=[1,1]}else{for(var c=o.interval=[],h=o.close=[0,0],d=[1,0,1],f=[-1/0,1/0],y=[],m=0;m<2;m++){for(var x=[["gte","gt","min"],["lte","lt","max"]][m],i=0;i<3&&null==c[m];i++)c[m]=e[x[i]],h[m]=d[i],y[m]=2===i;null==c[m]&&(c[m]=f[m])}y[0]&&c[1]===1/0&&(h[0]=0),y[1]&&c[0]===-1/0&&(h[1]=0),c[0]===c[1]&&h[0]&&h[1]&&(o.value=c[0])}o.visual=v.a.retrieveVisuals(e),t.push(o)}),this),wt(e,t),Object(S.p)(t),l.k(t,(function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function wt(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var Vt=Ot,Ct=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(r.a)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),o=e.textStyleModel,r=o.getFont(),c=o.getTextColor(),h=this._getItemAlign(),d=e.itemSize,f=this._getViewData(),v=f.endsText,y=l.M(e.get("showLabel",!0),!v);v&&this._renderEndsText(t,v[0],d,y,h),l.k(f.viewPieceList,(function(o){var f=o.piece,v=new W.a;v.onclick=l.c(this._onItemClick,this,f),this._enableHoverLink(v,o.indexInModelPieceList);var m=e.getRepresentValue(f);if(this._createItemSymbol(v,m,[0,0,d[0],d[1]]),y){var x=this.visualMapModel.getValueState(m);v.add(new Y.a({style:{x:"right"===h?-n:d[0]+n,y:d[1]/2,text:f.text,verticalAlign:"middle",align:h,font:r,fill:c,opacity:"outOfRange"===x?.5:1}}))}t.add(v)}),this),v&&this._renderEndsText(t,v[1],d,y,h),B.a(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return o("highlight")})).on("mouseout",(function(){return o("downplay")}));var o=function(t){var o=n.visualMapModel;o.option.hoverLink&&n.api.dispatchAction({type:t,batch:$(o.findTargetDataIndices(e),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return Z(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,text,e,n,o){if(text){var r=new W.a,l=this.visualMapModel.textStyleModel;r.add(new Y.a({style:{x:n?"right"===o?e[0]:0:e[0]/2,y:e[1]/2,verticalAlign:"middle",align:n?o:"center",text:text,font:l.getFont(),fill:l.getTextColor()}})),t.add(r)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=l.G(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),o=t.get("orient"),r=t.get("inverse");return("horizontal"===o?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Object(symbol.a)(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,option=e.option,n=l.d(option.selected),o=e.getSelectedMapKey(t);"single"===option.selectedMode?(n[o]=!0,l.k(n,(function(t,e){n[e]=e===o}))):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})},e.type="visualMap.piecewise",e}(N),Tt=Ct;function Dt(t){t.registerComponentModel(Vt),t.registerComponentView(Tt),_t(t)}function zt(t){Object(o.a)(St),Object(o.a)(Dt)}},466:function(t,e,n){"use strict";n(429)},484:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(18),n(28),n(344)),l=n(566),c=n(321),h=n(558),d=n(341),f=n(327),v=n(320),y=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=v.f();this.canvas=canvas}return t.prototype.update=function(data,t,e,n,o,r){var l=this._getBrush(),c=this._getGradient(o,"inRange"),h=this._getGradient(o,"outOfRange"),d=this.pointSize+this.blurSize,canvas=this.canvas,f=canvas.getContext("2d"),v=data.length;canvas.width=t,canvas.height=e;for(var i=0;i<v;++i){var p=data[i],y=p[0],m=p[1],x=n(p[2]);f.globalAlpha=x,f.drawImage(l,y-d,m-d)}if(!canvas.width||!canvas.height)return canvas;for(var M=f.getImageData(0,0,canvas.width,canvas.height),_=M.data,S=0,O=_.length,I=this.minOpacity,w=this.maxOpacity-I;S<O;){x=_[S+3]/256;var V=4*Math.floor(255*x);if(x>0){var C=r(x)?c:h;x>0&&(x=x*w+I),_[S++]=C[V],_[S++]=C[V+1],_[S++]=C[V+2],_[S++]=C[V+3]*x*256}else S+=4}return f.putImageData(M,0,0),canvas},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=v.f()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var o=t.getContext("2d");return o.clearRect(0,0,n,n),o.shadowOffsetX=n,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-e,e,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,o=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],l=0,i=0;i<256;i++)t[e](i/255,!0,r),o[l++]=r[0],o[l++]=r[1],o[l++]=r[2],o[l++]=r[3];return o},t}(),m=n(369),x=n(356),M=n(328);function _(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var S=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(c.a)(e,t),e.prototype.render=function(t,e,n){var o;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(o=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):_(r)&&this._renderOnGeo(r,t,o,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,o){var r=e.coordinateSystem;r&&(_(r)?this.render(e,n,o):this._renderOnCartesianAndCalendar(e,o,t.start,t.end,!0))},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,o,r){var l,c,d,v,y=t.coordinateSystem;if(Object(x.a)(y,"cartesian2d")){var m=y.getAxis("x"),_=y.getAxis("y");0,l=m.getBandWidth(),c=_.getBandWidth(),d=m.scale.getExtent(),v=_.scale.getExtent()}for(var S=this.group,data=t.getData(),O=t.getModel(["emphasis","itemStyle"]).getItemStyle(),I=t.getModel(["blur","itemStyle"]).getItemStyle(),w=t.getModel(["select","itemStyle"]).getItemStyle(),V=Object(M.d)(t),C=t.get(["emphasis","focus"]),T=t.get(["emphasis","blurScope"]),D=Object(x.a)(y,"cartesian2d")?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],z=n;z<o;z++){var rect=void 0,style=data.getItemVisual(z,"style");if(Object(x.a)(y,"cartesian2d")){var k=data.get(D[0],z),L=data.get(D[1],z);if(isNaN(data.get(D[2],z))||k<d[0]||k>d[1]||L<v[0]||L>v[1])continue;var R=y.dataToPoint([k,L]);rect=new h.a({shape:{x:Math.floor(Math.round(R[0])-l/2),y:Math.floor(Math.round(R[1])-c/2),width:Math.ceil(l),height:Math.ceil(c)},style:style})}else{if(isNaN(data.get(D[1],z)))continue;rect=new h.a({z2:1,shape:y.dataToRect([data.get(D[0],z)]).contentShape,style:style})}var A=data.getItemModel(z);if(data.hasItemOption){var j=A.getModel("emphasis");O=j.getModel("itemStyle").getItemStyle(),I=A.getModel(["blur","itemStyle"]).getItemStyle(),w=A.getModel(["select","itemStyle"]).getItemStyle(),C=j.get("focus"),T=j.get("blurScope"),V=Object(M.d)(A)}var H=t.getRawValue(z),P="-";H&&null!=H[2]&&(P=H[2]+""),Object(M.f)(rect,V,{labelFetcher:t,labelDataIndex:z,defaultOpacity:style.opacity,defaultText:P}),rect.ensureState("emphasis").style=O,rect.ensureState("blur").style=I,rect.ensureState("select").style=w,Object(f.n)(rect,C,T),rect.incremental=r,r&&(rect.states.emphasis.hoverLayer=!0),S.add(rect),data.setItemGraphicEl(z,rect)}},e.prototype._renderOnGeo=function(t,e,n,o){var r=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,data=e.getData(),c=this._hmLayer||this._hmLayer||new y;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var rect=t.getViewRect().clone(),h=t.getRoamTransform();rect.applyTransform(h);var f=Math.max(rect.x,0),m=Math.max(rect.y,0),x=Math.min(rect.width+rect.x,o.getWidth()),M=Math.min(rect.height+rect.y,o.getHeight()),_=x-f,S=M-m,O=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],I=data.mapArray(O,(function(e,n,o){var r=t.dataToPoint([e,n]);return r[0]-=f,r[1]-=m,r.push(o),r})),w=n.getExtent(),V="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(w,n.option.range):function(t,e,n){var o=t[1]-t[0],r=(e=v.G(e,(function(e){return{interval:[(e.interval[0]-t[0])/o,(e.interval[1]-t[0])/o]}}))).length,l=0;return function(t){var i;for(i=l;i<r;i++)if((o=e[i].interval)[0]<=t&&t<=o[1]){l=i;break}if(i===r)for(i=l-1;i>=0;i--){var o;if((o=e[i].interval)[0]<=t&&t<=o[1]){l=i;break}}return i>=0&&i<r&&n[i]}}(w,n.getPieceList(),n.option.selected);c.update(I,_,S,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:l.color.getColorMapper()},V);var img=new d.a({style:{width:_,height:S,x:f,y:m,image:c.canvas},silent:!0});this.group.add(img)},e.type="heatmap",e}(m.a),O=S,I=n(370),w=n(371),V=n(400),C=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(c.a)(e,t),e.prototype.getInitialData=function(option,t){return Object(w.a)(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=V.a.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(I.a),T=C;var D=n(803),z=n(802),k=n(439),L=n(366);Object(r.a)([l.a,D.a,z.a,k.a,function(t){t.registerChartView(O),t.registerSeriesModel(T)}]);var R={name:"HelloWorld",props:{values:{2010:{JAN:1,FEB:2,MAR:3},2011:{JAN:1,FEB:2,MAR:3}},stats:{}},components:{VChart:L.b},provide:Object(o.a)({},L.a,"light"),data:function(){return{option:{backgroundColor:"transparent",tooltip:{position:"top"},grid:{top:"12px",bottom:"48px",right:"0",left:"36px"},xAxis:{type:"category",data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],splitArea:{show:!0}},yAxis:{type:"category",data:[],splitArea:{show:!0}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",right:"0",top:"0",formatter:function(t){return t+"%"},inRange:{color:["#9a91ff","white","#ff85b6"]},show:!1},series:[{name:"報酬率",type:"heatmap",data:[],label:{show:!0,formatter:function(t){return"".concat(t.value[2],"%")}},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},optionYearly:null,years:0}},mounted:function(){this.init()},methods:{init:function(){this.optionYearly=JSON.parse(JSON.stringify(this.option)),this.optionYearly.grid.left="0";var t=this.values,e=[],n=[],o=0;for(var r in t)for(var l in o+=1,t[r])"YTD"!==l&&0!==t[r][l]&&(e.push([l,r,t[r][l]]),n.push(100*t[r][l]));this.years=o;var c={},h=[],i=0;for(var d in t)c[d]=o-1-i,h.unshift(d),i+=1;var f={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};for(var v in e){var y=e[v][0],m=e[v][1];e[v]=[f[y],c[m],Math.round(1e3*e[v][2])/10]}this.option.series[0].data=e,this.option.yAxis.data=h;var x=Math.max.apply(Math,n),M=Math.max.apply(Math,n),_=Math.round(10*Math.max(Math.abs(x),Math.abs(M)))/10;this.option.visualMap.min=-_,this.option.visualMap.max=_;var S={},O=[];for(var I in i=0,t)S[I]=i,O.push(I),i+=1;var w=[],V=[];for(var C in t){var T=1;for(var D in t[C])"YTD"!==D&&(T*=1+t[C][D]);T-=1,w.push([S[C],0,Math.round(100*T)]),V.push(T)}this.optionYearly.series[0].data=w,this.optionYearly.xAxis.data=O,this.optionYearly.series[0].label.formatter=function(t){return"".concat(t.value[2],"%")},this.optionYearly.yAxis.data=["報酬"],x=100*Math.max.apply(Math,V),M=100*Math.min.apply(Math,V),_=Math.round(Math.max(Math.abs(x),Math.max(M))),this.optionYearly.visualMap.min=-_,this.optionYearly.visualMap.max=_}},watch:{values:function(){this.init()}}},A=(n(466),n(40)),component=Object(A.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",{staticClass:"uk-text-primary uk-margin-large-top"},[t._v("年報酬")]),t._v(" "),n("v-chart",{staticClass:"chartYearly",attrs:{option:t.optionYearly,autoresize:""}}),t._v(" "),n("h5",{staticClass:"uk-text-primary uk-margin-large-top"},[t._v("月報酬")]),t._v(" "),n("div",{staticClass:"uk-overflow-auto",staticStyle:{width:"100%"}},[n("div",{staticStyle:{"min-width":"420px"}},[n("v-chart",{staticClass:"chart",style:{height:30*t.years+150+"px"},attrs:{option:t.option,autoresize:""}})],1)])],1)}),[],!1,null,"04b16d7f",null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{333:function(t,e,n){"use strict";var o=n(320),r=n(339),l=n(324),d=o.k,c=o.A,h=-1,f=function(){function t(option){var e=option.mappingMethod,n=option.type,r=this.option=o.d(option);this.type=n,this.mappingMethod=e,this._normalizeData=j[e];var l=t.visualHandlers[n];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[e],"piecewise"===e?(v(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,o.k(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(d(e,(function(t,e){n[t]=e})),!o.t(r)){var l=[];o.A(r)?d(r,(function(t,e){var o=n[e];l[null!=o?o:h]=t})):l[-1]=r,r=O(t,l)}for(var i=e.length-1;i>=0;i--)null==r[i]&&(delete n[e[i]],e.pop())}(r):v(r,!0):(o.b("linear"!==e||r.dataExtent),v(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return o.c(this._normalizeData,this)},t.listVisualTypes=function(){return o.E(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){o.A(t)?o.k(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var l,d=o.t(e)?[]:o.A(e)?{}:(l=!0,null);return t.eachVisual(e,(function(t,e){var o=n.call(r,t,e);l?d=o:d[e]=o})),d},t.retrieveVisuals=function(e){var n,o={};return e&&d(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(o[r]=e[r],n=!0)})),n?o:null},t.prepareVisualTypes=function(t){if(o.t(t))t=t.slice();else{if(!c(t))return[];var e=[];d(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var o,r=1/0,i=0,l=e.length;i<l;i++){var d=e[i].value;if(null!=d){if(d===t||"string"==typeof d&&d===t+"")return i;n&&v(d,i)}}for(i=0,l=e.length;i<l;i++){var c=e[i],h=c.interval,f=c.close;if(h){if(h[0]===-1/0){if(T(f[1],t,h[1]))return i}else if(h[1]===1/0){if(T(f[0],h[0],t))return i}else if(T(f[0],h[0],t)&&T(f[1],t,h[1]))return i;n&&v(h[0],i),n&&v(h[1],i)}}if(n)return t===1/0?e.length-1:t===-1/0?0:o;function v(e,n){var l=Math.abs(e-t);l<r&&(r=l,o=n)}},t.visualHandlers={color:{applyVisual:x("color"),getColorMapper:function(){var t=this.option;return o.c("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),w.call(this,t)}:function(e,n,o){var l=!!o;return!n&&(e=this._normalizeData(e)),o=r.a(e,t.parsedVisual,o),l?o:r.h(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return r.h(r.a(t,this.option.parsedVisual),"rgba")},category:w,piecewise:function(t,e){var n=M.call(this,e);return null==n&&(n=r.h(r.a(t,this.option.parsedVisual),"rgba")),n},fixed:_}},colorHue:y((function(t,e){return r.f(t,e)})),colorSaturation:y((function(t,e){return r.f(t,null,e)})),colorLightness:y((function(t,e){return r.f(t,null,null,e)})),colorAlpha:y((function(t,e){return r.e(t,e)})),decal:{applyVisual:x("decal"),_normalizedToVisual:{linear:null,category:w,piecewise:null,fixed:null}},opacity:{applyVisual:x("opacity"),_normalizedToVisual:I([0,1])},liftZ:{applyVisual:x("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:m,category:w,piecewise:function(t,e){var n=M.call(this,e);return null==n&&(n=m.call(this,t)),n},fixed:_}},symbolSize:{applyVisual:x("symbolSize"),_normalizedToVisual:I([0,1])}},t}();function v(t,e){var n=t.visual,r=[];o.A(n)?d(n,(function(t){r.push(t)})):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),O(t,r)}function y(t){return{applyVisual:function(e,n,o){var r=this.mapValueToVisual(e);o("color",t(n("color"),r))},_normalizedToVisual:I([0,1])}}function m(t){var e=this.option.visual;return e[Math.round(Object(l.j)(t,[0,1],[0,e.length-1],!0))]||{}}function x(t){return function(e,n,o){o(t,this.mapValueToVisual(e))}}function w(t){var e=this.option.visual;return e[this.option.loop&&t!==h?t%e.length:t]}function _(){return this.option.visual[0]}function I(t){return{linear:function(e){return Object(l.j)(e,t,this.option.visual,!0)},category:w,piecewise:function(e,n){var o=M.call(this,n);return null==o&&(o=Object(l.j)(e,t,this.option.visual,!0)),o},fixed:_}}function M(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var o=n[f.findPieceIndex(t,n)];if(o&&o.visual)return o.visual[this.type]}}function O(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=o.G(e,(function(t){return r.g(t)}))),e}var j={linear:function(t){return Object(l.j)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=f.findPieceIndex(t,e,!0);if(null!=n)return Object(l.j)(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?h:e},fixed:o.J};function T(t,a,b){return t?a<=b:a<b}e.a=f},340:function(t,e,n){"use strict";var o=n(10),r=n(81),l=n(43),d=n(61),c=n(22),h=n(11),f=n(350),v=n(154),y=n(351),m=n(352),x=n(93),w=n(353),_=[],I=_.sort,M=h((function(){_.sort(void 0)})),O=h((function(){_.sort(null)})),j=v("sort"),T=!h((function(){if(x)return x<70;if(!(y&&y>3)){if(m)return!0;if(w)return w<603;var code,t,e,n,o="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)_.push({k:t+n,v:e})}for(_.sort((function(a,b){return b.v-a.v})),n=0;n<_.length;n++)t=_[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:M||!O||!j||!T},{sort:function(t){void 0!==t&&r(t);var e=l(this);if(T)return void 0===t?I.call(e):I.call(e,t);var n,o,h=[],v=d(e);for(o=0;o<v;o++)o in e&&h.push(e[o]);for(h=f(h,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=h.length,o=0;o<n;)e[o]=h[o++];for(;o<v;)delete e[o++];return e}})},350:function(t,e){var n=Math.floor,o=function(t,e){var d=t.length,c=n(d/2);return d<8?r(t,e):l(o(t.slice(0,c),e),o(t.slice(c),e),e)},r=function(t,e){for(var element,n,o=t.length,i=1;i<o;){for(n=i,element=t[i];n&&e(t[n-1],element)>0;)t[n]=t[--n];n!==i++&&(t[n]=element)}return t},l=function(t,e,n){for(var o=t.length,r=e.length,l=0,d=0,c=[];l<o||d<r;)l<o&&d<r?c.push(n(t[l],e[d])<=0?t[l++]:e[d++]):c.push(l<o?t[l++]:e[d++]);return c};t.exports=o},351:function(t,e,n){var o=n(80).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},352:function(t,e,n){var o=n(80);t.exports=/MSIE|Trident/.test(o)},353:function(t,e,n){var o=n(80).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},393:function(t,e,n){"use strict";var o=n(321),r=n(391),l=n(342),d=n(435),c="\0_ec_interaction_mutex";function h(t,e){return!!f(t)[e]}function f(t){return t[c]||(t[c]={})}d.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var v=n(320),y=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var o=Object(v.c)(n._mousedownHandler,n),r=Object(v.c)(n._mousemoveHandler,n),l=Object(v.c)(n._mouseupHandler,n),d=Object(v.c)(n._mousewheelHandler,n),c=Object(v.c)(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(v.j)(Object(v.d)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",l)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",d),e.on("pinch",c))},n.disable=function(){e.off("mousedown",o),e.off("mousemove",r),e.off("mouseup",l),e.off("mousewheel",d),e.off("pinch",c)},n}return Object(o.a)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(l.d(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&w("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!h(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,o=this._x,r=this._y,d=e-o,c=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&l.g(t.event),x(this,"pan","moveOnMouseMove",t,{dx:d,dy:c,oldX:o,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){l.d(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=w("zoomOnMouseWheel",t,this._opt),n=w("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,r=Math.abs(o),l=t.offsetX,d=t.offsetY;if(0!==o&&(e||n)){if(e){var c=r>3?1.4:r>1?1.2:1.1;m(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?c:1/c,originX:l,originY:d,isAvailableBehavior:null})}if(n){var h=Math.abs(o);m(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:l,originY:d,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){h(this._zr,"globalPan")||m(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(r.a);function m(t,e,n,o,r){t.pointerChecker&&t.pointerChecker(o,r.originX,r.originY)&&(l.g(o.event),x(t,e,n,o,r))}function x(t,e,n,o,r){r.isAvailableBehavior=Object(v.c)(w,null,n,o),t.trigger(e,r)}function w(t,e,n){var o=n[t];return!t||o&&(!Object(v.B)(o)||e.event[o+"Key"])}e.a=y},468:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return c}));var o=n(320);function r(t,e,n){if(t&&o.r(e,t.type)>=0){var r=n.getData().tree.root,l=t.targetNode;if("string"==typeof l&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var d=t.targetNodeId;if(null!=d&&(l=r.getNodeById(d)))return{node:l}}}function l(t){for(var path=[];t;)(t=t.parentNode)&&path.push(t);return path.reverse()}function d(t,e){var n=l(t);return o.r(n,e)>=0}function c(t,e){for(var n=[];t;){var o=t.dataIndex;n.push({name:t.name,dataIndex:o,value:e.getRawValue(o)}),t=t.parentNode}return n.reverse(),n}},574:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(543);function r(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var r=e;r&&r.depth>1;)r=r.parentNode;var l=Object(o.b)(t.ecModel,r.name||r.dataIndex+"",n);e.setVisual("decal",l)}))}},637:function(t,e,n){"use strict";var o=n(320),r=n(323),l=Object(r.n)();function d(t,e){if(l(data=this).mainData===data){var n=Object(o.m)({},l(this).datas);n[this.dataType]=e,y(e,n,t)}else m(e,this.dataType,l(this).mainData,t);var data;return e}function c(t,e){return t.struct&&t.struct.update(),e}function h(t,e){return Object(o.k)(l(e).datas,(function(data,n){data!==e&&m(data.cloneShallow(),n,e,t)})),e}function f(t){var e=l(this).mainData;return null==t||null==e?e:l(e).datas[t]}function v(){var t=l(this).mainData;return null==t?[{data:t}]:Object(o.G)(Object(o.E)(l(t).datas),(function(e){return{type:e,data:l(t).datas[e]}}))}function y(t,e,n){l(t).datas={},Object(o.k)(e,(function(data,e){m(data,e,t,n)}))}function m(data,t,e,n){l(e).datas[t]=data,l(data).mainData=e,data.dataType=t,n.struct&&(data[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=data),data.getLinkedData=f,data.getLinkedDataAll=v}var x=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,y(e,n,t),Object(o.k)(n,(function(data){Object(o.k)(e.TRANSFERABLE_METHODS,(function(e){data.wrapMethod(e,Object(o.i)(d,t))}))})),e.wrapMethod("cloneShallow",Object(o.i)(h,t)),Object(o.k)(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Object(o.i)(c,t))})),Object(o.b)(n[e.dataType]===e)},w=n(347),_=n(384),I=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},o.B(t)&&(t={order:t});var r,l=t.order||"preorder",d=this[t.attr||"children"];"preorder"===l&&(r=e.call(n,this));for(var i=0;!r&&i<d.length;i++)d[i].eachNode(t,e,n);"postorder"===l&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var i=0,e=this.children,n=e.length;i<n;i++){var o=e[i].getNodeById(t);if(o)return o}},t.prototype.contains=function(t){if(t===this)return!0;for(var i=0,e=this.children,n=e.length;i<n;i++){var o=e[i].contains(t);if(o)return o}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,i=0;i<t.length;++i)if(t[i]===this)return i;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),M=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var data=this.data,t=this._nodes,i=0,e=t.length;i<e;i++)t[i].dataIndex=-1;for(i=0,e=data.count();i<e;i++)t[data.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,l){var d=new t(n),c=[],h=1;!function t(e,n){var l=e.value;h=Math.max(h,o.t(l)?l.length:1),c.push(e);var f=new I(Object(r.e)(e.name,""),d);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(f,n):d.root=f,d._nodes.push(f);var v=e.children;if(v)for(var i=0;i<v.length;i++)t(v[i],f)}(e),d.root.updateDepthAndHeight(0);var f=Object(_.a)(c,{coordDimensions:["value"],dimensionsCount:h}).dimensions,v=new w.a(f,n);return v.initData(c),l&&l(v),x({mainData:v,struct:d,structAttr:"tree"}),d.update(),d},t}();e.a=M},894:function(t,e,n){"use strict";n.d(e,"a",(function(){return Vt}));var o=n(468),r=function(){},l=["treemapZoomToNode","treemapRender","treemapMove"];var d=n(321),c=n(320),h=n(369),f=n(637),v=n(359),y=n(323),m=n(332),x=n(574),w=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return Object(d.a)(e,t),e.prototype.getInitialData=function(option,t){var e={name:option.name,children:option.data};_(e);var n=option.levels||[],o=this.designatedVisualItemStyle={},r=new v.a({itemStyle:o},this,t);n=option.levels=function(t,e){var n,o,r=Object(y.p)(e.get("color")),l=Object(y.p)(e.get(["aria","decal","decals"]));if(!r)return;t=t||[],c.k(t,(function(t){var e=new v.a(t),r=e.get("color"),l=e.get("decal");(e.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(e.get(["itemStyle","decal"])||l&&"none"!==l)&&(o=!0)}));var d=t[0]||(t[0]={});n||(d.color=r.slice());!o&&l&&(d.decal=l.slice());return t}(n,t);var l=c.G(n||[],(function(e){return new v.a(e,r,t)}),this),d=f.a.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=d.getNodeByDataIndex(e),o=n?l[n.depth]:null;return t.parentModel=o||r,t}))}));return d.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var data=this.getData(),o=this.getRawValue(t),r=data.getName(t);return Object(m.c)("nameValue",{name:r,value:o})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Object(o.d)(r,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},c.m(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=c.g(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){Object(x.a)(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(h.a);function _(t){var e=0;c.k(t.children,(function(t){_(t);var n=t.value;c.t(n)&&(n=n[0]),e+=n}));var n=t.value;c.t(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),c.t(t.value)?t.value[0]=n:t.value=n}var I=w,M=n(466),O=n(541),j=n(329),T=n(327),V=n(572),D=n(566),N=n(395),C=n(334);function k(t,e,n,o,head,r){var l=[[head?t:t-5,e],[t+n,e],[t+n,e+o],[head?t:t-5,e+o]];return!r&&l.splice(2,0,[t+n+5,e+o/2]),!head&&l.push([t,e+o/2]),l}function S(t,e,n){Object(j.a)(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Object(o.d)(n,e)}}var R=function(){function t(t){this.group=new M.a,t.add(this.group)}return t.prototype.render=function(t,e,n,o){var r=t.getModel("breadcrumb"),l=this.group;if(l.removeAll(),r.get("show")&&n){var d=r.getModel("itemStyle"),c=d.getModel("textStyle"),h={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,c),this._renderContent(t,h,d,c,o),C.g(l,h.pos,h.box)}},t.prototype._prepare=function(t,e,n){for(var o=t;o;o=o.parentNode){var text=Object(y.e)(o.getModel().get("name"),""),r=n.getTextRect(text),l=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:o,text:text,width:l})}},t.prototype._renderContent=function(t,e,n,o,r){for(var l=0,d=e.emptyItemWidth,h=t.get(["breadcrumb","height"]),f=C.c(e.pos,e.box),v=e.totalWidth,y=e.renderList,i=y.length-1;i>=0;i--){var m=y[i],x=m.node,w=m.width,text=m.text;v>f.width&&(v-=w-d,w=d,text=null);var _=new D.a({shape:{points:k(l,0,w,h,i===y.length-1,0===i)},style:Object(c.j)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new N.a({style:{text:text,fill:o.getTextColor(),font:o.getFont()}}),textConfig:{position:"inside"},z2:1e4*T.j,onclick:Object(c.i)(r,x)});_.disableLabelAnimation=!0,this.group.add(_),S(_,t,x),l+=w+8}},t.prototype.remove=function(){this.group.removeAll()},t}(),L=n(393),A=n(394),z=n(459),H=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,o,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:o,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var E=n(500),W=n(368),B=n(476),G=n(330),P=n(328),X=M.a,Y=O.a,F="label",Z="upperLabel",U=10*T.j,J=2*T.j,K=3*T.j,Q=Object(E.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),$=function(t){var e=Q(t);return e.stroke=e.fill=e.lineWidth=null,e},tt=Object(y.n)(),et=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return Object(d.a)(e,t),e.prototype.render=function(t,e,n,r){var l=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!(Object(c.r)(l,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var d=o.c(r,["treemapZoomToNode","treemapRootToNode"],t),h=r&&r.type,f=t.layoutInfo,v=!this._oldTree,y=this._storage,m="treemapRootToNode"===h&&d&&y?{rootNodeGroup:y.nodeGroup[d.node.getRawIndex()],direction:r.direction}:null,x=this._giveContainerGroup(f),w=t.get("animation"),_=this._doRender(x,t,m);!w||v||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?_.renderFinally():this._doAnimation(x,_,t,m),this._resetController(n),this._renderBreadcrumb(t,n,d)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new X,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var o=e.getData().tree,r=this._oldTree,l={nodeGroup:[],background:[],content:[]},d={nodeGroup:[],background:[],content:[]},h=this._storage,f=[];function v(t,o,r,v){return function(t,e,n,o,r,l,d,h,f,v){if(!d)return;var m=d.getLayout(),data=t.getData(),x=d.getModel();if(data.setItemGraphicEl(d.dataIndex,null),!m||!m.isInView)return;var w=m.width,_=m.height,I=m.borderWidth,O=m.invisible,V=d.getRawIndex(),D=h&&h.getRawIndex(),N=d.viewChildren,C=m.upperHeight,k=N&&N.length,S=x.getModel("itemStyle"),R=x.getModel(["emphasis","itemStyle"]),L=x.getModel(["blur","itemStyle"]),A=x.getModel(["select","itemStyle"]),z=S.get("borderRadius")||0,H=lt("nodeGroup",X);if(!H)return;if(f.add(H),H.x=m.x||0,H.y=m.y||0,H.markRedraw(),tt(H).nodeWidth=w,tt(H).nodeHeight=_,m.isAboveViewRoot)return H;var E=lt("background",Y,v,J);E&&nt(H,E,k&&m.upperLabelHeight);var W=x.get(["emphasis","focus"]),G=x.get(["emphasis","blurScope"]),et="ancestor"===W?d.getAncestorsIndices():"descendant"===W?d.getDescendantIndices():W;if(k)Object(T.x)(H)&&Object(T.E)(H,!1),E&&(Object(T.E)(E,!0),data.setItemGraphicEl(d.dataIndex,E),Object(T.o)(E,et,G));else{var content=lt("content",Y,v,K);content&&ot(H,content),E.disableMorphing=!0,E&&Object(T.x)(E)&&Object(T.E)(E,!1),Object(T.E)(H,!0),data.setItemGraphicEl(d.dataIndex,H),Object(T.o)(H,et,G)}return H;function nt(e,n,o){var r=Object(j.a)(n);if(r.dataIndex=d.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:w,height:_,r:z}),O)it(n);else{n.invisible=!1;var style=d.getVisual("style"),l=style.stroke,c=$(S);c.fill=l;var h=Q(R);h.fill=R.get("borderColor");var f=Q(L);f.fill=L.get("borderColor");var v=Q(A);if(v.fill=A.get("borderColor"),o){var y=w-2*I;at(n,l,style.opacity,{x:I,y:0,width:y,height:C})}else n.removeTextContent();n.setStyle(c),n.ensureState("emphasis").style=h,n.ensureState("blur").style=f,n.ensureState("select").style=v,Object(T.F)(n)}e.add(n)}function ot(e,content){var n=Object(j.a)(content);n.dataIndex=d.dataIndex,n.seriesIndex=t.seriesIndex;var o=Math.max(w-2*I,0),r=Math.max(_-2*I,0);if(content.culling=!0,content.setShape({x:I,y:I,width:o,height:r,r:z}),O)it(content);else{content.invisible=!1;var l=d.getVisual("style"),c=l.fill,h=$(S);h.fill=c,h.decal=l.decal;var f=Q(R),v=Q(L),y=Q(A);at(content,c,l.opacity,null),content.setStyle(h),content.ensureState("emphasis").style=f,content.ensureState("blur").style=v,content.ensureState("select").style=y,Object(T.F)(content)}e.add(content)}function it(element){!element.invisible&&l.push(element)}function at(e,n,o,r){var l=x.getModel(r?Z:F),h=Object(y.e)(x.get("name"),null),f=l.getShallow("show");Object(P.f)(e,Object(P.d)(x,r?Z:F),{defaultText:f?h:null,inheritColor:n,defaultOpacity:o,labelFetcher:t,labelDataIndex:d.dataIndex});var v=e.getTextContent();if(v){var w=v.style,_=Object(c.K)(w.padding||0);r&&(e.setTextConfig({layoutRect:r}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var t=Math.max((r?r.width:e.shape.width)-_[1]-_[3],0),n=Math.max((r?r.height:e.shape.height)-_[0]-_[2],0);w.width===t&&w.height===n||v.setStyle({width:t,height:n})},w.truncateMinChar=2,w.lineOverflow="truncate",st(w,r,m);var I=v.getState("emphasis");st(I?I.style:null,r,m)}}function st(style,e,n){var text=style?style.text:null;if(!e&&n.isLeafRoot&&null!=text){var o=t.get("drillDownIcon",!0);style.text=o?o+" "+text:text}}function lt(t,o,l,d){var element=null!=D&&n[t][D],c=r[t];return element?(n[t][D]=null,ut(c,element)):O||((element=new o)instanceof B.c&&(element.z2=function(t,e){return t*U+e}(l,d)),ct(c,element)),e[t][V]=element}function ut(t,element){var e=t[V]={};element instanceof X?(e.oldX=element.x,e.oldY=element.y):e.oldShape=Object(c.m)({},element.shape)}function ct(t,element){var e=t[V]={},n=d.parentNode,l=element instanceof M.a;if(n&&(!o||"drillDown"===o.direction)){var c=0,h=0,f=r.background[n.getRawIndex()];!o&&f&&f.oldShape&&(c=f.oldShape.width,h=f.oldShape.height),l?(e.oldX=0,e.oldY=h):e.oldShape={x:c,y:h,width:0,height:0}}e.fadein=!l}}(e,d,h,n,l,f,t,o,r,v)}!function t(e,n,o,r,l){r?(n=e,Object(c.k)(e,(function(t,e){!t.isRemoved()&&h(e,e)}))):new V.a(n,e,d,d).add(h).update(h).remove(Object(c.i)(h,null)).execute();function d(t){return t.getId()}function h(d,c){var h=null!=d?e[d]:null,f=null!=c?n[c]:null,y=v(h,f,o,l);y&&t(h&&h.viewChildren||[],f&&f.viewChildren||[],y,r,l+1)}}(o.root?[o.root]:[],r&&r.root?[r.root]:[],t,o===r||!r,0);var m=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&Object(c.k)(t,(function(t,n){var o=e[n];Object(c.k)(t,(function(t){t&&(o.push(t),tt(t).willDelete=!0)}))})),e}(h);return this._oldTree=o,this._storage=d,{lastsForAnimation:l,willDeleteEls:m,renderFinally:function(){Object(c.k)(m,(function(t){Object(c.k)(t,(function(t){t.parent&&t.parent.remove(t)}))})),Object(c.k)(f,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,n,o){var r=n.get("animationDurationUpdate"),l=n.get("animationEasing"),d=(Object(c.w)(r)?0:r)||0,h=(Object(c.w)(l)?null:l)||"cubicOut",f=new H;Object(c.k)(e.willDeleteEls,(function(t,e){Object(c.k)(t,(function(t,n){if(!t.invisible){var r,l=t.parent,c=tt(l);if(o&&"drillDown"===o.direction)r=l===o.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,y=0;c.willDelete||(v=c.nodeWidth/2,y=c.nodeHeight/2),r="nodeGroup"===e?{x:v,y:y,style:{opacity:0}}:{shape:{x:v,y:y,width:0,height:0},style:{opacity:0}}}r&&f.add(t,r,d,0,h)}}))})),Object(c.k)(this._storage,(function(t,n){Object(c.k)(t,(function(t,o){var r=e.lastsForAnimation[n][o],l={};r&&(t instanceof M.a?null!=r.oldX&&(l.x=t.x,l.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(l.shape=Object(c.m)({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle("opacity",0),l.style={opacity:1}):1!==t.style.opacity&&(l.style={opacity:1})),f.add(t,l,d,0,h))}))}),this),this._state="animating",f.finished(Object(c.c)((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new L.a(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",Object(c.c)(this._onPan,this)),e.on("zoom",Object(c.c)(this._onZoom,this)));var rect=new A.a(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,n){return rect.contain(e,n)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var rect=new A.a(r.x,r.y,r.width,r.height),l=this.seriesModel.layoutInfo;e-=l.x,n-=l.y;var d=z.b();z.h(d,d,[-e,-n]),z.g(d,d,[t.scale,t.scale]),z.h(d,d,[e,n]),rect.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var o=e.findTarget(t.offsetX,t.offsetY);if(o){var r=o.node;if(r.getLayout().isLeafRoot)e._rootToNode(o);else if("zoomToNode"===n)e._zoomToNode(o);else if("link"===n){var l=r.hostTree.data.getItemModel(r.dataIndex),link=l.get("link",!0),d=l.get("target",!0)||"blank";link&&Object(G.i)(link,d)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var r=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new R(this.group))).render(t,e,n.node,(function(e){"animating"!==r._state&&(o.a(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(o){var r=this._storage.background[o.getRawIndex()];if(r){var l=r.transformCoordToLocal(t,e),d=r.shape;if(!(d.x<=l[0]&&l[0]<=d.x+d.width&&d.y<=l[1]&&l[1]<=d.y+d.height))return!1;n={node:o,offsetX:l[0],offsetY:l[1]}}}),this),n},e.type="treemap",e}(W.a);var nt=et,ot=n(333),it=n(339),at=Object(y.n)(),st={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||lt(e,{},t.getViewRoot().getAncestors(),t)}};function lt(t,e,n,o){var r=t.getModel(),l=t.getLayout(),data=t.hostTree.data;if(l&&!l.invisible&&l.isInView){var d,h=r.getModel("itemStyle"),f=function(t,e,n){var o=Object(c.m)({},e),r=n.designatedVisualItemStyle;return Object(c.k)(["color","colorAlpha","colorSaturation"],(function(n){r[n]=e[n];var l=t.get(n);r[n]=null,null!=l&&(o[n]=l)})),o}(h,e,o),v=data.ensureUniqueItemVisual(t.dataIndex,"style"),y=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(y=function(t,e){return null!=e?Object(it.f)(e,null,null,t):null}(m,d=ut(f))),v.stroke=y;var x=t.viewChildren;if(x&&x.length){var w=function(t,e,n,o,r,l){if(!l||!l.length)return;var d=ht(e,"color")||null!=r.color&&"none"!==r.color&&(ht(e,"colorAlpha")||ht(e,"colorSaturation"));if(!d)return;var c=e.get("visualMin"),h=e.get("visualMax"),f=n.dataExtent.slice();null!=c&&c<f[0]&&(f[0]=c),null!=h&&h>f[1]&&(f[1]=h);var v=e.get("colorMappingBy"),y={type:d.name,dataExtent:f,visual:d.range};"color"!==y.type||"index"!==v&&"id"!==v?y.mappingMethod="linear":(y.mappingMethod="category",y.loop=!0);var m=new ot.a(y);return at(m).drColorMappingBy=v,m}(0,r,l,0,f,x);Object(c.k)(x,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var l=function(t,e,n,o,r,l){var d=Object(c.m)({},e);if(r){var h=r.type,f="color"===h&&at(r).drColorMappingBy,v="index"===f?o:"id"===f?l.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));d[h]=r.mapValueToVisual(v)}return d}(r,f,t,e,w,o);lt(t,l,n,o)}}))}else d=ut(f),v.fill=d}}function ut(t){var e=ct(t,"color");if(e){var n=ct(t,"colorAlpha"),o=ct(t,"colorSaturation");return o&&(e=Object(it.f)(e,null,null,o)),n&&(e=Object(it.e)(e,n)),e}}function ct(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function ht(t,e){var n=t.get(e);return Object(c.t)(n)&&n.length?{name:e,range:n}:null}var pt=n(324),ft=Math.max,gt=Math.min,vt=c.M,yt=c.k,mt=["itemStyle","borderWidth"],bt=["itemStyle","gapWidth"],xt=["upperLabel","show"],wt=["upperLabel","height"],_t={seriesType:"treemap",reset:function(t,e,n,r){var l=n.getWidth(),d=n.getHeight(),h=t.option,f=C.e(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),v=h.size||[],y=Object(pt.n)(vt(f.width,v[0]),l),m=Object(pt.n)(vt(f.height,v[1]),d),x=r&&r.type,w=o.c(r,["treemapZoomToNode","treemapRootToNode"],t),_="treemapRender"===x||"treemapMove"===x?r.rootRect:null,I=t.getViewRoot(),M=o.b(I);if("treemapMove"!==x){var O="treemapZoomToNode"===x?function(t,e,n,o,r){var l,d=(e||{}).node,c=[o,r];if(!d||d===n)return c;var h=o*r,area=h*t.option.zoomToNodeRatio;for(;l=d.parentNode;){for(var f=0,v=l.children,i=0,y=v.length;i<y;i++)f+=v[i].getValue();var m=d.getValue();if(0===m)return c;area*=f/m;var x=l.getModel(),w=x.get(mt);(area+=4*w*w+(3*w+Math.max(w,Tt(x)))*Math.pow(area,.5))>pt.a&&(area=pt.a),d=l}area<h&&(area=h);var _=Math.pow(area/h,.5);return[o*_,r*_]}(t,w,I,y,m):_?[_.width,_.height]:[y,m],j=h.sort;j&&"asc"!==j&&"desc"!==j&&(j="desc");var T={squareRatio:h.squareRatio,sort:j,leafDepth:h.leafDepth};I.hostTree.clearLayouts();var V={x:0,y:0,width:O[0],height:O[1],area:O[0]*O[1]};I.setLayout(V),It(I,T,!1,0),V=I.getLayout(),yt(M,(function(t,e){var n=(M[e+1]||I).getValue();t.setLayout(c.m({dataExtent:[n,n],borderWidth:0,upperHeight:0},V))}))}var D=t.getData().tree.root;D.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var o={x:0,y:0};if(!n)return o;var r=n.node,l=r.getLayout();if(!l)return o;var d=[l.width/2,l.height/2],c=r;for(;c;){var h=c.getLayout();d[0]+=h.x,d[1]+=h.y,c=c.parentNode}return{x:t.width/2-d[0],y:t.height/2-d[1]}}(f,_,w),!0),t.setLayoutInfo(f),jt(D,new A.a(-f.x,-f.y,l,d),M,I,0)}};function It(t,e,n,o){var r,l;if(!t.isRemoved()){var d=t.getLayout();r=d.width,l=d.height;var h=t.getModel(),f=h.get(mt),v=h.get(bt)/2,y=Tt(h),m=Math.max(f,y),x=f-v,w=m-v;t.setLayout({borderWidth:f,upperHeight:m,upperLabelHeight:y},!0);var _=(r=ft(r-2*x,0))*(l=ft(l-x-w,0)),I=function(t,e,n,o,r,l){var d=t.children||[],h=o.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=o.leafDepth&&o.leafDepth<=l;if(r&&!f)return t.viewChildren=[];d=c.n(d,(function(t){return!t.isRemoved()})),function(t,e){e&&t.sort((function(a,b){var t="asc"===e?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===t?"asc"===e?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:t}))}(d,h);var v=function(t,e,n){for(var o=0,i=0,r=e.length;i<r;i++)o+=e[i].getValue();var l,d=t.get("visualDimension");e&&e.length?"value"===d&&n?(l=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&l.reverse()):(l=[1/0,-1/0],yt(e,(function(t){var e=t.getValue(d);e<l[0]&&(l[0]=e),e>l[1]&&(l[1]=e)}))):l=[NaN,NaN];return{sum:o,dataExtent:l}}(e,d,h);if(0===v.sum)return t.viewChildren=[];if(v.sum=function(t,e,n,o,r){if(!o)return n;for(var l=t.get("visibleMin"),d=r.length,c=d,i=d-1;i>=0;i--){var h=r["asc"===o?d-i-1:i].getValue();h/n*e<l&&(c=i,n-=h)}return"asc"===o?r.splice(0,d-c):r.splice(c,d-c),n}(e,n,v.sum,h,d),0===v.sum)return t.viewChildren=[];for(var i=0,y=d.length;i<y;i++){var area=d[i].getValue()/v.sum*n;d[i].setLayout({area:area})}f&&(d.length&&t.setLayout({isLeafRoot:!0},!0),d.length=0);return t.viewChildren=d,t.setLayout({dataExtent:v.dataExtent},!0),d}(t,h,_,e,n,o);if(I.length){var rect={x:x,y:w,width:r,height:l},M=gt(r,l),O=1/0,j=[];j.area=0;for(var i=0,T=I.length;i<T;){var V=I[i];j.push(V),j.area+=V.getLayout().area;var D=Mt(j,M,e.squareRatio);D<=O?(i++,O=D):(j.area-=j.pop().getLayout().area,Ot(j,M,rect,v,!1),M=gt(rect.width,rect.height),j.length=j.area=0,O=1/0)}if(j.length&&Ot(j,M,rect,v,!0),!n){var N=h.get("childrenVisibleMin");null!=N&&_<N&&(n=!0)}for(i=0,T=I.length;i<T;i++)It(I[i],e,n,o+1)}}}function Mt(t,e,n){for(var o=0,r=1/0,i=0,area=void 0,l=t.length;i<l;i++)(area=t[i].getLayout().area)&&(area<r&&(r=area),area>o&&(o=area));var d=t.area*t.area,c=e*e*n;return d?ft(c*o/d,d/(c*r)):1/0}function Ot(t,e,rect,n,o){var r=e===rect.width?0:1,l=1-r,d=["x","y"],c=["width","height"],h=rect[d[r]],f=e?t.area/e:0;(o||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,v=t.length;i<v;i++){var y=t[i],m={},x=f?y.getLayout().area/f:0,w=m[c[l]]=ft(f-2*n,0),_=rect[d[r]]+rect[c[r]]-h,I=i===v-1||_<x?_:x,M=m[c[r]]=ft(I-2*n,0);m[d[l]]=rect[d[l]]+gt(n,w/2),m[d[r]]=h+gt(n,M/2),h+=I,y.setLayout(m,!0)}rect[d[l]]+=f,rect[c[l]]-=f}function jt(t,e,n,o,r){var l=t.getLayout(),d=n[r],c=d&&d===t;if(!(d&&!c||r===n.length&&t!==o)){t.setLayout({isInView:!0,invisible:!c&&!e.intersect(l),isAboveViewRoot:c},!0);var h=new A.a(e.x-l.x,e.y-l.y,e.width,e.height);yt(t.viewChildren||[],(function(t){jt(t,h,n,o,r+1)}))}}function Tt(t){return t.get(xt)?t.get(wt):0}function Vt(t){t.registerSeriesModel(I),t.registerChartView(nt),t.registerVisual(st),t.registerLayout(_t),function(t){for(var i=0;i<l.length;i++)t.registerAction({type:l[i],update:"updateView"},r);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var r=o.c(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var l=e.getViewRoot();l&&(t.direction=o.a(l,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}}))}))}(t)}}}]);
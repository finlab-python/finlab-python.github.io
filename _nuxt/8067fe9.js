(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{429:function(t,e,o){"use strict";var n=o(4),r=o(8),l=o(55),d=o(50),c=o(76),h=o(274),f=o(24),v=o(9),y=o(275),m=o(191),x=o(434),w=o(435),_=o(121),I=o(436),M=[],O=r(M.sort),j=r(M.push),T=v(function(){M.sort(void 0)}),V=v(function(){M.sort(null)}),D=m("sort"),S=!v(function(){if(_)return _<70;if(!(x&&x>3)){if(w)return!0;if(I)return I<603;var code,t,e,o,n="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(o=0;o<47;o++)M.push({k:t+o,v:e})}for(M.sort(function(a,b){return b.v-a.v}),o=0;o<M.length;o++)t=M[o].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}});n({target:"Array",proto:!0,forced:T||!V||!D||!S},{sort:function(t){void 0!==t&&l(t);var e=d(this);if(S)return void 0===t?O(e):O(e,t);var o,n,r=[],v=c(e);for(n=0;n<v;n++)n in e&&j(r,e[n]);for(y(r,function(t){return function(e,o){return void 0===o?-1:void 0===e?1:void 0!==t?+t(e,o)||0:f(e)>f(o)?1:-1}}(t)),o=c(r),n=0;n<o;)e[n]=r[n++];for(;n<v;)h(e,n++);return e}})},434:function(t,e,o){"use strict";var n=o(85).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},435:function(t,e,o){"use strict";var n=o(85);t.exports=/MSIE|Trident/.test(n)},436:function(t,e,o){"use strict";var n=o(85).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},459:function(t,e,o){"use strict";var n=o(423),r=o(450),l=o(427),d=(o(444),n.k),c=n.A,h=-1,f=function(){function t(option){var e=option.mappingMethod,o=option.type,r=this.option=n.d(option);this.type=o,this.mappingMethod=e,this._normalizeData=j[e];var l=t.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[e],"piecewise"===e?(v(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,n.k(e,function(e,o){e.originIndex=o,null!=e.visual&&(t.hasSpecialVisual=!0)})}(r)):"category"===e?r.categories?function(t){var e=t.categories,o=t.categoryMap={},r=t.visual;if(d(e,function(t,e){o[t]=e}),!n.t(r)){var l=[];n.A(r)?d(r,function(t,e){var n=o[e];l[null!=n?n:h]=t}):l[-1]=r,r=O(t,l)}for(var i=e.length-1;i>=0;i--)null==r[i]&&(delete o[e[i]],e.pop())}(r):v(r,!0):(n.b("linear"!==e||r.dataExtent),v(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return n.c(this._normalizeData,this)},t.listVisualTypes=function(){return n.F(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,o){n.A(t)?n.k(t,e,o):e.call(o,t)},t.mapVisual=function(e,o,r){var l,d=n.t(e)?[]:n.A(e)?{}:(l=!0,null);return t.eachVisual(e,function(t,e){var n=o.call(r,t,e);l?d=n:d[e]=n}),d},t.retrieveVisuals=function(e){var o,n={};return e&&d(t.visualHandlers,function(t,r){e.hasOwnProperty(r)&&(n[r]=e[r],o=!0)}),o?n:null},t.prepareVisualTypes=function(t){if(n.t(t))t=t.slice();else{if(!c(t))return[];var e=[];d(t,function(t,o){e.push(o)}),t=e}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,o){for(var r,l=1/0,i=0,d=e.length;i<d;i++){var c=e[i].value;if(null!=c){if(c===t||n.C(c)&&c===t+"")return i;o&&y(c,i)}}for(i=0,d=e.length;i<d;i++){var h=e[i],f=h.interval,v=h.close;if(f){if(f[0]===-1/0){if(T(v[1],t,f[1]))return i}else if(f[1]===1/0){if(T(v[0],f[0],t))return i}else if(T(v[0],f[0],t)&&T(v[1],t,f[1]))return i;o&&y(f[0],i),o&&y(f[1],i)}}if(o)return t===1/0?e.length-1:t===-1/0?0:r;function y(e,o){var n=Math.abs(e-t);n<l&&(l=n,r=o)}},t.visualHandlers={color:{applyVisual:x("color"),getColorMapper:function(){var t=this.option;return n.c("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),w.call(this,t)}:function(e,o,n){var l=!!n;return!o&&(e=this._normalizeData(e)),n=r.a(e,t.parsedVisual,n),l?n:r.h(n,"rgba")},this)},_normalizedToVisual:{linear:function(t){return r.h(r.a(t,this.option.parsedVisual),"rgba")},category:w,piecewise:function(t,e){var o=M.call(this,e);return null==o&&(o=r.h(r.a(t,this.option.parsedVisual),"rgba")),o},fixed:_}},colorHue:y(function(t,e){return r.f(t,e)}),colorSaturation:y(function(t,e){return r.f(t,null,e)}),colorLightness:y(function(t,e){return r.f(t,null,null,e)}),colorAlpha:y(function(t,e){return r.e(t,e)}),decal:{applyVisual:x("decal"),_normalizedToVisual:{linear:null,category:w,piecewise:null,fixed:null}},opacity:{applyVisual:x("opacity"),_normalizedToVisual:I([0,1])},liftZ:{applyVisual:x("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(t,e,o){o("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:m,category:w,piecewise:function(t,e){var o=M.call(this,e);return null==o&&(o=m.call(this,t)),o},fixed:_}},symbolSize:{applyVisual:x("symbolSize"),_normalizedToVisual:I([0,1])}},t}();function v(t,e){var o=t.visual,r=[];n.A(o)?d(o,function(t){r.push(t)}):null!=o&&r.push(o);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),O(t,r)}function y(t){return{applyVisual:function(e,o,n){var r=this.mapValueToVisual(e);n("color",t(o("color"),r))},_normalizedToVisual:I([0,1])}}function m(t){var e=this.option.visual;return e[Math.round(Object(l.j)(t,[0,1],[0,e.length-1],!0))]||{}}function x(t){return function(e,o,n){n(t,this.mapValueToVisual(e))}}function w(t){var e=this.option.visual;return e[this.option.loop&&t!==h?t%e.length:t]}function _(){return this.option.visual[0]}function I(t){return{linear:function(e){return Object(l.j)(e,t,this.option.visual,!0)},category:w,piecewise:function(e,o){var n=M.call(this,o);return null==n&&(n=Object(l.j)(e,t,this.option.visual,!0)),n},fixed:_}}function M(t){var e=this.option,o=e.pieceList;if(e.hasSpecialVisual){var n=o[f.findPieceIndex(t,o)];if(n&&n.visual)return n.visual[this.type]}}function O(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=n.H(e,function(t){var e=r.g(t);return e||[0,0,0,1]})),e}var j={linear:function(t){return Object(l.j)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,o=f.findPieceIndex(t,e,!0);if(null!=o)return Object(l.j)(o,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?h:e},fixed:n.L};function T(t,a,b){return t?a<=b:a<b}e.a=f},479:function(t,e,o){"use strict";function n(t){throw new TypeError('"'+t+'" is read-only')}o.d(e,"a",function(){return n})},665:function(t,e,o){"use strict";var n=o(424),r=o(532),l=o(517),d=o(666),c=o(423),h=function(t){function e(e){var o=t.call(this)||this;o._zr=e;var n=Object(c.c)(o._mousedownHandler,o),r=Object(c.c)(o._mousemoveHandler,o),l=Object(c.c)(o._mouseupHandler,o),d=Object(c.c)(o._mousewheelHandler,o),h=Object(c.c)(o._pinchHandler,o);return o.enable=function(t,o){this.disable(),this._opt=Object(c.i)(Object(c.d)(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",l)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",d),e.on("pinch",h))},o.disable=function(){e.off("mousedown",n),e.off("mousemove",r),e.off("mouseup",l),e.off("mousewheel",d),e.off("pinch",h)},o}return Object(n.a)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!l.d(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var o=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,o,n)&&(this._x=o,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&y("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!d.a(this._zr,"globalPan")){var e=t.offsetX,o=t.offsetY,n=this._x,r=this._y,c=e-n,h=o-r;this._x=e,this._y=o,this._opt.preventDefaultMouseMove&&l.g(t.event),v(this,"pan","moveOnMouseMove",t,{dx:c,dy:h,oldX:n,oldY:r,newX:e,newY:o,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){l.d(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=y("zoomOnMouseWheel",t,this._opt),o=y("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,r=Math.abs(n),l=t.offsetX,d=t.offsetY;if(0!==n&&(e||o)){if(e){var c=r>3?1.4:r>1?1.2:1.1;f(this,"zoom","zoomOnMouseWheel",t,{scale:n>0?c:1/c,originX:l,originY:d,isAvailableBehavior:null})}if(o){var h=Math.abs(n);f(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(n>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:l,originY:d,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){d.a(this._zr,"globalPan")||f(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(r.a);function f(t,e,o,n,r){t.pointerChecker&&t.pointerChecker(n,r.originX,r.originY)&&(l.g(n.event),v(t,e,o,n,r))}function v(t,e,o,n,r){r.isAvailableBehavior=Object(c.c)(y,null,o,n),t.trigger(e,r)}function y(t,e,o){var n=o[t];return!t||n&&(!Object(c.C)(n)||e.event[n+"Key"])}e.a=h},666:function(t,e,o){"use strict";o.d(e,"c",function(){return d}),o.d(e,"b",function(){return c}),o.d(e,"a",function(){return h});var n=o(595),r=o(423),l="\0_ec_interaction_mutex";function d(t,e,o){f(t)[e]=o}function c(t,e,o){var n=f(t);n[e]===o&&(n[e]=null)}function h(t,e){return!!f(t)[e]}function f(t){return t[l]||(t[l]={})}n.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},r.L)},998:function(t,e,o){"use strict";o.d(e,"a",function(){return Gt});var n=o(423);function r(t,e,o){if(t&&n.r(e,t.type)>=0){var r=o.getData().tree.root,l=t.targetNode;if(n.C(l)&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var d=t.targetNodeId;if(null!=d&&(l=r.getNodeById(d)))return{node:l}}}function l(t){for(var path=[];t;)(t=t.parentNode)&&path.push(t);return path.reverse()}function d(t,e){var o=l(t);return n.r(o,e)>=0}function c(t,e){for(var o=[];t;){var n=t.dataIndex;o.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return o.reverse(),o}var h=["treemapZoomToNode","treemapRender","treemapMove"];var f=o(424),v=o(460),y=o(426),m=Object(y.n)();function x(t,e){if(m(data=this).mainData===data){var o=Object(n.m)({},m(this).datas);o[this.dataType]=e,O(e,o,t)}else j(e,this.dataType,m(this).mainData,t);var data;return e}function w(t,e){return t.struct&&t.struct.update(),e}function _(t,e){return Object(n.k)(m(e).datas,function(data,o){data!==e&&j(data.cloneShallow(),o,e,t)}),e}function I(t){var e=m(this).mainData;return null==t||null==e?e:m(e).datas[t]}function M(){var t=m(this).mainData;return null==t?[{data:t}]:Object(n.H)(Object(n.F)(m(t).datas),function(e){return{type:e,data:m(t).datas[e]}})}function O(t,e,o){m(t).datas={},Object(n.k)(e,function(data,e){j(data,e,t,o)})}function j(data,t,e,o){m(e).datas[t]=data,m(data).mainData=e,data.dataType=t,o.struct&&(data[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=data),data.getLinkedData=I,data.getLinkedDataAll=M}var T=function(t){var e=t.mainData,o=t.datas;o||(o={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,O(e,o,t),Object(n.k)(o,function(data){Object(n.k)(e.TRANSFERABLE_METHODS,function(e){data.wrapMethod(e,Object(n.h)(x,t))})}),e.wrapMethod("cloneShallow",Object(n.h)(_,t)),Object(n.k)(e.CHANGABLE_METHODS,function(o){e.wrapMethod(o,Object(n.h)(w,t))}),Object(n.b)(o[e.dataType]===e)},V=o(468),D=o(478),S=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,o){n.w(t)&&(o=e,e=t,t=null),t=t||{},n.C(t)&&(t={order:t});var r,l=t.order||"preorder",d=this[t.attr||"children"];"preorder"===l&&(r=e.call(o,this));for(var i=0;!r&&i<d.length;i++)d[i].eachNode(t,e,o);"postorder"===l&&e.call(o,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var o=this.children[i];o.updateDepthAndHeight(t+1),o.height>e&&(e=o.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var i=0,e=this.children,o=e.length;i<o;i++){var n=e[i].getNodeById(t);if(n)return n}},t.prototype.contains=function(t){if(t===this)return!0;for(var i=0,e=this.children,o=e.length;i<o;i++){var n=e[i].contains(t);if(n)return n}},t.prototype.getAncestors=function(t){for(var e=[],o=t?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},t.prototype.getValue=function(t){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,i=0;i<t.length;++i)if(t[i]===this)return i;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}();var N=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,o){this.root.eachNode(t,e,o)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var data=this.data,t=this._nodes,i=0,e=t.length;i<e;i++)t[i].dataIndex=-1;for(i=0,e=data.count();i<e;i++)t[data.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,o,r){var l=new t(o),d=[],c=1;!function t(e,o){var r=e.value;c=Math.max(c,n.t(r)?r.length:1),d.push(e);var h=new S(Object(y.e)(e.name,""),l);o?function(t,e){var o=e.children;if(t.parentNode===e)return;o.push(t),t.parentNode=e}(h,o):l.root=h,l._nodes.push(h);var f=e.children;if(f)for(var i=0;i<f.length;i++)t(f[i],h)}(e),l.root.updateDepthAndHeight(0);var h=Object(D.a)(d,{coordDimensions:["value"],dimensionsCount:c}).dimensions,f=new V.a(h,o);return f.initData(d),r&&r(f),T({mainData:f,struct:l,structAttr:"tree"}),l.update(),l},t}(),C=o(470),L=o(502),k=o(651);var R=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.preventUsingHoverLayer=!0,o}return Object(f.a)(e,t),e.prototype.getInitialData=function(option,t){var e={name:option.name,children:option.data};A(e);var o=option.levels||[],r=this.designatedVisualItemStyle={},l=new C.a({itemStyle:r},this,t);o=option.levels=function(t,e){var o,r,l=Object(y.q)(e.get("color")),d=Object(y.q)(e.get(["aria","decal","decals"]));if(!l)return;t=t||[],n.k(t,function(t){var e=new C.a(t),n=e.get("color"),l=e.get("decal");(e.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(e.get(["itemStyle","decal"])||l&&"none"!==l)&&(r=!0)});var c=t[0]||(t[0]={});o||(c.color=l.slice());!r&&d&&(c.decal=d.slice());return t}(o,t);var d=n.H(o||[],function(e){return new C.a(e,l,t)},this),c=N.createTree(e,this,function(t){t.wrapMethod("getItemModel",function(t,e){var o=c.getNodeByDataIndex(e),n=o?d[o.depth]:null;return t.parentModel=n||l,t})});return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,o){var data=this.getData(),n=this.getRawValue(t),r=data.getName(t);return Object(L.c)("nameValue",{name:r,value:n})},e.prototype.getDataParams=function(e){var o=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=c(n,this),o.treePathInfo=o.treeAncestors,o},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},n.m(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=n.f(),this._idIndexMapCount=0);var o=e.get(t);return null==o&&e.set(t,o=this._idIndexMapCount++),o},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){var t,e,o;e=(t=this).getData().tree,o={},e.eachNode(function(e){for(var n=e;n&&n.depth>1;)n=n.parentNode;var r=Object(k.b)(t.ecModel,n.name||n.dataIndex+"",o);e.setVisual("decal",r)})},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(v.a);function A(t){var e=0;n.k(t.children,function(t){A(t);var o=t.value;n.t(o)&&(o=o[0]),e+=o});var o=t.value;n.t(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=e),o<0&&(o=0),n.t(t.value)?t.value[0]=o:t.value=o}var z=R,H=o(573),W=o(647),E=o(432),B=o(430),G=o(657),P=o(680),X=o(535),Y=o(433),F=o(428);function Z(t,e,o,n,head,r){var l=[[head?t:t-5,e],[t+o,e],[t+o,e+n],[head?t:t-5,e+n]];return!r&&l.splice(2,0,[t+o+5,e+n/2]),!head&&l.push([t,e+n/2]),l}function U(t,e,o){Object(E.a)(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&c(o,e)}}var J=function(){function t(t){this.group=new H.a,t.add(this.group)}return t.prototype.render=function(t,e,o,n){var r=t.getModel("breadcrumb"),l=this.group;if(l.removeAll(),r.get("show")&&o){var d=r.getModel("itemStyle"),c=r.getModel("emphasis"),h=d.getModel("textStyle"),f=c.getModel(["itemStyle","textStyle"]),v={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,v,h),this._renderContent(t,v,d,c,h,f,n),Y.i(l,v.pos,v.box)}},t.prototype._prepare=function(t,e,o){for(var n=t;n;n=n.parentNode){var text=Object(y.e)(n.getModel().get("name"),""),r=o.getTextRect(text),l=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:n,text:text,width:l})}},t.prototype._renderContent=function(t,e,o,r,l,d,c){for(var h=0,f=e.emptyItemWidth,v=t.get(["breadcrumb","height"]),y=Y.e(e.pos,e.box),m=e.totalWidth,x=e.renderList,w=r.getModel("itemStyle").getItemStyle(),i=x.length-1;i>=0;i--){var _=x[i],I=_.node,M=_.width,text=_.text;m>y.width&&(m-=M-f,M=f,text=null);var O=new P.a({shape:{points:Z(h,0,M,v,i===x.length-1,0===i)},style:Object(n.i)(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new X.a({style:Object(F.b)(l,{text:text})}),textConfig:{position:"inside"},z2:1e4*B.j,onclick:Object(n.h)(c,I)});O.disableLabelAnimation=!0,O.getTextContent().ensureState("emphasis").style=Object(F.b)(d,{text:text}),O.ensureState("emphasis").style=w,Object(B.J)(O,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(O),U(O,t,I),h+=M+8}},t.prototype.remove=function(){this.group.removeAll()},t}(),K=o(665),Q=o(466),$=o(515),tt=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,o,n,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:o,delay:n,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,o=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:o,aborted:o})}return this},t}();var et=o(590),ot=o(458),nt=o(544),it=o(463),at=H.a,st=W.a,lt="label",ut="upperLabel",ct=10*B.j,ht=2*B.j,pt=3*B.j,ft=Object(et.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gt=function(t){var e=ft(t);return e.stroke=e.fill=e.lineWidth=null,e},vt=Object(y.n)(),yt=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o._state="ready",o._storage={nodeGroup:[],background:[],content:[]},o}return Object(f.a)(e,t),e.prototype.render=function(t,e,o,l){var d=e.findComponents({mainType:"series",subType:"treemap",query:l});if(!(Object(n.r)(d,t)<0)){this.seriesModel=t,this.api=o,this.ecModel=e;var c=r(l,["treemapZoomToNode","treemapRootToNode"],t),h=l&&l.type,f=t.layoutInfo,v=!this._oldTree,y=this._storage,m="treemapRootToNode"===h&&c&&y?{rootNodeGroup:y.nodeGroup[c.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(f),w=t.get("animation"),_=this._doRender(x,t,m);!w||v||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?_.renderFinally():this._doAnimation(x,_,t,m),this._resetController(o),this._renderBreadcrumb(t,o,c)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new at,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,o){var r=e.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},c={nodeGroup:[],background:[],content:[]},h=this._storage,f=[];function v(t,r,l,v){return function(t,e,o,r,l,d,c,h,f,v){if(!c)return;var m=c.getLayout(),data=t.getData(),x=c.getModel();if(data.setItemGraphicEl(c.dataIndex,null),!m||!m.isInView)return;var w=m.width,_=m.height,I=m.borderWidth,M=m.invisible,O=c.getRawIndex(),j=h&&h.getRawIndex(),T=c.viewChildren,V=m.upperHeight,D=T&&T.length,S=x.getModel("itemStyle"),N=x.getModel(["emphasis","itemStyle"]),C=x.getModel(["blur","itemStyle"]),L=x.getModel(["select","itemStyle"]),k=S.get("borderRadius")||0,R=$("nodeGroup",at);if(!R)return;if(f.add(R),R.x=m.x||0,R.y=m.y||0,R.markRedraw(),vt(R).nodeWidth=w,vt(R).nodeHeight=_,m.isAboveViewRoot)return R;var A=$("background",st,v,ht);A&&Z(R,A,D&&m.upperLabelHeight);var z=x.getModel("emphasis"),W=z.get("focus"),G=z.get("blurScope"),P=z.get("disabled"),X="ancestor"===W?c.getAncestorsIndices():"descendant"===W?c.getDescendantIndices():W;if(D)Object(B.y)(R)&&Object(B.F)(R,!1),A&&(Object(B.F)(A,!P),data.setItemGraphicEl(c.dataIndex,A),Object(B.p)(A,X,G));else{var content=$("content",st,v,pt);content&&U(R,content),A.disableMorphing=!0,A&&Object(B.y)(A)&&Object(B.F)(A,!1),Object(B.F)(R,!P),data.setItemGraphicEl(c.dataIndex,R);var Y=x.getShallow("cursor");Y&&content.attr("cursor",Y),Object(B.p)(R,X,G)}return R;function Z(e,o,n){var r=Object(E.a)(o);if(r.dataIndex=c.dataIndex,r.seriesIndex=t.seriesIndex,o.setShape({x:0,y:0,width:w,height:_,r:k}),M)J(o);else{o.invisible=!1;var style=c.getVisual("style"),l=style.stroke,d=gt(S);d.fill=l;var h=ft(N);h.fill=N.get("borderColor");var f=ft(C);f.fill=C.get("borderColor");var v=ft(L);if(v.fill=L.get("borderColor"),n){var y=w-2*I;K(o,l,style.opacity,{x:I,y:0,width:y,height:V})}else o.removeTextContent();o.setStyle(d),o.ensureState("emphasis").style=h,o.ensureState("blur").style=f,o.ensureState("select").style=v,Object(B.G)(o)}e.add(o)}function U(e,content){var o=Object(E.a)(content);o.dataIndex=c.dataIndex,o.seriesIndex=t.seriesIndex;var n=Math.max(w-2*I,0),r=Math.max(_-2*I,0);if(content.culling=!0,content.setShape({x:I,y:I,width:n,height:r,r:k}),M)J(content);else{content.invisible=!1;var l=c.getVisual("style"),d=l.fill,h=gt(S);h.fill=d,h.decal=l.decal;var f=ft(N),v=ft(C),y=ft(L);K(content,d,l.opacity,null),content.setStyle(h),content.ensureState("emphasis").style=f,content.ensureState("blur").style=v,content.ensureState("select").style=y,Object(B.G)(content)}e.add(content)}function J(element){!element.invisible&&d.push(element)}function K(e,o,r,l){var d=x.getModel(l?ut:lt),h=Object(y.e)(x.get("name"),null),f=d.getShallow("show");Object(F.f)(e,Object(F.d)(x,l?ut:lt),{defaultText:f?h:null,inheritColor:o,defaultOpacity:r,labelFetcher:t,labelDataIndex:c.dataIndex});var v=e.getTextContent();if(v){var w=v.style,_=Object(n.M)(w.padding||0);l&&(e.setTextConfig({layoutRect:l}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var t=Math.max((l?l.width:e.shape.width)-_[1]-_[3],0),o=Math.max((l?l.height:e.shape.height)-_[0]-_[2],0);w.width===t&&w.height===o||v.setStyle({width:t,height:o})},w.truncateMinChar=2,w.lineOverflow="truncate",Q(w,l,m);var I=v.getState("emphasis");Q(I?I.style:null,l,m)}}function Q(style,e,o){var text=style?style.text:null;if(!e&&o.isLeafRoot&&null!=text){var n=t.get("drillDownIcon",!0);style.text=n?n+" "+text:text}}function $(t,n,r,d){var element=null!=j&&o[t][j],c=l[t];return element?(o[t][j]=null,tt(c,element)):M||((element=new n)instanceof nt.c&&(element.z2=function(t,e){return t*ct+e}(r,d)),et(c,element)),e[t][O]=element}function tt(t,element){var e=t[O]={};element instanceof at?(e.oldX=element.x,e.oldY=element.y):e.oldShape=Object(n.m)({},element.shape)}function et(t,element){var e=t[O]={},o=c.parentNode,n=element instanceof H.a;if(o&&(!r||"drillDown"===r.direction)){var d=0,h=0,f=l.background[o.getRawIndex()];!r&&f&&f.oldShape&&(d=f.oldShape.width,h=f.oldShape.height),n?(e.oldX=0,e.oldY=h):e.oldShape={x:d,y:h,width:0,height:0}}e.fadein=!n}}(e,c,h,o,d,f,t,r,l,v)}!function t(e,o,r,l,d){l?(o=e,Object(n.k)(e,function(t,e){!t.isRemoved()&&h(e,e)})):new G.a(o,e,c,c).add(h).update(h).remove(Object(n.h)(h,null)).execute();function c(t){return t.getId()}function h(n,c){var h=null!=n?e[n]:null,f=null!=c?o[c]:null,y=v(h,f,r,d);y&&t(h&&h.viewChildren||[],f&&f.viewChildren||[],y,l,d+1)}}(r.root?[r.root]:[],l&&l.root?[l.root]:[],t,r===l||!l,0);var m=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&Object(n.k)(t,function(t,o){var r=e[o];Object(n.k)(t,function(t){t&&(r.push(t),vt(t).willDelete=!0)})}),e}(h);if(this._oldTree=r,this._storage=c,this._controllerHost){var x=this.seriesModel.layoutInfo,w=r.root.getLayout();w.width===x.width&&w.height===x.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:m,renderFinally:function(){Object(n.k)(m,function(t){Object(n.k)(t,function(t){t.parent&&t.parent.remove(t)})}),Object(n.k)(f,function(t){t.invisible=!0,t.dirty()})}}},e.prototype._doAnimation=function(t,e,o,r){var l=o.get("animationDurationUpdate"),d=o.get("animationEasing"),c=(Object(n.w)(l)?0:l)||0,h=(Object(n.w)(d)?null:d)||"cubicOut",f=new tt;Object(n.k)(e.willDeleteEls,function(t,e){Object(n.k)(t,function(t,o){if(!t.invisible){var n,l=t.parent,d=vt(l);if(r&&"drillDown"===r.direction)n=l===r.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,y=0;d.willDelete||(v=d.nodeWidth/2,y=d.nodeHeight/2),n="nodeGroup"===e?{x:v,y:y,style:{opacity:0}}:{shape:{x:v,y:y,width:0,height:0},style:{opacity:0}}}n&&f.add(t,n,c,0,h)}})}),Object(n.k)(this._storage,function(t,o){Object(n.k)(t,function(t,r){var l=e.lastsForAnimation[o][r],d={};l&&(t instanceof H.a?null!=l.oldX&&(d.x=t.x,d.y=t.y,t.x=l.oldX,t.y=l.oldY):(l.oldShape&&(d.shape=Object(n.m)({},t.shape),t.setShape(l.oldShape)),l.fadein?(t.setStyle("opacity",0),d.style={opacity:1}):1!==t.style.opacity&&(d.style={opacity:1})),f.add(t,d,c,0,h))})},this),this._state="animating",f.finished(Object(n.c)(function(){this._state="ready",e.renderFinally()},this)).start()},e.prototype._resetController=function(t){var e=this._controller,o=this._controllerHost;o||(this._controllerHost={target:this.group},o=this._controllerHost),e||((e=this._controller=new K.a(t.getZr())).enable(this.seriesModel.get("roam")),o.zoomLimit=this.seriesModel.get("scaleLimit"),o.zoom=this.seriesModel.get("zoom"),e.on("pan",Object(n.c)(this._onPan,this)),e.on("zoom",Object(n.c)(this._onZoom,this)));var rect=new Q.a(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,o){return rect.contain(e,o)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var o=e.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+t.dx,y:o.y+t.dy,width:o.width,height:o.height}})}},e.prototype._onZoom=function(t){var e=t.originX,o=t.originY,n=t.scale;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var l=r.getLayout();if(!l)return;var d,rect=new Q.a(l.x,l.y,l.width,l.height),c=this._controllerHost;d=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=n,d){var f=d.min||0,v=d.max||1/0;h=Math.max(Math.min(v,h),f)}var y=h/c.zoom;c.zoom=h;var m=this.seriesModel.layoutInfo;e-=m.x,o-=m.y;var x=$.b();$.h(x,x,[-e,-o]),$.g(x,x,[y,y]),$.h(x,x,[e,o]),rect.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",function(t){if("ready"===e._state){var o=e.seriesModel.get("nodeClick",!0);if(o){var n=e.findTarget(t.offsetX,t.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)e._rootToNode(n);else if("zoomToNode"===o)e._zoomToNode(n);else if("link"===o){var l=r.hostTree.data.getItemModel(r.dataIndex),link=l.get("link",!0),d=l.get("target",!0)||"blank";link&&Object(it.i)(link,d)}}}}},this)},e.prototype._renderBreadcrumb=function(t,e,o){var n=this;o||(o=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(o={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new J(this.group))).render(t,e,o.node,function(e){"animating"!==n._state&&(d(t.getViewRoot(),e)?n._rootToNode({node:e}):n._zoomToNode({node:e}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var r=this._storage.background[n.getRawIndex()];if(r){var l=r.transformCoordToLocal(t,e),d=r.shape;if(!(d.x<=l[0]&&l[0]<=d.x+d.width&&d.y<=l[1]&&l[1]<=d.y+d.height))return!1;o={node:n,offsetX:l[0],offsetY:l[1]}}},this),o},e.type="treemap",e}(ot.a);var mt=yt,bt=o(459),xt=o(450),wt=Object(y.n)(),_t={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||It(e,{},t.getViewRoot().getAncestors(),t)}};function It(t,e,o,r){var l=t.getModel(),d=t.getLayout(),data=t.hostTree.data;if(d&&!d.invisible&&d.isInView){var c,h=l.getModel("itemStyle"),f=function(t,e,o){var r=Object(n.m)({},e),l=o.designatedVisualItemStyle;return Object(n.k)(["color","colorAlpha","colorSaturation"],function(o){l[o]=e[o];var n=t.get(o);l[o]=null,null!=n&&(r[o]=n)}),r}(h,e,r),v=data.ensureUniqueItemVisual(t.dataIndex,"style"),y=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(y=function(t,e){return null!=e?Object(xt.f)(e,null,null,t):null}(m,c=Mt(f))),v.stroke=y;var x=t.viewChildren;if(x&&x.length){var w=function(t,e,o,n,r,l){if(!l||!l.length)return;var d=jt(e,"color")||null!=r.color&&"none"!==r.color&&(jt(e,"colorAlpha")||jt(e,"colorSaturation"));if(!d)return;var c=e.get("visualMin"),h=e.get("visualMax"),f=o.dataExtent.slice();null!=c&&c<f[0]&&(f[0]=c),null!=h&&h>f[1]&&(f[1]=h);var v=e.get("colorMappingBy"),y={type:d.name,dataExtent:f,visual:d.range};"color"!==y.type||"index"!==v&&"id"!==v?y.mappingMethod="linear":(y.mappingMethod="category",y.loop=!0);var m=new bt.a(y);return wt(m).drColorMappingBy=v,m}(0,l,d,0,f,x);Object(n.k)(x,function(t,e){if(t.depth>=o.length||t===o[t.depth]){var d=function(t,e,o,r,l,d){var c=Object(n.m)({},e);if(l){var h=l.type,f="color"===h&&wt(l).drColorMappingBy,v="index"===f?r:"id"===f?d.mapIdToIndex(o.getId()):o.getValue(t.get("visualDimension"));c[h]=l.mapValueToVisual(v)}return c}(l,f,t,e,w,r);It(t,d,o,r)}})}else c=Mt(f),v.fill=c}}function Mt(t){var e=Ot(t,"color");if(e){var o=Ot(t,"colorAlpha"),n=Ot(t,"colorSaturation");return n&&(e=Object(xt.f)(e,null,null,n)),o&&(e=Object(xt.e)(e,o)),e}}function Ot(t,e){var o=t[e];if(null!=o&&"none"!==o)return o}function jt(t,e){var o=t.get(e);return Object(n.t)(o)&&o.length?{name:e,range:o}:null}var Tt=o(427),Vt=Math.max,Dt=Math.min,St=n.O,Nt=n.k,Ct=["itemStyle","borderWidth"],Lt=["itemStyle","gapWidth"],kt=["upperLabel","show"],Rt=["upperLabel","height"],At={seriesType:"treemap",reset:function(t,e,o,d){var c=o.getWidth(),h=o.getHeight(),f=t.option,v=Y.g(t.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),y=f.size||[],m=Object(Tt.n)(St(v.width,y[0]),c),x=Object(Tt.n)(St(v.height,y[1]),h),w=d&&d.type,_=r(d,["treemapZoomToNode","treemapRootToNode"],t),I="treemapRender"===w||"treemapMove"===w?d.rootRect:null,M=t.getViewRoot(),O=l(M);if("treemapMove"!==w){var j="treemapZoomToNode"===w?function(t,e,o,n,r){var l,d=(e||{}).node,c=[n,r];if(!d||d===o)return c;var h=n*r,area=h*t.option.zoomToNodeRatio;for(;l=d.parentNode;){for(var f=0,v=l.children,i=0,y=v.length;i<y;i++)f+=v[i].getValue();var m=d.getValue();if(0===m)return c;area*=f/m;var x=l.getModel(),w=x.get(Ct);(area+=4*w*w+(3*w+Math.max(w,Bt(x)))*Math.pow(area,.5))>Tt.a&&(area=Tt.a),d=l}area<h&&(area=h);var _=Math.pow(area/h,.5);return[n*_,r*_]}(t,_,M,m,x):I?[I.width,I.height]:[m,x],T=f.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var V={squareRatio:f.squareRatio,sort:T,leafDepth:f.leafDepth};M.hostTree.clearLayouts();var D={x:0,y:0,width:j[0],height:j[1],area:j[0]*j[1]};M.setLayout(D),zt(M,V,!1,0),D=M.getLayout(),Nt(O,function(t,e){var o=(O[e+1]||M).getValue();t.setLayout(n.m({dataExtent:[o,o],borderWidth:0,upperHeight:0},D))})}var S=t.getData().tree.root;S.setLayout(function(t,e,o){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!o)return n;var r=o.node,l=r.getLayout();if(!l)return n;var d=[l.width/2,l.height/2],c=r;for(;c;){var h=c.getLayout();d[0]+=h.x,d[1]+=h.y,c=c.parentNode}return{x:t.width/2-d[0],y:t.height/2-d[1]}}(v,I,_),!0),t.setLayoutInfo(v),Et(S,new Q.a(-v.x,-v.y,c,h),O,M,0)}};function zt(t,e,o,r){var l,d;if(!t.isRemoved()){var c=t.getLayout();l=c.width,d=c.height;var h=t.getModel(),f=h.get(Ct),v=h.get(Lt)/2,y=Bt(h),m=Math.max(f,y),x=f-v,w=m-v;t.setLayout({borderWidth:f,upperHeight:m,upperLabelHeight:y},!0);var _=(l=Vt(l-2*x,0))*(d=Vt(d-x-w,0)),I=function(t,e,o,r,l,d){var c=t.children||[],h=r.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=r.leafDepth&&r.leafDepth<=d;if(l&&!f)return t.viewChildren=[];c=n.n(c,function(t){return!t.isRemoved()}),function(t,e){e&&t.sort(function(a,b){var t="asc"===e?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===t?"asc"===e?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:t})}(c,h);var v=function(t,e,o){for(var n=0,i=0,r=e.length;i<r;i++)n+=e[i].getValue();var l,d=t.get("visualDimension");e&&e.length?"value"===d&&o?(l=[e[e.length-1].getValue(),e[0].getValue()],"asc"===o&&l.reverse()):(l=[1/0,-1/0],Nt(e,function(t){var e=t.getValue(d);e<l[0]&&(l[0]=e),e>l[1]&&(l[1]=e)})):l=[NaN,NaN];return{sum:n,dataExtent:l}}(e,c,h);if(0===v.sum)return t.viewChildren=[];if(v.sum=function(t,e,o,n,r){if(!n)return o;for(var l=t.get("visibleMin"),d=r.length,c=d,i=d-1;i>=0;i--){var h=r["asc"===n?d-i-1:i].getValue();h/o*e<l&&(c=i,o-=h)}return"asc"===n?r.splice(0,d-c):r.splice(c,d-c),o}(e,o,v.sum,h,c),0===v.sum)return t.viewChildren=[];for(var i=0,y=c.length;i<y;i++){var area=c[i].getValue()/v.sum*o;c[i].setLayout({area:area})}f&&(c.length&&t.setLayout({isLeafRoot:!0},!0),c.length=0);return t.viewChildren=c,t.setLayout({dataExtent:v.dataExtent},!0),c}(t,h,_,e,o,r);if(I.length){var rect={x:x,y:w,width:l,height:d},M=Dt(l,d),O=1/0,j=[];j.area=0;for(var i=0,T=I.length;i<T;){var V=I[i];j.push(V),j.area+=V.getLayout().area;var D=Ht(j,M,e.squareRatio);D<=O?(i++,O=D):(j.area-=j.pop().getLayout().area,Wt(j,M,rect,v,!1),M=Dt(rect.width,rect.height),j.length=j.area=0,O=1/0)}if(j.length&&Wt(j,M,rect,v,!0),!o){var S=h.get("childrenVisibleMin");null!=S&&_<S&&(o=!0)}for(i=0,T=I.length;i<T;i++)zt(I[i],e,o,r+1)}}}function Ht(t,e,o){for(var n=0,r=1/0,i=0,area=void 0,l=t.length;i<l;i++)(area=t[i].getLayout().area)&&(area<r&&(r=area),area>n&&(n=area));var d=t.area*t.area,c=e*e*o;return d?Vt(c*n/d,d/(c*r)):1/0}function Wt(t,e,rect,o,n){var r=e===rect.width?0:1,l=1-r,d=["x","y"],c=["width","height"],h=rect[d[r]],f=e?t.area/e:0;(n||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,v=t.length;i<v;i++){var y=t[i],m={},x=f?y.getLayout().area/f:0,w=m[c[l]]=Vt(f-2*o,0),_=rect[d[r]]+rect[c[r]]-h,I=i===v-1||_<x?_:x,M=m[c[r]]=Vt(I-2*o,0);m[d[l]]=rect[d[l]]+Dt(o,w/2),m[d[r]]=h+Dt(o,M/2),h+=I,y.setLayout(m,!0)}rect[d[l]]+=f,rect[c[l]]-=f}function Et(t,e,o,n,r){var l=t.getLayout(),d=o[r],c=d&&d===t;if(!(d&&!c||r===o.length&&t!==n)){t.setLayout({isInView:!0,invisible:!c&&!e.intersect(l),isAboveViewRoot:c},!0);var h=new Q.a(e.x-l.x,e.y-l.y,e.width,e.height);Nt(t.viewChildren||[],function(t){Et(t,h,o,n,r+1)})}}function Bt(t){return t.get(kt)?t.get(Rt):0}function Gt(t){t.registerSeriesModel(z),t.registerChartView(mt),t.registerVisual(_t),t.registerLayout(At),function(t){for(var i=0;i<h.length;i++)t.registerAction({type:h[i],update:"updateView"},n.L);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,o){var n=r(t,["treemapZoomToNode","treemapRootToNode"],e);if(n){var l=e.getViewRoot();l&&(t.direction=d(l,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}})})}(t)}}}]);
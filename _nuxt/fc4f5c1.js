(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{713:function(t,e,r){"use strict";r.d(e,"a",function(){return k});var n=r(526),o=r(422),h=r(475),_=r(484),l=r(514),d=r(545),c=r(492),f=r(518),v=r(488);function y(t,e,r){var n=v.d.createCanvas(),o=e.getWidth(),h=e.getHeight(),_=n.style;return _&&(_.position="absolute",_.left="0",_.top="0",_.width=o+"px",_.height=h+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*r,n.height=h*r,n}var w=function(t){function e(e,r,h){var _,l=t.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null,h=h||n.e,"string"==typeof e?_=y(e,r,h):o.A(e)&&(e=(_=e).id),l.id=e,l.dom=_;var d=_.style;return d&&(o.j(_),_.onselectstart=function(){return!1},d.padding="0",d.margin="0",d.borderWidth="0"),l.painter=r,l.dpr=h,l}return Object(h.a)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=y("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,r,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,h=[],_=this.maxRepaintRectCount,l=!1,d=new c.a(0,0,0,0);function v(rect){if(rect.isFinite()&&!rect.isZero())if(0===h.length){(t=new c.a(0,0,0,0)).copy(rect),h.push(t)}else{for(var t,e=!1,r=1/0,n=0,i=0;i<h.length;++i){var o=h[i];if(o.intersect(rect)){var f=new c.a(0,0,0,0);f.copy(o),f.union(rect),h[i]=f,e=!0;break}if(l){d.copy(rect),d.union(o);var v=rect.width*rect.height,y=o.width*o.height,w=d.width*d.height-v-y;w<r&&(r=w,n=i)}}if(l&&(h[n].union(rect),e=!0),!e)(t=new c.a(0,0,0,0)).copy(rect),h.push(t);l||(l=h.length>=_)}}for(var i=this.__startIndex;i<this.__endIndex;++i){if(x=t[i]){var y=x.shouldBePainted(r,n,!0,!0);(m=x.__isRendered&&(x.__dirty&f.a||!y)?x.getPrevPaintRect():null)&&v(m);var w=y&&(x.__dirty&f.a||!x.__isRendered)?x.getPaintRect():null;w&&v(w)}}for(i=this.__prevStartIndex;i<this.__prevEndIndex;++i){var x,m;y=(x=e[i])&&x.shouldBePainted(r,n,!0,!0);if(x&&(!y||!x.__zr)&&x.__isRendered)(m=x.getPrevPaintRect())&&v(m)}do{o=!1;for(i=0;i<h.length;)if(h[i].isZero())h.splice(i,1);else{for(var L=i+1;L<h.length;)h[i].intersect(h[L])?(o=!0,h[i].union(h[L]),h.splice(L,1)):L++;i++}}while(o);return this._paintRects=h,h},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var r=this.dpr,n=this.dom,o=n.style,h=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),n.width=t*r,n.height=e*r,h&&(h.width=t*r,h.height=e*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,e,r){var n=this.dom,h=this.ctx,_=n.width,c=n.height;e=e||this.clearColor;var f=this.motionBlur&&!t,v=this.lastFrameAlpha,y=this.dpr,w=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,_/y,c/y));var x=this.domBack;function m(t,r,n,_){if(h.clearRect(t,r,n,_),e&&"transparent"!==e){var c=void 0;if(o.x(e))c=(e.global||e.__width===n&&e.__height===_)&&e.__canvasGradient||Object(l.a)(h,e,{x:0,y:0,width:n,height:_}),e.__canvasGradient=c,e.__width=n,e.__height=_;else o.y(e)&&(e.scaleX=e.scaleX||y,e.scaleY=e.scaleY||y,c=Object(d.c)(h,e,{dirty:function(){w.setUnpainted(),w.painter.refresh()}}));h.save(),h.fillStyle=c||e,h.fillRect(t,r,n,_),h.restore()}f&&(h.save(),h.globalAlpha=v,h.drawImage(x,t,r,n,_),h.restore())}!r||f?m(0,0,_,c):r.length&&o.k(r,function(rect){m(rect.x*y,rect.y*y,rect.width*y,rect.height*y)})},e}(_.a),x=r(583),m=r(469),L=1e5,C=314159,I=.01;var R=function(){function t(t,e,r,h){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var _=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=o.m({},r||{}),this.dpr=r.devicePixelRatio||n.e,this._singleCanvas=_,this.root=t,t.style&&(o.j(t),t.innerHTML=""),this.storage=e;var d=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(_){var f=t,v=f.width,y=f.height;null!=r.width&&(v=r.width),null!=r.height&&(y=r.height),this.dpr=r.devicePixelRatio||1,f.width=v*this.dpr,f.height=y*this.dpr,this._width=v,this._height=y;var x=new w(f,this,this.dpr);x.__builtin__=!0,x.initContext(),c[314159]=x,x.zlevel=C,d.push(C),this._domRoot=t}else{this._width=Object(l.b)(t,0,r),this._height=Object(l.b)(t,1,r);var m=this._domRoot=function(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}(this._width,this._height);t.appendChild(m)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var i=0;i<n.length;i++){var o=n[i],h=this._layers[o];if(!h.__builtin__&&h.refresh){var _=0===i?this._backgroundColor:null;h.refresh(_)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var n,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<e;i++){var h=t[i];h.__inHover&&(r||(r=this._hoverlayer=this.getLayer(L)),n||(n=r.ctx).save(),Object(d.a)(n,h,o,i===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(L)},t.prototype.paintOne=function(t,e){Object(d.b)(t,e)},t.prototype._paintList=function(t,e,r,n){if(this._redrawId===n){r=r||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,r),h=o.finished,_=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),_&&this._paintHoverList(t),h)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var l=this;Object(x.a)(function(){l._paintList(t,e,r,n)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(C).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,r)})},t.prototype._doPaintList=function(t,e,r){for(var n=this,h=[],_=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var d=this._zlevelList[l],c=this._layers[d];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&h.push(c)}for(var f=!0,v=!1,y=function(o){var i,l=h[o],d=l.ctx,c=_&&l.createRepaintRects(t,e,w._width,w._height),y=r?l.__startIndex:l.__drawIndex,x=!r&&l.incremental&&Date.now,m=x&&Date.now(),L=l.zlevel===w._zlevelList[0]?w._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,L,c);else if(y===l.__startIndex){var C=t[y];C.incremental&&C.notClear&&!r||l.clear(!1,L,c)}-1===y&&(console.error("For some unknown reason. drawIndex is -1"),y=l.__startIndex);var I=function(e){var r={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(i=y;i<l.__endIndex;i++){var o=t[i];if(o.__inHover&&(v=!0),n._doPaintEl(o,l,_,e,r,i===l.__endIndex-1),x)if(Date.now()-m>15)break}r.prevElClipPaths&&d.restore()};if(c)if(0===c.length)i=l.__endIndex;else for(var R=w.dpr,k=0;k<c.length;++k){var rect=c[k];d.save(),d.beginPath(),d.rect(rect.x*R,rect.y*R,rect.width*R,rect.height*R),d.clip(),I(rect),d.restore()}else d.save(),I(),d.restore();l.__drawIndex=i,l.__drawIndex<l.__endIndex&&(f=!1)},w=this,x=0;x<h.length;x++)y(x);return m.a.wxa&&o.k(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:f,needsRefreshHover:v}},t.prototype._doPaintEl=function(t,e,r,n,o,h){var _=e.ctx;if(r){var l=t.getPaintRect();(!n||l&&l.intersect(n))&&(Object(d.a)(_,t,o,h),t.setPrevPaintRect(l))}else Object(d.a)(_,t,o,h)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=C);var r=this._layers[t];return r||((r=new w("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?o.H(r,this._layerConfig[t],!0):this._layerConfig[t-I]&&o.H(r,this._layerConfig[t-I],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},t.prototype.insertLayer=function(t,e){var r=this._layers,n=this._zlevelList,o=n.length,h=this._domRoot,_=null,i=-1;if(!r[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(o>0&&t>n[0]){for(i=0;i<o-1&&!(n[i]<t&&n[i+1]>t);i++);_=r[n[i]]}if(n.splice(i+1,0,t),r[t]=e,!e.virtual)if(_){var l=_.dom;l.nextSibling?h.insertBefore(e.dom,l.nextSibling):h.appendChild(e.dom)}else h.firstChild?h.insertBefore(e.dom,h.firstChild):h.appendChild(e.dom);e.painter||(e.painter=this)}},t.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i];t.call(e,this._layers[n],n)}},t.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__&&t.call(e,o,n)}},t.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__||t.call(e,o,n)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){h&&(h.__endIndex!==t&&(h.__dirty=!0),h.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++){if((l=t[r]).zlevel!==t[r-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var n,i,h=null,_=0;for(i=0;i<t.length;i++){var l,d=(l=t[i]).zlevel,c=void 0;n!==d&&(n=d,_=0),l.incremental?((c=this.getLayer(d+.001,this._needsManuallyCompositing)).incremental=!0,_=1):c=this.getLayer(d+(_>0?I:0),this._needsManuallyCompositing),c.__builtin__||o.F("ZLevel "+d+" has been used by unkown layer "+c.id),c!==h&&(c.__used=!0,c.__startIndex!==i&&(c.__dirty=!0),c.__startIndex=i,c.incremental?c.__drawIndex=-1:c.__drawIndex=i,e(i),h=c),l.__dirty&f.a&&!l.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,o.k(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?o.H(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];if(n===t||n===t+I){var h=this._layers[n];o.H(h,r[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],r.splice(o.r(r,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var n=this._opts,o=this.root;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=Object(l.b)(o,0,n),e=Object(l.b)(o,1,n),r.style.display="",this._width!==t||e!==this._height){for(var h in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(h)&&this._layers[h].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(C).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new w("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,o=e.dom.height;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,o):t.renderToCanvas&&(r.save(),t.renderToCanvas(r),r.restore())})}else for(var h={inHover:!1,viewWidth:this._width,viewHeight:this._height},_=this.storage.getDisplayList(!0),i=0,l=_.length;i<l;i++){var c=_[i];Object(d.a)(r,c,h,i===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function k(t){t.registerPainter("canvas",R)}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[61,49],{429:function(t,e,r){"use strict";var n=r(4),o=r(8),h=r(55),c=r(50),l=r(76),d=r(274),f=r(24),v=r(9),w=r(275),m=r(191),y=r(434),x=r(435),_=r(121),k=r(436),C=[],A=o(C.sort),O=o(C.push),I=v(function(){C.sort(void 0)}),M=v(function(){C.sort(null)}),S=m("sort"),z=!v(function(){if(_)return _<70;if(!(y&&y>3)){if(x)return!0;if(k)return k<603;var code,t,e,r,n="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)C.push({k:t+r,v:e})}for(C.sort(function(a,b){return b.v-a.v}),r=0;r<C.length;r++)t=C[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}});n({target:"Array",proto:!0,forced:I||!M||!S||!z},{sort:function(t){void 0!==t&&h(t);var e=c(this);if(z)return void 0===t?A(e):A(e,t);var r,n,o=[],v=l(e);for(n=0;n<v;n++)n in e&&O(o,e[n]);for(w(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:f(e)>f(r)?1:-1}}(t)),r=l(o),n=0;n<r;)e[n]=o[n++];for(;n<v;)d(e,n++);return e}})},434:function(t,e,r){"use strict";var n=r(85).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},435:function(t,e,r){"use strict";var n=r(85);t.exports=/MSIE|Trident/.test(n)},436:function(t,e,r){"use strict";var n=r(85).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},506:function(t,e,r){t.exports={}},516:function(t,e,r){"use strict";r.r(e);r(23),r(38);var n=r(6),o=r(462),h=r(595),c=r(668),l=r(545),d=r(827),f=r(656),v=r(658);Object(o.a)([c.a,d.a,f.a,l.a,v.a]);var w=Object(n.b)({name:"Maxdrawdown",props:{values:{type:Array,default:function(){return[1,2,3,4]}},benchmark:{type:Array,default:function(){return[1,2,3,4]}},index:{type:Array,default:function(){return["2020-01-01","2020-02-01","2020-03-01","2020-04-01"]}},height:{type:String,default:"250px"},width:{type:String,default:"100%"}},data:function(){return{chartInstance:null,chartOption:{legend:{bottom:50,left:-5,orient:"vertical"},tooltip:{trigger:"axis",position:function(t){return[t[0]-100,t[1]-100]},axisPointer:{type:"line",snap:!0,axis:"x"},formatter:function(t){for(var e,r=t[0].value[0]+"<br/>",i=0,n=t.length;i<n;i++)e=Math.round(100*t[i].value[1])/100+"%",r+=t[i].marker+t[i].seriesName+"："+e+"<br/>";return r}},grid:{left:0,right:0,top:"12px",bottom:"10px"},xAxis:{type:"time",name:"日期",minorTick:{show:!1},minorSplitLine:{show:!1},axisLabel:{inside:!0},inverval:1},yAxis:{type:"value",name:"下跌幅度",axisLabel:{formatter:"{value}%",inside:!0,position:"right"},show:!0,minorTick:{show:!1},minorSplitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},lineStyle:{width:0},position:"right"},series:[{name:"策略",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(232, 56, 115, 0)"},{offset:1,color:"rgba(232, 56, 115, 1)",alpha:1}],global:!1}},itemStyle:{color:"rgba(232, 56, 115, 0.5)",borderColor:"rgba(232, 56, 115, 0.5)",opacity:0},lineStyle:{color:"rgba(232, 56, 115, 0.5)"}},{name:"大盤",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(209, 204, 204, 0)"},{offset:1,color:"#aaa",alpha:1}],global:!1}},itemStyle:{color:"#aaa",borderColor:"#aaa",opacity:0},lineStyle:{color:"#aaa"}}],backgroundColor:"transparent"}}},watch:{values:{handler:"updateChart",deep:!0},benchmark:{handler:"updateChart",deep:!0},index:{handler:"updateChart",deep:!0}},mounted:function(){var t=this;this.initChart(),this.updateChart(),window.addEventListener("resize",this.resizeChart),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){t.resizeChart()}),this.resizeObserver.observe(this.$refs.chart))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose()},methods:{initChart:function(){this.chartInstance=Object(h.b)(this.$refs.chart,"light")},resizeChart:function(){this.chartInstance&&this.chartInstance.resize()},calDD:function(t){if(!(t&&Array.isArray(t)&&0!==t.length&&this.index&&Array.isArray(this.index)&&0!==this.index.length))return[];var e=[],r=0;for(var i in t)r=Math.max(t[i],r),e.push(t[i]/r);var n=[];for(var o in this.index)n.push([this.index[o],100*e[o]-100]);return n},updateChart:function(){this.values&&Array.isArray(this.values)&&this.values.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[0].data=this.calDD(this.values)),this.benchmark&&Array.isArray(this.benchmark)&&this.benchmark.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[1].data=this.calDD(this.benchmark)),this.chartInstance&&this.chartInstance.setOption(this.chartOption)}}}),m=(r(537),r(52)),component=Object(m.a)(w,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{ref:"chart",staticClass:"chart",style:{height:t.height,width:t.width,zIndex:0}})])},[],!1,null,"5b5fc17b",null);e.default=component.exports},525:function(t,e,r){t.exports={}},537:function(t,e,r){"use strict";r(506)},540:function(t,e,r){"use strict";r.r(e);var n=r(21),o=(r(74),r(429),r(53),r(23),r(6)),h=r(516),c=Object(o.b)({components:{Maxdrawdown:h.default},props:{returns:{default:function(){return{value:[],time:[]}}},benchmark:[],drawdown_details:{default:function(){return{}}},dailyMean:{default:0},max_drawdown:{default:0}},data:function(){return{investCapital:20,investPercentage:80}},computed:{sortedDrawdownDetail:function(){var t=this;return this.drawdown_details&&"object"===Object(n.a)(this.drawdown_details)?Object.keys(this.drawdown_details).sort().reduce(function(e,r){return e[r]=t.drawdown_details[r],e},{}):{}},simulated_maxdrawdown:function(){var t=parseInt(this.investPercentage)*parseInt(this.investCapital)*this.max_drawdown;return Math.round(t/10)/10},simulated_stock_investment:function(){return Math.round(parseInt(this.investCapital)*parseInt(this.investPercentage)/10)/10},simulated_annual_return:function(){return Math.round(parseInt(this.investPercentage)*parseInt(this.investCapital)*this.dailyMean/10)/10}},methods:{drawdownColor:function(t){var e=255-Math.min(255,t/10),r=Math.min(255,e-5);return"background: rgba(".concat(e,", ").concat(r,", 255, 0.5)")}}}),l=(r(552),r(52)),component=Object(l.a)(c,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h5",{staticClass:"uk-margin-large-top uk-text-primary"},[t._v("下跌幅度")]),t._v(" "),t.returns&&t.returns.value&&t.returns.time?e("Maxdrawdown",{attrs:{values:t.returns.value,benchmark:t.benchmark,index:t.returns.time}}):t._e(),t._v(" "),e("h5",{staticClass:"uk-margin-large-top uk-text-primary"},[t._v("歷史最大下跌風險")]),t._v(" "),e("table",{staticClass:"uk-table uk-table-small uk-table-divider"},[t._m(0),t._v(" "),e("tbody",t._l(t.sortedDrawdownDetail,function(r,n){return e("tr",{key:n,style:t.drawdownColor(r.Length)},[e("td",[t._v(t._s(n))]),t._v(" "),e("td",[t._v(t._s(Math.round(1e3*r.drawdown)/10)+"%")]),t._v(" "),e("td",[t._v(t._s(r.Length)+" 天")])])}),0)])],1)},[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("起始時間")]),t._v(" "),e("th",[t._v("虧損程度")]),t._v(" "),e("th",[t._v("時間長度")])])])}],!1,null,"2e0646e6",null);e.default=component.exports;installComponents(component,{Maxdrawdown:r(516).default})},552:function(t,e,r){"use strict";r(525)}}]);
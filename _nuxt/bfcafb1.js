(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{332:function(e,t,n){"use strict";var o=n(318),r=n(337),l=n(322),d=o.k,c=o.A,h=-1,f=function(){function e(option){var t=option.mappingMethod,n=option.type,r=this.option=o.d(option);this.type=n,this.mappingMethod=t,this._normalizeData=j[t];var l=e.visualHandlers[n];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[t],"piecewise"===t?(v(r),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,o.k(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(r)):"category"===t?r.categories?function(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(d(t,(function(e,t){n[e]=t})),!o.t(r)){var l=[];o.A(r)?d(r,(function(e,t){var o=n[t];l[null!=o?o:h]=e})):l[-1]=r,r=O(e,l)}for(var i=t.length-1;i>=0;i--)null==r[i]&&(delete n[t[i]],t.pop())}(r):v(r,!0):(o.b("linear"!==t||r.dataExtent),v(r))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return o.c(this._normalizeData,this)},e.listVisualTypes=function(){return o.E(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){o.A(e)?o.k(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var l,d=o.t(t)?[]:o.A(t)?{}:(l=!0,null);return e.eachVisual(t,(function(e,t){var o=n.call(r,e,t);l?d=o:d[t]=o})),d},e.retrieveVisuals=function(t){var n,o={};return t&&d(e.visualHandlers,(function(e,r){t.hasOwnProperty(r)&&(o[r]=t[r],n=!0)})),n?o:null},e.prepareVisualTypes=function(e){if(o.t(e))e=e.slice();else{if(!c(e))return[];var t=[];d(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var o,r=1/0,i=0,l=t.length;i<l;i++){var d=t[i].value;if(null!=d){if(d===e||"string"==typeof d&&d===e+"")return i;n&&v(d,i)}}for(i=0,l=t.length;i<l;i++){var c=t[i],h=c.interval,f=c.close;if(h){if(h[0]===-1/0){if(T(f[1],e,h[1]))return i}else if(h[1]===1/0){if(T(f[0],h[0],e))return i}else if(T(f[0],h[0],e)&&T(f[1],e,h[1]))return i;n&&v(h[0],i),n&&v(h[1],i)}}if(n)return e===1/0?t.length-1:e===-1/0?0:o;function v(t,n){var l=Math.abs(t-e);l<r&&(r=l,o=n)}},e.visualHandlers={color:{applyVisual:x("color"),getColorMapper:function(){var e=this.option;return o.c("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),w.call(this,e)}:function(t,n,o){var l=!!o;return!n&&(t=this._normalizeData(t)),o=r.a(t,e.parsedVisual,o),l?o:r.h(o,"rgba")},this)},_normalizedToVisual:{linear:function(e){return r.h(r.a(e,this.option.parsedVisual),"rgba")},category:w,piecewise:function(e,t){var n=M.call(this,t);return null==n&&(n=r.h(r.a(e,this.option.parsedVisual),"rgba")),n},fixed:_}},colorHue:y((function(e,t){return r.f(e,t)})),colorSaturation:y((function(e,t){return r.f(e,null,t)})),colorLightness:y((function(e,t){return r.f(e,null,null,t)})),colorAlpha:y((function(e,t){return r.e(e,t)})),decal:{applyVisual:x("decal"),_normalizedToVisual:{linear:null,category:w,piecewise:null,fixed:null}},opacity:{applyVisual:x("opacity"),_normalizedToVisual:I([0,1])},liftZ:{applyVisual:x("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:m,category:w,piecewise:function(e,t){var n=M.call(this,t);return null==n&&(n=m.call(this,e)),n},fixed:_}},symbolSize:{applyVisual:x("symbolSize"),_normalizedToVisual:I([0,1])}},e}();function v(e,t){var n=e.visual,r=[];o.A(n)?d(n,(function(e){r.push(e)})):null!=n&&r.push(n);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),O(e,r)}function y(e){return{applyVisual:function(t,n,o){var r=this.mapValueToVisual(t);o("color",e(n("color"),r))},_normalizedToVisual:I([0,1])}}function m(e){var t=this.option.visual;return t[Math.round(Object(l.j)(e,[0,1],[0,t.length-1],!0))]||{}}function x(e){return function(t,n,o){o(e,this.mapValueToVisual(t))}}function w(e){var t=this.option.visual;return t[this.option.loop&&e!==h?e%t.length:e]}function _(){return this.option.visual[0]}function I(e){return{linear:function(t){return Object(l.j)(t,e,this.option.visual,!0)},category:w,piecewise:function(t,n){var o=M.call(this,n);return null==o&&(o=Object(l.j)(t,e,this.option.visual,!0)),o},fixed:_}}function M(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var o=n[f.findPieceIndex(e,n)];if(o&&o.visual)return o.visual[this.type]}}function O(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=o.G(t,(function(e){return r.g(e)}))),t}var j={linear:function(e){return Object(l.j)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=f.findPieceIndex(e,t,!0);if(null!=n)return Object(l.j)(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?h:t},fixed:o.J};function T(e,a,b){return e?a<=b:a<b}t.a=f},333:function(e,t,n){"use strict";var o=n(10),r=n(81),l=n(43),d=n(61),c=n(22),h=n(11),f=n(343),v=n(154),y=n(344),m=n(345),x=n(93),w=n(346),_=[],I=_.sort,M=h((function(){_.sort(void 0)})),O=h((function(){_.sort(null)})),j=v("sort"),T=!h((function(){if(x)return x<70;if(!(y&&y>3)){if(m)return!0;if(w)return w<603;var code,e,t,n,o="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)_.push({k:e+n,v:t})}for(_.sort((function(a,b){return b.v-a.v})),n=0;n<_.length;n++)e=_[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:M||!O||!j||!T},{sort:function(e){void 0!==e&&r(e);var t=l(this);if(T)return void 0===e?I.call(t):I.call(t,e);var n,o,h=[],v=d(t);for(o=0;o<v;o++)o in t&&h.push(t[o]);for(h=f(h,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=h.length,o=0;o<n;)t[o]=h[o++];for(;o<v;)delete t[o++];return t}})},343:function(e,t){var n=Math.floor,o=function(e,t){var d=e.length,c=n(d/2);return d<8?r(e,t):l(o(e.slice(0,c),t),o(e.slice(c),t),t)},r=function(e,t){for(var element,n,o=e.length,i=1;i<o;){for(n=i,element=e[i];n&&t(e[n-1],element)>0;)e[n]=e[--n];n!==i++&&(e[n]=element)}return e},l=function(e,t,n){for(var o=e.length,r=t.length,l=0,d=0,c=[];l<o||d<r;)l<o&&d<r?c.push(n(e[l],t[d])<=0?e[l++]:t[d++]):c.push(l<o?e[l++]:t[d++]);return c};e.exports=o},344:function(e,t,n){var o=n(80).match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},345:function(e,t,n){var o=n(80);e.exports=/MSIE|Trident/.test(o)},346:function(e,t,n){var o=n(80).match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},397:function(e,t,n){"use strict";var o=n(319),r=n(385),l=n(339),d=n(442),c="\0_ec_interaction_mutex";function h(e,t){return!!f(e)[t]}function f(e){return e[c]||(e[c]={})}d.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var v=n(318),y=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var o=Object(v.c)(n._mousedownHandler,n),r=Object(v.c)(n._mousemoveHandler,n),l=Object(v.c)(n._mouseupHandler,n),d=Object(v.c)(n._mousewheelHandler,n),c=Object(v.c)(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=Object(v.j)(Object(v.d)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",o),t.on("mousemove",r),t.on("mouseup",l)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",d),t.on("pinch",c))},n.disable=function(){t.off("mousedown",o),t.off("mousemove",r),t.off("mouseup",l),t.off("mousewheel",d),t.off("pinch",c)},n}return Object(o.a)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(l.d(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&w("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!h(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,o=this._x,r=this._y,d=t-o,c=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&l.g(e.event),x(this,"pan","moveOnMouseMove",e,{dx:d,dy:c,oldX:o,oldY:r,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){l.d(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=w("zoomOnMouseWheel",e,this._opt),n=w("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,r=Math.abs(o),l=e.offsetX,d=e.offsetY;if(0!==o&&(t||n)){if(t){var c=r>3?1.4:r>1?1.2:1.1;m(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?c:1/c,originX:l,originY:d,isAvailableBehavior:null})}if(n){var h=Math.abs(o);m(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:l,originY:d,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){h(this._zr,"globalPan")||m(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(r.a);function m(e,t,n,o,r){e.pointerChecker&&e.pointerChecker(o,r.originX,r.originY)&&(l.g(o.event),x(e,t,n,o,r))}function x(e,t,n,o,r){r.isAvailableBehavior=Object(v.c)(w,null,n,o),e.trigger(t,r)}function w(e,t,n){var o=n[e];return!e||o&&(!Object(v.B)(o)||t.event[o+"Key"])}t.a=y},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return Be}));var o=n(318);function r(e,t,n){if(e&&o.r(t,e.type)>=0){var r=n.getData().tree.root,l=e.targetNode;if("string"==typeof l&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var d=e.targetNodeId;if(null!=d&&(l=r.getNodeById(d)))return{node:l}}}function l(e){for(var path=[];e;)(e=e.parentNode)&&path.push(e);return path.reverse()}function d(e,t){var n=l(e);return o.r(n,t)>=0}function c(e,t){for(var n=[];e;){var o=e.dataIndex;n.push({name:e.name,dataIndex:o,value:t.getRawValue(o)}),e=e.parentNode}return n.reverse(),n}var h=function(){},f=["treemapZoomToNode","treemapRender","treemapMove"];var v=n(319),y=n(370),m=n(321),x=Object(m.n)();function w(e,t){if(x(data=this).mainData===data){var n=Object(o.m)({},x(this).datas);n[this.dataType]=t,j(t,n,e)}else T(t,this.dataType,x(this).mainData,e);var data;return t}function _(e,t){return e.struct&&e.struct.update(),t}function I(e,t){return Object(o.k)(x(t).datas,(function(data,n){data!==t&&T(data.cloneShallow(),n,t,e)})),t}function M(e){var t=x(this).mainData;return null==e||null==t?t:x(t).datas[e]}function O(){var e=x(this).mainData;return null==e?[{data:e}]:Object(o.G)(Object(o.E)(x(e).datas),(function(t){return{type:t,data:x(e).datas[t]}}))}function j(e,t,n){x(e).datas={},Object(o.k)(t,(function(data,t){T(data,t,e,n)}))}function T(data,e,t,n){x(t).datas[e]=data,x(data).mainData=t,data.dataType=e,n.struct&&(data[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=data),data.getLinkedData=M,data.getLinkedDataAll=O}var V=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,j(t,n,e),Object(o.k)(n,(function(data){Object(o.k)(t.TRANSFERABLE_METHODS,(function(t){data.wrapMethod(t,Object(o.i)(w,e))}))})),t.wrapMethod("cloneShallow",Object(o.i)(I,e)),Object(o.k)(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,Object(o.i)(_,e))})),Object(o.b)(n[t.dataType]===t)},D=n(348),N=n(383),C=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),e=e||{},o.B(e)&&(e={order:e});var r,l=e.order||"preorder",d=this[e.attr||"children"];"preorder"===l&&(r=t.call(n,this));for(var i=0;!r&&i<d.length;i++)d[i].eachNode(e,t,n);"postorder"===l&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(e+1),n.height>t&&(t=n.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var i=0,t=this.children,n=t.length;i<n;i++){var o=t[i].getNodeById(e);if(o)return o}},e.prototype.contains=function(e){if(e===this)return!0;for(var i=0,t=this.children,n=t.length;i<n;i++){var o=t[i].contains(e);if(o)return o}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,i=0;i<e.length;++i)if(e[i]===this)return i;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}();var k=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var data=this.data,e=this._nodes,i=0,t=e.length;i<t;i++)e[i].dataIndex=-1;for(i=0,t=data.count();i<t;i++)e[data.getRawIndex(i)].dataIndex=i},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var l=new e(n),d=[],c=1;!function e(t,n){var r=t.value;c=Math.max(c,o.t(r)?r.length:1),d.push(t);var h=new C(Object(m.e)(t.name,""),l);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(h,n):l.root=h,l._nodes.push(h);var f=t.children;if(f)for(var i=0;i<f.length;i++)e(f[i],h)}(t),l.root.updateDepthAndHeight(0);var h=Object(N.a)(d,{coordDimensions:["value"],dimensionsCount:c}).dimensions,f=new D.a(h,n);return f.initData(d),r&&r(f),V({mainData:f,struct:l,structAttr:"tree"}),l.update(),l},e}(),S=n(354),R=n(330),L=n(548);var A=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return Object(v.a)(t,e),t.prototype.getInitialData=function(option,e){var t={name:option.name,children:option.data};z(t);var n=option.levels||[],r=this.designatedVisualItemStyle={},l=new S.a({itemStyle:r},this,e);n=option.levels=function(e,t){var n,r,l=Object(m.p)(t.get("color")),d=Object(m.p)(t.get(["aria","decal","decals"]));if(!l)return;e=e||[],o.k(e,(function(e){var t=new S.a(e),o=t.get("color"),l=t.get("decal");(t.get(["itemStyle","color"])||o&&"none"!==o)&&(n=!0),(t.get(["itemStyle","decal"])||l&&"none"!==l)&&(r=!0)}));var c=e[0]||(e[0]={});n||(c.color=l.slice());!r&&d&&(c.decal=d.slice());return e}(n,e);var d=o.G(n||[],(function(t){return new S.a(t,l,e)}),this),c=k.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=c.getNodeByDataIndex(t),o=n?d[n.depth]:null;return e.parentModel=o||l,e}))}));return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var data=this.getData(),o=this.getRawValue(e),r=data.getName(e);return Object(R.c)("nameValue",{name:r,value:o})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=c(o,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},o.m(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.g(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){var e,t,n;t=(e=this).getData().tree,n={},t.eachNode((function(t){for(var o=t;o&&o.depth>1;)o=o.parentNode;var r=Object(L.b)(e.ecModel,o.name||o.dataIndex+"",n);t.setVisual("decal",r)}))},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(y.a);function z(e){var t=0;o.k(e.children,(function(e){z(e);var n=e.value;o.t(n)&&(n=n[0]),t+=n}));var n=e.value;o.t(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),o.t(e.value)?e.value[0]=n:e.value=n}var H=A,E=n(466),W=n(528),B=n(329),G=n(325),P=n(660),X=n(553),Y=n(388),F=n(331);function Z(e,t,n,o,head,r){var l=[[head?e:e-5,t],[e+n,t],[e+n,t+o],[head?e:e-5,t+o]];return!r&&l.splice(2,0,[e+n+5,t+o/2]),!head&&l.push([e,t+o/2]),l}function U(e,t,n){Object(B.a)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&c(n,t)}}var J=function(){function e(e){this.group=new E.a,e.add(this.group)}return e.prototype.render=function(e,t,n,o){var r=e.getModel("breadcrumb"),l=this.group;if(l.removeAll(),r.get("show")&&n){var d=r.getModel("itemStyle"),c=d.getModel("textStyle"),h={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,c),this._renderContent(e,h,d,c,o),F.g(l,h.pos,h.box)}},e.prototype._prepare=function(e,t,n){for(var o=e;o;o=o.parentNode){var text=Object(m.e)(o.getModel().get("name"),""),r=n.getTextRect(text),l=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:o,text:text,width:l})}},e.prototype._renderContent=function(e,t,n,r,l){for(var d=0,c=t.emptyItemWidth,h=e.get(["breadcrumb","height"]),f=F.c(t.pos,t.box),v=t.totalWidth,y=t.renderList,i=y.length-1;i>=0;i--){var m=y[i],x=m.node,w=m.width,text=m.text;v>f.width&&(v-=w-c,w=c,text=null);var _=new X.a({shape:{points:Z(d,0,w,h,i===y.length-1,0===i)},style:Object(o.j)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Y.a({style:{text:text,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e4*G.j,onclick:Object(o.i)(l,x)});_.disableLabelAnimation=!0,this.group.add(_),U(_,e,x),d+=w+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),K=n(397),Q=n(384),$=n(447),ee=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,o,r){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:o,easing:r}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var te=n(487),ne=n(369),oe=n(467),re=n(327),ie=n(326),ae=E.a,se=W.a,le="label",ue="upperLabel",de=10*G.j,ce=2*G.j,he=3*G.j,pe=Object(te.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),fe=function(e){var t=pe(e);return t.stroke=t.fill=t.lineWidth=null,t},ge=Object(m.n)(),ve=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return Object(v.a)(t,e),t.prototype.render=function(e,t,n,l){var d=t.findComponents({mainType:"series",subType:"treemap",query:l});if(!(Object(o.r)(d,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var c=r(l,["treemapZoomToNode","treemapRootToNode"],e),h=l&&l.type,f=e.layoutInfo,v=!this._oldTree,y=this._storage,m="treemapRootToNode"===h&&c&&y?{rootNodeGroup:y.nodeGroup[c.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(f),w=e.get("animation"),_=this._doRender(x,e,m);!w||v||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?_.renderFinally():this._doAnimation(x,_,e,m),this._resetController(n),this._renderBreadcrumb(e,n,c)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ae,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var r=t.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},c={nodeGroup:[],background:[],content:[]},h=this._storage,f=[];function v(e,r,l,v){return function(e,t,n,r,l,d,c,h,f,v){if(!c)return;var y=c.getLayout(),data=e.getData(),x=c.getModel();if(data.setItemGraphicEl(c.dataIndex,null),!y||!y.isInView)return;var w=y.width,_=y.height,I=y.borderWidth,M=y.invisible,O=c.getRawIndex(),j=h&&h.getRawIndex(),T=c.viewChildren,V=y.upperHeight,D=T&&T.length,N=x.getModel("itemStyle"),C=x.getModel(["emphasis","itemStyle"]),k=x.getModel(["blur","itemStyle"]),S=x.getModel(["select","itemStyle"]),R=N.get("borderRadius")||0,L=U("nodeGroup",ae);if(!L)return;if(f.add(L),L.x=y.x||0,L.y=y.y||0,L.markRedraw(),ge(L).nodeWidth=w,ge(L).nodeHeight=_,y.isAboveViewRoot)return L;var A=U("background",se,v,ce);A&&P(L,A,D&&y.upperLabelHeight);var z=x.get(["emphasis","focus"]),H=x.get(["emphasis","blurScope"]),W="ancestor"===z?c.getAncestorsIndices():"descendant"===z?c.getDescendantIndices():z;if(D)Object(G.x)(L)&&Object(G.E)(L,!1),A&&(Object(G.E)(A,!0),data.setItemGraphicEl(c.dataIndex,A),Object(G.o)(A,W,H));else{var content=U("content",se,v,he);content&&X(L,content),A.disableMorphing=!0,A&&Object(G.x)(A)&&Object(G.E)(A,!1),Object(G.E)(L,!0),data.setItemGraphicEl(c.dataIndex,L),Object(G.o)(L,W,H)}return L;function P(t,n,o){var r=Object(B.a)(n);if(r.dataIndex=c.dataIndex,r.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:w,height:_,r:R}),M)Y(n);else{n.invisible=!1;var style=c.getVisual("style"),l=style.stroke,d=fe(N);d.fill=l;var h=pe(C);h.fill=C.get("borderColor");var f=pe(k);f.fill=k.get("borderColor");var v=pe(S);if(v.fill=S.get("borderColor"),o){var y=w-2*I;F(n,l,style.opacity,{x:I,y:0,width:y,height:V})}else n.removeTextContent();n.setStyle(d),n.ensureState("emphasis").style=h,n.ensureState("blur").style=f,n.ensureState("select").style=v,Object(G.F)(n)}t.add(n)}function X(t,content){var n=Object(B.a)(content);n.dataIndex=c.dataIndex,n.seriesIndex=e.seriesIndex;var o=Math.max(w-2*I,0),r=Math.max(_-2*I,0);if(content.culling=!0,content.setShape({x:I,y:I,width:o,height:r,r:R}),M)Y(content);else{content.invisible=!1;var l=c.getVisual("style"),d=l.fill,h=fe(N);h.fill=d,h.decal=l.decal;var f=pe(C),v=pe(k),y=pe(S);F(content,d,l.opacity,null),content.setStyle(h),content.ensureState("emphasis").style=f,content.ensureState("blur").style=v,content.ensureState("select").style=y,Object(G.F)(content)}t.add(content)}function Y(element){!element.invisible&&d.push(element)}function F(t,n,r,l){var d=x.getModel(l?ue:le),h=Object(m.e)(x.get("name"),null),f=d.getShallow("show");Object(ie.f)(t,Object(ie.d)(x,l?ue:le),{defaultText:f?h:null,inheritColor:n,defaultOpacity:r,labelFetcher:e,labelDataIndex:c.dataIndex});var v=t.getTextContent();if(v){var w=v.style,_=Object(o.K)(w.padding||0);l&&(t.setTextConfig({layoutRect:l}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var e=Math.max((l?l.width:t.shape.width)-_[1]-_[3],0),n=Math.max((l?l.height:t.shape.height)-_[0]-_[2],0);w.width===e&&w.height===n||v.setStyle({width:e,height:n})},w.truncateMinChar=2,w.lineOverflow="truncate",Z(w,l,y);var I=v.getState("emphasis");Z(I?I.style:null,l,y)}}function Z(style,t,n){var text=style?style.text:null;if(!t&&n.isLeafRoot&&null!=text){var o=e.get("drillDownIcon",!0);style.text=o?o+" "+text:text}}function U(e,o,r,d){var element=null!=j&&n[e][j],c=l[e];return element?(n[e][j]=null,J(c,element)):M||((element=new o)instanceof oe.c&&(element.z2=function(e,t){return e*de+t}(r,d)),K(c,element)),t[e][O]=element}function J(e,element){var t=e[O]={};element instanceof ae?(t.oldX=element.x,t.oldY=element.y):t.oldShape=Object(o.m)({},element.shape)}function K(e,element){var t=e[O]={},n=c.parentNode,o=element instanceof E.a;if(n&&(!r||"drillDown"===r.direction)){var d=0,h=0,f=l.background[n.getRawIndex()];!r&&f&&f.oldShape&&(d=f.oldShape.width,h=f.oldShape.height),o?(t.oldX=0,t.oldY=h):t.oldShape={x:d,y:h,width:0,height:0}}t.fadein=!o}}(t,c,h,n,d,f,e,r,l,v)}!function e(t,n,r,l,d){l?(n=t,Object(o.k)(t,(function(e,t){!e.isRemoved()&&h(t,t)}))):new P.a(n,t,c,c).add(h).update(h).remove(Object(o.i)(h,null)).execute();function c(e){return e.getId()}function h(o,c){var h=null!=o?t[o]:null,f=null!=c?n[c]:null,y=v(h,f,r,d);y&&e(h&&h.viewChildren||[],f&&f.viewChildren||[],y,l,d+1)}}(r.root?[r.root]:[],l&&l.root?[l.root]:[],e,r===l||!l,0);var y=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Object(o.k)(e,(function(e,n){var r=t[n];Object(o.k)(e,(function(e){e&&(r.push(e),ge(e).willDelete=!0)}))})),t}(h);return this._oldTree=r,this._storage=c,{lastsForAnimation:d,willDeleteEls:y,renderFinally:function(){Object(o.k)(y,(function(e){Object(o.k)(e,(function(e){e.parent&&e.parent.remove(e)}))})),Object(o.k)(f,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,r){var l=n.get("animationDurationUpdate"),d=n.get("animationEasing"),c=(Object(o.w)(l)?0:l)||0,h=(Object(o.w)(d)?null:d)||"cubicOut",f=new ee;Object(o.k)(t.willDeleteEls,(function(e,t){Object(o.k)(e,(function(e,n){if(!e.invisible){var o,l=e.parent,d=ge(l);if(r&&"drillDown"===r.direction)o=l===r.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,y=0;d.willDelete||(v=d.nodeWidth/2,y=d.nodeHeight/2),o="nodeGroup"===t?{x:v,y:y,style:{opacity:0}}:{shape:{x:v,y:y,width:0,height:0},style:{opacity:0}}}o&&f.add(e,o,c,0,h)}}))})),Object(o.k)(this._storage,(function(e,n){Object(o.k)(e,(function(e,r){var l=t.lastsForAnimation[n][r],d={};l&&(e instanceof E.a?null!=l.oldX&&(d.x=e.x,d.y=e.y,e.x=l.oldX,e.y=l.oldY):(l.oldShape&&(d.shape=Object(o.m)({},e.shape),e.setShape(l.oldShape)),l.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),f.add(e,d,c,0,h))}))}),this),this._state="animating",f.finished(Object(o.c)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new K.a(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Object(o.c)(this._onPan,this)),t.on("zoom",Object(o.c)(this._onZoom,this)));var rect=new Q.a(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,n){return rect.contain(t,n)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var rect=new Q.a(r.x,r.y,r.width,r.height),l=this.seriesModel.layoutInfo;t-=l.x,n-=l.y;var d=$.b();$.h(d,d,[-t,-n]),$.g(d,d,[e.scale,e.scale]),$.h(d,d,[t,n]),rect.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var o=t.findTarget(e.offsetX,e.offsetY);if(o){var r=o.node;if(r.getLayout().isLeafRoot)t._rootToNode(o);else if("zoomToNode"===n)t._zoomToNode(o);else if("link"===n){var l=r.hostTree.data.getItemModel(r.dataIndex),link=l.get("link",!0),d=l.get("target",!0)||"blank";link&&Object(re.i)(link,d)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var o=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new J(this.group))).render(e,t,n.node,(function(t){"animating"!==o._state&&(d(e.getViewRoot(),t)?o._rootToNode({node:t}):o._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(o){var r=this._storage.background[o.getRawIndex()];if(r){var l=r.transformCoordToLocal(e,t),d=r.shape;if(!(d.x<=l[0]&&l[0]<=d.x+d.width&&d.y<=l[1]&&l[1]<=d.y+d.height))return!1;n={node:o,offsetX:l[0],offsetY:l[1]}}}),this),n},t.type="treemap",t}(ne.a);var ye=ve,me=n(332),be=n(337),xe=Object(m.n)(),we={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||_e(t,{},e.getViewRoot().getAncestors(),e)}};function _e(e,t,n,r){var l=e.getModel(),d=e.getLayout(),data=e.hostTree.data;if(d&&!d.invisible&&d.isInView){var c,h=l.getModel("itemStyle"),f=function(e,t,n){var r=Object(o.m)({},t),l=n.designatedVisualItemStyle;return Object(o.k)(["color","colorAlpha","colorSaturation"],(function(n){l[n]=t[n];var o=e.get(n);l[n]=null,null!=o&&(r[n]=o)})),r}(h,t,r),v=data.ensureUniqueItemVisual(e.dataIndex,"style"),y=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(y=function(e,t){return null!=t?Object(be.f)(t,null,null,e):null}(m,c=Ie(f))),v.stroke=y;var x=e.viewChildren;if(x&&x.length){var w=function(e,t,n,o,r,l){if(!l||!l.length)return;var d=Oe(t,"color")||null!=r.color&&"none"!==r.color&&(Oe(t,"colorAlpha")||Oe(t,"colorSaturation"));if(!d)return;var c=t.get("visualMin"),h=t.get("visualMax"),f=n.dataExtent.slice();null!=c&&c<f[0]&&(f[0]=c),null!=h&&h>f[1]&&(f[1]=h);var v=t.get("colorMappingBy"),y={type:d.name,dataExtent:f,visual:d.range};"color"!==y.type||"index"!==v&&"id"!==v?y.mappingMethod="linear":(y.mappingMethod="category",y.loop=!0);var m=new me.a(y);return xe(m).drColorMappingBy=v,m}(0,l,d,0,f,x);Object(o.k)(x,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var d=function(e,t,n,r,l,d){var c=Object(o.m)({},t);if(l){var h=l.type,f="color"===h&&xe(l).drColorMappingBy,v="index"===f?r:"id"===f?d.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));c[h]=l.mapValueToVisual(v)}return c}(l,f,e,t,w,r);_e(e,d,n,r)}}))}else c=Ie(f),v.fill=c}}function Ie(e){var t=Me(e,"color");if(t){var n=Me(e,"colorAlpha"),o=Me(e,"colorSaturation");return o&&(t=Object(be.f)(t,null,null,o)),n&&(t=Object(be.e)(t,n)),t}}function Me(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Oe(e,t){var n=e.get(t);return Object(o.t)(n)&&n.length?{name:t,range:n}:null}var je=n(322),Te=Math.max,Ve=Math.min,De=o.M,Ne=o.k,Ce=["itemStyle","borderWidth"],ke=["itemStyle","gapWidth"],Se=["upperLabel","show"],Re=["upperLabel","height"],Le={seriesType:"treemap",reset:function(e,t,n,d){var c=n.getWidth(),h=n.getHeight(),f=e.option,v=F.e(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),y=f.size||[],m=Object(je.n)(De(v.width,y[0]),c),x=Object(je.n)(De(v.height,y[1]),h),w=d&&d.type,_=r(d,["treemapZoomToNode","treemapRootToNode"],e),I="treemapRender"===w||"treemapMove"===w?d.rootRect:null,M=e.getViewRoot(),O=l(M);if("treemapMove"!==w){var j="treemapZoomToNode"===w?function(e,t,n,o,r){var l,d=(t||{}).node,c=[o,r];if(!d||d===n)return c;var h=o*r,area=h*e.option.zoomToNodeRatio;for(;l=d.parentNode;){for(var f=0,v=l.children,i=0,y=v.length;i<y;i++)f+=v[i].getValue();var m=d.getValue();if(0===m)return c;area*=f/m;var x=l.getModel(),w=x.get(Ce);(area+=4*w*w+(3*w+Math.max(w,We(x)))*Math.pow(area,.5))>je.a&&(area=je.a),d=l}area<h&&(area=h);var _=Math.pow(area/h,.5);return[o*_,r*_]}(e,_,M,m,x):I?[I.width,I.height]:[m,x],T=f.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var V={squareRatio:f.squareRatio,sort:T,leafDepth:f.leafDepth};M.hostTree.clearLayouts();var D={x:0,y:0,width:j[0],height:j[1],area:j[0]*j[1]};M.setLayout(D),Ae(M,V,!1,0),D=M.getLayout(),Ne(O,(function(e,t){var n=(O[t+1]||M).getValue();e.setLayout(o.m({dataExtent:[n,n],borderWidth:0,upperHeight:0},D))}))}var N=e.getData().tree.root;N.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!n)return o;var r=n.node,l=r.getLayout();if(!l)return o;var d=[l.width/2,l.height/2],c=r;for(;c;){var h=c.getLayout();d[0]+=h.x,d[1]+=h.y,c=c.parentNode}return{x:e.width/2-d[0],y:e.height/2-d[1]}}(v,I,_),!0),e.setLayoutInfo(v),Ee(N,new Q.a(-v.x,-v.y,c,h),O,M,0)}};function Ae(e,t,n,r){var l,d;if(!e.isRemoved()){var c=e.getLayout();l=c.width,d=c.height;var h=e.getModel(),f=h.get(Ce),v=h.get(ke)/2,y=We(h),m=Math.max(f,y),x=f-v,w=m-v;e.setLayout({borderWidth:f,upperHeight:m,upperLabelHeight:y},!0);var _=(l=Te(l-2*x,0))*(d=Te(d-x-w,0)),I=function(e,t,n,r,l,d){var c=e.children||[],h=r.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=r.leafDepth&&r.leafDepth<=d;if(l&&!f)return e.viewChildren=[];c=o.n(c,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(a,b){var e="asc"===t?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===e?"asc"===t?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:e}))}(c,h);var v=function(e,t,n){for(var o=0,i=0,r=t.length;i<r;i++)o+=t[i].getValue();var l,d=e.get("visualDimension");t&&t.length?"value"===d&&n?(l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&l.reverse()):(l=[1/0,-1/0],Ne(t,(function(e){var t=e.getValue(d);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)}))):l=[NaN,NaN];return{sum:o,dataExtent:l}}(t,c,h);if(0===v.sum)return e.viewChildren=[];if(v.sum=function(e,t,n,o,r){if(!o)return n;for(var l=e.get("visibleMin"),d=r.length,c=d,i=d-1;i>=0;i--){var h=r["asc"===o?d-i-1:i].getValue();h/n*t<l&&(c=i,n-=h)}return"asc"===o?r.splice(0,d-c):r.splice(c,d-c),n}(t,n,v.sum,h,c),0===v.sum)return e.viewChildren=[];for(var i=0,y=c.length;i<y;i++){var area=c[i].getValue()/v.sum*n;c[i].setLayout({area:area})}f&&(c.length&&e.setLayout({isLeafRoot:!0},!0),c.length=0);return e.viewChildren=c,e.setLayout({dataExtent:v.dataExtent},!0),c}(e,h,_,t,n,r);if(I.length){var rect={x:x,y:w,width:l,height:d},M=Ve(l,d),O=1/0,j=[];j.area=0;for(var i=0,T=I.length;i<T;){var V=I[i];j.push(V),j.area+=V.getLayout().area;var D=ze(j,M,t.squareRatio);D<=O?(i++,O=D):(j.area-=j.pop().getLayout().area,He(j,M,rect,v,!1),M=Ve(rect.width,rect.height),j.length=j.area=0,O=1/0)}if(j.length&&He(j,M,rect,v,!0),!n){var N=h.get("childrenVisibleMin");null!=N&&_<N&&(n=!0)}for(i=0,T=I.length;i<T;i++)Ae(I[i],t,n,r+1)}}}function ze(e,t,n){for(var o=0,r=1/0,i=0,area=void 0,l=e.length;i<l;i++)(area=e[i].getLayout().area)&&(area<r&&(r=area),area>o&&(o=area));var d=e.area*e.area,c=t*t*n;return d?Te(c*o/d,d/(c*r)):1/0}function He(e,t,rect,n,o){var r=t===rect.width?0:1,l=1-r,d=["x","y"],c=["width","height"],h=rect[d[r]],f=t?e.area/t:0;(o||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,v=e.length;i<v;i++){var y=e[i],m={},x=f?y.getLayout().area/f:0,w=m[c[l]]=Te(f-2*n,0),_=rect[d[r]]+rect[c[r]]-h,I=i===v-1||_<x?_:x,M=m[c[r]]=Te(I-2*n,0);m[d[l]]=rect[d[l]]+Ve(n,w/2),m[d[r]]=h+Ve(n,M/2),h+=I,y.setLayout(m,!0)}rect[d[l]]+=f,rect[c[l]]-=f}function Ee(e,t,n,o,r){var l=e.getLayout(),d=n[r],c=d&&d===e;if(!(d&&!c||r===n.length&&e!==o)){e.setLayout({isInView:!0,invisible:!c&&!t.intersect(l),isAboveViewRoot:c},!0);var h=new Q.a(t.x-l.x,t.y-l.y,t.width,t.height);Ne(e.viewChildren||[],(function(e){Ee(e,h,n,o,r+1)}))}}function We(e){return e.get(Se)?e.get(Re):0}function Be(e){e.registerSeriesModel(H),e.registerChartView(ye),e.registerVisual(we),e.registerLayout(Le),function(e){for(var i=0;i<f.length;i++)e.registerAction({type:f[i],update:"updateView"},h);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var o=r(e,["treemapZoomToNode","treemapRootToNode"],t);if(o){var l=t.getViewRoot();l&&(e.direction=d(l,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}))}))}(e)}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{430:function(e,t,o){"use strict";var n=o(422),r=o(452),l=o(426),d=(o(445),n.k),c=n.A,h=-1,f=function(){function e(option){var t=option.mappingMethod,o=option.type,r=this.option=n.d(option);this.type=o,this.mappingMethod=t,this._normalizeData=j[t];var l=e.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[t],"piecewise"===t?(v(r),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.k(t,function(t,o){t.originIndex=o,null!=t.visual&&(e.hasSpecialVisual=!0)})}(r)):"category"===t?r.categories?function(e){var t=e.categories,o=e.categoryMap={},r=e.visual;if(d(t,function(e,t){o[e]=t}),!n.t(r)){var l=[];n.A(r)?d(r,function(e,t){var n=o[t];l[null!=n?n:h]=e}):l[-1]=r,r=O(e,l)}for(var i=t.length-1;i>=0;i--)null==r[i]&&(delete o[t[i]],t.pop())}(r):v(r,!0):(n.b("linear"!==t||r.dataExtent),v(r))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return n.c(this._normalizeData,this)},e.listVisualTypes=function(){return n.E(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,o){n.A(e)?n.k(e,t,o):t.call(o,e)},e.mapVisual=function(t,o,r){var l,d=n.t(t)?[]:n.A(t)?{}:(l=!0,null);return e.eachVisual(t,function(e,t){var n=o.call(r,e,t);l?d=n:d[t]=n}),d},e.retrieveVisuals=function(t){var o,n={};return t&&d(e.visualHandlers,function(e,r){t.hasOwnProperty(r)&&(n[r]=t[r],o=!0)}),o?n:null},e.prepareVisualTypes=function(e){if(n.t(e))e=e.slice();else{if(!c(e))return[];var t=[];d(e,function(e,o){t.push(o)}),e=t}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,o){for(var r,l=1/0,i=0,d=t.length;i<d;i++){var c=t[i].value;if(null!=c){if(c===e||n.B(c)&&c===e+"")return i;o&&y(c,i)}}for(i=0,d=t.length;i<d;i++){var h=t[i],f=h.interval,v=h.close;if(f){if(f[0]===-1/0){if(T(v[1],e,f[1]))return i}else if(f[1]===1/0){if(T(v[0],f[0],e))return i}else if(T(v[0],f[0],e)&&T(v[1],e,f[1]))return i;o&&y(f[0],i),o&&y(f[1],i)}}if(o)return e===1/0?t.length-1:e===-1/0?0:r;function y(t,o){var n=Math.abs(t-e);n<l&&(l=n,r=o)}},e.visualHandlers={color:{applyVisual:x("color"),getColorMapper:function(){var e=this.option;return n.c("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),w.call(this,e)}:function(t,o,n){var l=!!n;return!o&&(t=this._normalizeData(t)),n=r.a(t,e.parsedVisual,n),l?n:r.h(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return r.h(r.a(e,this.option.parsedVisual),"rgba")},category:w,piecewise:function(e,t){var o=M.call(this,t);return null==o&&(o=r.h(r.a(e,this.option.parsedVisual),"rgba")),o},fixed:_}},colorHue:y(function(e,t){return r.f(e,t)}),colorSaturation:y(function(e,t){return r.f(e,null,t)}),colorLightness:y(function(e,t){return r.f(e,null,null,t)}),colorAlpha:y(function(e,t){return r.e(e,t)}),decal:{applyVisual:x("decal"),_normalizedToVisual:{linear:null,category:w,piecewise:null,fixed:null}},opacity:{applyVisual:x("opacity"),_normalizedToVisual:I([0,1])},liftZ:{applyVisual:x("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(e,t,o){o("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:m,category:w,piecewise:function(e,t){var o=M.call(this,t);return null==o&&(o=m.call(this,e)),o},fixed:_}},symbolSize:{applyVisual:x("symbolSize"),_normalizedToVisual:I([0,1])}},e}();function v(e,t){var o=e.visual,r=[];n.A(o)?d(o,function(e){r.push(e)}):null!=o&&r.push(o);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),O(e,r)}function y(e){return{applyVisual:function(t,o,n){var r=this.mapValueToVisual(t);n("color",e(o("color"),r))},_normalizedToVisual:I([0,1])}}function m(e){var t=this.option.visual;return t[Math.round(Object(l.j)(e,[0,1],[0,t.length-1],!0))]||{}}function x(e){return function(t,o,n){n(e,this.mapValueToVisual(t))}}function w(e){var t=this.option.visual;return t[this.option.loop&&e!==h?e%t.length:e]}function _(){return this.option.visual[0]}function I(e){return{linear:function(t){return Object(l.j)(t,e,this.option.visual,!0)},category:w,piecewise:function(t,o){var n=M.call(this,o);return null==n&&(n=Object(l.j)(t,e,this.option.visual,!0)),n},fixed:_}}function M(e){var t=this.option,o=t.pieceList;if(t.hasSpecialVisual){var n=o[f.findPieceIndex(e,o)];if(n&&n.visual)return n.visual[this.type]}}function O(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.G(t,function(e){var t=r.g(e);return t||[0,0,0,1]})),t}var j={linear:function(e){return Object(l.j)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,o=f.findPieceIndex(e,t,!0);if(null!=o)return Object(l.j)(o,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?h:t},fixed:n.J};function T(e,a,b){return e?a<=b:a<b}t.a=f},431:function(e,t,o){"use strict";var n=o(5),r=o(8),l=o(55),d=o(50),c=o(76),h=o(274),f=o(24),v=o(9),y=o(275),m=o(190),x=o(440),w=o(441),_=o(120),I=o(442),M=[],O=r(M.sort),j=r(M.push),T=v(function(){M.sort(void 0)}),V=v(function(){M.sort(null)}),D=m("sort"),S=!v(function(){if(_)return _<70;if(!(x&&x>3)){if(w)return!0;if(I)return I<603;var code,e,t,o,n="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(o=0;o<47;o++)M.push({k:e+o,v:t})}for(M.sort(function(a,b){return b.v-a.v}),o=0;o<M.length;o++)e=M[o].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}});n({target:"Array",proto:!0,forced:T||!V||!D||!S},{sort:function(e){void 0!==e&&l(e);var t=d(this);if(S)return void 0===e?O(t):O(t,e);var o,n,r=[],v=c(t);for(n=0;n<v;n++)n in t&&j(r,t[n]);for(y(r,function(e){return function(t,o){return void 0===o?-1:void 0===t?1:void 0!==e?+e(t,o)||0:f(t)>f(o)?1:-1}}(e)),o=c(r),n=0;n<o;)t[n]=r[n++];for(;n<v;)h(t,n++);return t}})},440:function(e,t,o){"use strict";var n=o(85).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},441:function(e,t,o){"use strict";var n=o(85);e.exports=/MSIE|Trident/.test(n)},442:function(e,t,o){"use strict";var n=o(85).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},489:function(e,t,o){"use strict";function n(e){throw new TypeError('"'+e+'" is read-only')}o.d(t,"a",function(){return n})},496:function(e,t,o){"use strict";var n=o(423),r=o(484),l=o(449),d=o(532),c=o(422),h="\0_ec_interaction_mutex";function f(e,t){return!!v(e)[t]}function v(e){return e[h]||(e[h]={})}d.c({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},c.J);var y=function(e){function t(t){var o=e.call(this)||this;o._zr=t;var n=Object(c.c)(o._mousedownHandler,o),r=Object(c.c)(o._mousemoveHandler,o),l=Object(c.c)(o._mouseupHandler,o),d=Object(c.c)(o._mousewheelHandler,o),h=Object(c.c)(o._pinchHandler,o);return o.enable=function(e,o){this.disable(),this._opt=Object(c.i)(Object(c.d)(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",r),t.on("mouseup",l)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",d),t.on("pinch",h))},o.disable=function(){t.off("mousedown",n),t.off("mousemove",r),t.off("mouseup",l),t.off("mousewheel",d),t.off("pinch",h)},o}return Object(n.a)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!l.d(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var o=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,o,n)&&(this._x=o,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&w("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!f(this._zr,"globalPan")){var t=e.offsetX,o=e.offsetY,n=this._x,r=this._y,d=t-n,c=o-r;this._x=t,this._y=o,this._opt.preventDefaultMouseMove&&l.g(e.event),x(this,"pan","moveOnMouseMove",e,{dx:d,dy:c,oldX:n,oldY:r,newX:t,newY:o,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){l.d(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=w("zoomOnMouseWheel",e,this._opt),o=w("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,r=Math.abs(n),l=e.offsetX,d=e.offsetY;if(0!==n&&(t||o)){if(t){var c=r>3?1.4:r>1?1.2:1.1;m(this,"zoom","zoomOnMouseWheel",e,{scale:n>0?c:1/c,originX:l,originY:d,isAvailableBehavior:null})}if(o){var h=Math.abs(n);m(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(n>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:l,originY:d,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){f(this._zr,"globalPan")||m(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(r.a);function m(e,t,o,n,r){e.pointerChecker&&e.pointerChecker(n,r.originX,r.originY)&&(l.g(n.event),x(e,t,o,n,r))}function x(e,t,o,n,r){r.isAvailableBehavior=Object(c.c)(w,null,o,n),e.trigger(t,r)}function w(e,t,o){var n=o[e];return!e||n&&(!Object(c.B)(n)||t.event[n+"Key"])}t.a=y},964:function(e,t,o){"use strict";o.d(t,"a",function(){return We});var n=o(422);function r(e,t,o){if(e&&n.r(t,e.type)>=0){var r=o.getData().tree.root,l=e.targetNode;if(n.B(l)&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var d=e.targetNodeId;if(null!=d&&(l=r.getNodeById(d)))return{node:l}}}function l(e){for(var path=[];e;)(e=e.parentNode)&&path.push(e);return path.reverse()}function d(e,t){var o=l(e);return n.r(o,t)>=0}function c(e,t){for(var o=[];e;){var n=e.dataIndex;o.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return o.reverse(),o}var h=["treemapZoomToNode","treemapRender","treemapMove"];var f=o(423),v=o(468),y=o(425),m=Object(y.n)();function x(e,t){if(m(data=this).mainData===data){var o=Object(n.m)({},m(this).datas);o[this.dataType]=t,O(t,o,e)}else j(t,this.dataType,m(this).mainData,e);var data;return t}function w(e,t){return e.struct&&e.struct.update(),t}function _(e,t){return Object(n.k)(m(t).datas,function(data,o){data!==t&&j(data.cloneShallow(),o,t,e)}),t}function I(e){var t=m(this).mainData;return null==e||null==t?t:m(t).datas[e]}function M(){var e=m(this).mainData;return null==e?[{data:e}]:Object(n.G)(Object(n.E)(m(e).datas),function(t){return{type:t,data:m(e).datas[t]}})}function O(e,t,o){m(e).datas={},Object(n.k)(t,function(data,t){j(data,t,e,o)})}function j(data,e,t,o){m(t).datas[e]=data,m(data).mainData=t,data.dataType=e,o.struct&&(data[o.structAttr]=o.struct,o.struct[o.datasAttr[e]]=data),data.getLinkedData=I,data.getLinkedDataAll=M}var T=function(e){var t=e.mainData,o=e.datas;o||(o={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,O(t,o,e),Object(n.k)(o,function(data){Object(n.k)(t.TRANSFERABLE_METHODS,function(t){data.wrapMethod(t,Object(n.h)(x,e))})}),t.wrapMethod("cloneShallow",Object(n.h)(_,e)),Object(n.k)(t.CHANGABLE_METHODS,function(o){t.wrapMethod(o,Object(n.h)(w,e))}),Object(n.b)(o[t.dataType]===t)},V=o(443),D=o(482),S=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,o){n.w(e)&&(o=t,t=e,e=null),e=e||{},n.B(e)&&(e={order:e});var r,l=e.order||"preorder",d=this[e.attr||"children"];"preorder"===l&&(r=t.call(o,this));for(var i=0;!r&&i<d.length;i++)d[i].eachNode(e,t,o);"postorder"===l&&t.call(o,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var o=this.children[i];o.updateDepthAndHeight(e+1),o.height>t&&(t=o.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var i=0,t=this.children,o=t.length;i<o;i++){var n=t[i].getNodeById(e);if(n)return n}},e.prototype.contains=function(e){if(e===this)return!0;for(var i=0,t=this.children,o=t.length;i<o;i++){var n=t[i].contains(e);if(n)return n}},e.prototype.getAncestors=function(e){for(var t=[],o=e?this:this.parentNode;o;)t.push(o),o=o.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},e.prototype.getValue=function(e){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,i=0;i<e.length;++i)if(e[i]===this)return i;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}();var N=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,o){this.root.eachNode(e,t,o)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var data=this.data,e=this._nodes,i=0,t=e.length;i<t;i++)e[i].dataIndex=-1;for(i=0,t=data.count();i<t;i++)e[data.getRawIndex(i)].dataIndex=i},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,o,r){var l=new e(o),d=[],c=1;!function e(t,o){var r=t.value;c=Math.max(c,n.t(r)?r.length:1),d.push(t);var h=new S(Object(y.e)(t.name,""),l);o?function(e,t){var o=t.children;if(e.parentNode===t)return;o.push(e),e.parentNode=t}(h,o):l.root=h,l._nodes.push(h);var f=t.children;if(f)for(var i=0;i<f.length;i++)e(f[i],h)}(t),l.root.updateDepthAndHeight(0);var h=Object(D.a)(d,{coordDimensions:["value"],dimensionsCount:c}).dimensions,f=new V.a(h,o);return f.initData(d),r&&r(f),T({mainData:f,struct:l,structAttr:"tree"}),l.update(),l},e}(),C=o(490),L=o(480),k=o(650);var R=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return Object(f.a)(t,e),t.prototype.getInitialData=function(option,e){var t={name:option.name,children:option.data};A(t);var o=option.levels||[],r=this.designatedVisualItemStyle={},l=new C.a({itemStyle:r},this,e);o=option.levels=function(e,t){var o,r,l=Object(y.p)(t.get("color")),d=Object(y.p)(t.get(["aria","decal","decals"]));if(!l)return;e=e||[],n.k(e,function(e){var t=new C.a(e),n=t.get("color"),l=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(t.get(["itemStyle","decal"])||l&&"none"!==l)&&(r=!0)});var c=e[0]||(e[0]={});o||(c.color=l.slice());!r&&d&&(c.decal=d.slice());return e}(o,e);var d=n.G(o||[],function(t){return new C.a(t,l,e)},this),c=N.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var o=c.getNodeByDataIndex(t),n=o?d[o.depth]:null;return e.parentModel=n||l,e})});return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var data=this.getData(),n=this.getRawValue(e),r=data.getName(e);return Object(L.c)("nameValue",{name:r,value:n})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=c(n,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},n.m(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=n.f(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){var e,t,o;t=(e=this).getData().tree,o={},t.eachNode(function(t){for(var n=t;n&&n.depth>1;)n=n.parentNode;var r=Object(k.b)(e.ecModel,n.name||n.dataIndex+"",o);t.setVisual("decal",r)})},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(v.a);function A(e){var t=0;n.k(e.children,function(e){A(e);var o=e.value;n.t(o)&&(o=o[0]),t+=o});var o=e.value;n.t(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),n.t(e.value)?e.value[0]=o:e.value=o}var z=R,H=o(584),E=o(714),W=o(432),B=o(428),G=o(742),P=o(727),X=o(541),Y=o(434),Z=o(427);function F(e,t,o,n,head,r){var l=[[head?e:e-5,t],[e+o,t],[e+o,t+n],[head?e:e-5,t+n]];return!r&&l.splice(2,0,[e+o+5,t+n/2]),!head&&l.push([e,t+n/2]),l}function J(e,t,o){Object(W.a)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&c(o,t)}}var U=function(){function e(e){this.group=new H.a,e.add(this.group)}return e.prototype.render=function(e,t,o,n){var r=e.getModel("breadcrumb"),l=this.group;if(l.removeAll(),r.get("show")&&o){var d=r.getModel("itemStyle"),c=r.getModel("emphasis"),h=d.getModel("textStyle"),f=c.getModel(["itemStyle","textStyle"]),v={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,v,h),this._renderContent(e,v,d,c,h,f,n),Y.g(l,v.pos,v.box)}},e.prototype._prepare=function(e,t,o){for(var n=e;n;n=n.parentNode){var text=Object(y.e)(n.getModel().get("name"),""),r=o.getTextRect(text),l=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:n,text:text,width:l})}},e.prototype._renderContent=function(e,t,o,r,l,d,c){for(var h=0,f=t.emptyItemWidth,v=e.get(["breadcrumb","height"]),y=Y.c(t.pos,t.box),m=t.totalWidth,x=t.renderList,w=r.getModel("itemStyle").getItemStyle(),i=x.length-1;i>=0;i--){var _=x[i],I=_.node,M=_.width,text=_.text;m>y.width&&(m-=M-f,M=f,text=null);var O=new P.a({shape:{points:F(h,0,M,v,i===x.length-1,0===i)},style:Object(n.i)(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new X.a({style:Object(Z.b)(l,{text:text})}),textConfig:{position:"inside"},z2:1e4*B.j,onclick:Object(n.h)(c,I)});O.disableLabelAnimation=!0,O.getTextContent().ensureState("emphasis").style=Object(Z.b)(d,{text:text}),O.ensureState("emphasis").style=w,Object(B.I)(O,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(O),J(O,e,I),h+=M+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),K=o(496),Q=o(492),$=o(561),ee=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,o,n,r){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:o,delay:n,easing:r}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,o=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:o,aborted:o})}return this},e}();var te=o(585),oe=o(466),ne=o(563),re=o(458),ie=H.a,ae=E.a,se="label",le="upperLabel",ue=10*B.j,de=2*B.j,ce=3*B.j,he=Object(te.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pe=function(e){var t=he(e);return t.stroke=t.fill=t.lineWidth=null,t},fe=Object(y.n)(),ge=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state="ready",o._storage={nodeGroup:[],background:[],content:[]},o}return Object(f.a)(t,e),t.prototype.render=function(e,t,o,l){var d=t.findComponents({mainType:"series",subType:"treemap",query:l});if(!(Object(n.r)(d,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var c=r(l,["treemapZoomToNode","treemapRootToNode"],e),h=l&&l.type,f=e.layoutInfo,v=!this._oldTree,y=this._storage,m="treemapRootToNode"===h&&c&&y?{rootNodeGroup:y.nodeGroup[c.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(f),w=e.get("animation"),_=this._doRender(x,e,m);!w||v||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?_.renderFinally():this._doAnimation(x,_,e,m),this._resetController(o),this._renderBreadcrumb(e,o,c)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ie,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var r=t.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},c={nodeGroup:[],background:[],content:[]},h=this._storage,f=[];function v(e,r,l,v){return function(e,t,o,r,l,d,c,h,f,v){if(!c)return;var m=c.getLayout(),data=e.getData(),x=c.getModel();if(data.setItemGraphicEl(c.dataIndex,null),!m||!m.isInView)return;var w=m.width,_=m.height,I=m.borderWidth,M=m.invisible,O=c.getRawIndex(),j=h&&h.getRawIndex(),T=c.viewChildren,V=m.upperHeight,D=T&&T.length,S=x.getModel("itemStyle"),N=x.getModel(["emphasis","itemStyle"]),C=x.getModel(["blur","itemStyle"]),L=x.getModel(["select","itemStyle"]),k=S.get("borderRadius")||0,R=$("nodeGroup",ie);if(!R)return;if(f.add(R),R.x=m.x||0,R.y=m.y||0,R.markRedraw(),fe(R).nodeWidth=w,fe(R).nodeHeight=_,m.isAboveViewRoot)return R;var A=$("background",ae,v,de);A&&F(R,A,D&&m.upperLabelHeight);var z=x.getModel("emphasis"),E=z.get("focus"),G=z.get("blurScope"),P=z.get("disabled"),X="ancestor"===E?c.getAncestorsIndices():"descendant"===E?c.getDescendantIndices():E;if(D)Object(B.x)(R)&&Object(B.E)(R,!1),A&&(Object(B.E)(A,!P),data.setItemGraphicEl(c.dataIndex,A),Object(B.o)(A,X,G));else{var content=$("content",ae,v,ce);content&&J(R,content),A.disableMorphing=!0,A&&Object(B.x)(A)&&Object(B.E)(A,!1),Object(B.E)(R,!P),data.setItemGraphicEl(c.dataIndex,R);var Y=x.getShallow("cursor");Y&&content.attr("cursor",Y),Object(B.o)(R,X,G)}return R;function F(t,o,n){var r=Object(W.a)(o);if(r.dataIndex=c.dataIndex,r.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:w,height:_,r:k}),M)U(o);else{o.invisible=!1;var style=c.getVisual("style"),l=style.stroke,d=pe(S);d.fill=l;var h=he(N);h.fill=N.get("borderColor");var f=he(C);f.fill=C.get("borderColor");var v=he(L);if(v.fill=L.get("borderColor"),n){var y=w-2*I;K(o,l,style.opacity,{x:I,y:0,width:y,height:V})}else o.removeTextContent();o.setStyle(d),o.ensureState("emphasis").style=h,o.ensureState("blur").style=f,o.ensureState("select").style=v,Object(B.F)(o)}t.add(o)}function J(t,content){var o=Object(W.a)(content);o.dataIndex=c.dataIndex,o.seriesIndex=e.seriesIndex;var n=Math.max(w-2*I,0),r=Math.max(_-2*I,0);if(content.culling=!0,content.setShape({x:I,y:I,width:n,height:r,r:k}),M)U(content);else{content.invisible=!1;var l=c.getVisual("style"),d=l.fill,h=pe(S);h.fill=d,h.decal=l.decal;var f=he(N),v=he(C),y=he(L);K(content,d,l.opacity,null),content.setStyle(h),content.ensureState("emphasis").style=f,content.ensureState("blur").style=v,content.ensureState("select").style=y,Object(B.F)(content)}t.add(content)}function U(element){!element.invisible&&d.push(element)}function K(t,o,r,l){var d=x.getModel(l?le:se),h=Object(y.e)(x.get("name"),null),f=d.getShallow("show");Object(Z.f)(t,Object(Z.d)(x,l?le:se),{defaultText:f?h:null,inheritColor:o,defaultOpacity:r,labelFetcher:e,labelDataIndex:c.dataIndex});var v=t.getTextContent();if(v){var w=v.style,_=Object(n.K)(w.padding||0);l&&(t.setTextConfig({layoutRect:l}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var e=Math.max((l?l.width:t.shape.width)-_[1]-_[3],0),o=Math.max((l?l.height:t.shape.height)-_[0]-_[2],0);w.width===e&&w.height===o||v.setStyle({width:e,height:o})},w.truncateMinChar=2,w.lineOverflow="truncate",Q(w,l,m);var I=v.getState("emphasis");Q(I?I.style:null,l,m)}}function Q(style,t,o){var text=style?style.text:null;if(!t&&o.isLeafRoot&&null!=text){var n=e.get("drillDownIcon",!0);style.text=n?n+" "+text:text}}function $(e,n,r,d){var element=null!=j&&o[e][j],c=l[e];return element?(o[e][j]=null,ee(c,element)):M||((element=new n)instanceof ne.c&&(element.z2=function(e,t){return e*ue+t}(r,d)),te(c,element)),t[e][O]=element}function ee(e,element){var t=e[O]={};element instanceof ie?(t.oldX=element.x,t.oldY=element.y):t.oldShape=Object(n.m)({},element.shape)}function te(e,element){var t=e[O]={},o=c.parentNode,n=element instanceof H.a;if(o&&(!r||"drillDown"===r.direction)){var d=0,h=0,f=l.background[o.getRawIndex()];!r&&f&&f.oldShape&&(d=f.oldShape.width,h=f.oldShape.height),n?(t.oldX=0,t.oldY=h):t.oldShape={x:d,y:h,width:0,height:0}}t.fadein=!n}}(t,c,h,o,d,f,e,r,l,v)}!function e(t,o,r,l,d){l?(o=t,Object(n.k)(t,function(e,t){!e.isRemoved()&&h(t,t)})):new G.a(o,t,c,c).add(h).update(h).remove(Object(n.h)(h,null)).execute();function c(e){return e.getId()}function h(n,c){var h=null!=n?t[n]:null,f=null!=c?o[c]:null,y=v(h,f,r,d);y&&e(h&&h.viewChildren||[],f&&f.viewChildren||[],y,l,d+1)}}(r.root?[r.root]:[],l&&l.root?[l.root]:[],e,r===l||!l,0);var m=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Object(n.k)(e,function(e,o){var r=t[o];Object(n.k)(e,function(e){e&&(r.push(e),fe(e).willDelete=!0)})}),t}(h);if(this._oldTree=r,this._storage=c,this._controllerHost){var x=this.seriesModel.layoutInfo,w=r.root.getLayout();w.width===x.width&&w.height===x.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:m,renderFinally:function(){Object(n.k)(m,function(e){Object(n.k)(e,function(e){e.parent&&e.parent.remove(e)})}),Object(n.k)(f,function(e){e.invisible=!0,e.dirty()})}}},t.prototype._doAnimation=function(e,t,o,r){var l=o.get("animationDurationUpdate"),d=o.get("animationEasing"),c=(Object(n.w)(l)?0:l)||0,h=(Object(n.w)(d)?null:d)||"cubicOut",f=new ee;Object(n.k)(t.willDeleteEls,function(e,t){Object(n.k)(e,function(e,o){if(!e.invisible){var n,l=e.parent,d=fe(l);if(r&&"drillDown"===r.direction)n=l===r.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,y=0;d.willDelete||(v=d.nodeWidth/2,y=d.nodeHeight/2),n="nodeGroup"===t?{x:v,y:y,style:{opacity:0}}:{shape:{x:v,y:y,width:0,height:0},style:{opacity:0}}}n&&f.add(e,n,c,0,h)}})}),Object(n.k)(this._storage,function(e,o){Object(n.k)(e,function(e,r){var l=t.lastsForAnimation[o][r],d={};l&&(e instanceof H.a?null!=l.oldX&&(d.x=e.x,d.y=e.y,e.x=l.oldX,e.y=l.oldY):(l.oldShape&&(d.shape=Object(n.m)({},e.shape),e.setShape(l.oldShape)),l.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),f.add(e,d,c,0,h))})},this),this._state="animating",f.finished(Object(n.c)(function(){this._state="ready",t.renderFinally()},this)).start()},t.prototype._resetController=function(e){var t=this._controller,o=this._controllerHost;o||(this._controllerHost={target:this.group},o=this._controllerHost),t||((t=this._controller=new K.a(e.getZr())).enable(this.seriesModel.get("roam")),o.zoomLimit=this.seriesModel.get("scaleLimit"),o.zoom=this.seriesModel.get("zoom"),t.on("pan",Object(n.c)(this._onPan,this)),t.on("zoom",Object(n.c)(this._onZoom,this)));var rect=new Q.a(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,o){return rect.contain(t,o)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY,n=e.scale;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var l=r.getLayout();if(!l)return;var d,rect=new Q.a(l.x,l.y,l.width,l.height),c=this._controllerHost;d=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=n,d){var f=d.min||0,v=d.max||1/0;h=Math.max(Math.min(v,h),f)}var y=h/c.zoom;c.zoom=h;var m=this.seriesModel.layoutInfo;t-=m.x,o-=m.y;var x=$.b();$.h(x,x,[-t,-o]),$.g(x,x,[y,y]),$.h(x,x,[t,o]),rect.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",function(e){if("ready"===t._state){var o=t.seriesModel.get("nodeClick",!0);if(o){var n=t.findTarget(e.offsetX,e.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)t._rootToNode(n);else if("zoomToNode"===o)t._zoomToNode(n);else if("link"===o){var l=r.hostTree.data.getItemModel(r.dataIndex),link=l.get("link",!0),d=l.get("target",!0)||"blank";link&&Object(re.h)(link,d)}}}}},this)},t.prototype._renderBreadcrumb=function(e,t,o){var n=this;o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(o={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new U(this.group))).render(e,t,o.node,function(t){"animating"!==n._state&&(d(e.getViewRoot(),t)?n._rootToNode({node:t}):n._zoomToNode({node:t}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var r=this._storage.background[n.getRawIndex()];if(r){var l=r.transformCoordToLocal(e,t),d=r.shape;if(!(d.x<=l[0]&&l[0]<=d.x+d.width&&d.y<=l[1]&&l[1]<=d.y+d.height))return!1;o={node:n,offsetX:l[0],offsetY:l[1]}}},this),o},t.type="treemap",t}(oe.a);var ve=ge,ye=o(430),me=o(452),be=Object(y.n)(),xe={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||we(t,{},e.getViewRoot().getAncestors(),e)}};function we(e,t,o,r){var l=e.getModel(),d=e.getLayout(),data=e.hostTree.data;if(d&&!d.invisible&&d.isInView){var c,h=l.getModel("itemStyle"),f=function(e,t,o){var r=Object(n.m)({},t),l=o.designatedVisualItemStyle;return Object(n.k)(["color","colorAlpha","colorSaturation"],function(o){l[o]=t[o];var n=e.get(o);l[o]=null,null!=n&&(r[o]=n)}),r}(h,t,r),v=data.ensureUniqueItemVisual(e.dataIndex,"style"),y=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(y=function(e,t){return null!=t?Object(me.f)(t,null,null,e):null}(m,c=_e(f))),v.stroke=y;var x=e.viewChildren;if(x&&x.length){var w=function(e,t,o,n,r,l){if(!l||!l.length)return;var d=Me(t,"color")||null!=r.color&&"none"!==r.color&&(Me(t,"colorAlpha")||Me(t,"colorSaturation"));if(!d)return;var c=t.get("visualMin"),h=t.get("visualMax"),f=o.dataExtent.slice();null!=c&&c<f[0]&&(f[0]=c),null!=h&&h>f[1]&&(f[1]=h);var v=t.get("colorMappingBy"),y={type:d.name,dataExtent:f,visual:d.range};"color"!==y.type||"index"!==v&&"id"!==v?y.mappingMethod="linear":(y.mappingMethod="category",y.loop=!0);var m=new ye.a(y);return be(m).drColorMappingBy=v,m}(0,l,d,0,f,x);Object(n.k)(x,function(e,t){if(e.depth>=o.length||e===o[e.depth]){var d=function(e,t,o,r,l,d){var c=Object(n.m)({},t);if(l){var h=l.type,f="color"===h&&be(l).drColorMappingBy,v="index"===f?r:"id"===f?d.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));c[h]=l.mapValueToVisual(v)}return c}(l,f,e,t,w,r);we(e,d,o,r)}})}else c=_e(f),v.fill=c}}function _e(e){var t=Ie(e,"color");if(t){var o=Ie(e,"colorAlpha"),n=Ie(e,"colorSaturation");return n&&(t=Object(me.f)(t,null,null,n)),o&&(t=Object(me.e)(t,o)),t}}function Ie(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function Me(e,t){var o=e.get(t);return Object(n.t)(o)&&o.length?{name:t,range:o}:null}var Oe=o(426),je=Math.max,Te=Math.min,Ve=n.M,De=n.k,Se=["itemStyle","borderWidth"],Ne=["itemStyle","gapWidth"],Ce=["upperLabel","show"],Le=["upperLabel","height"],ke={seriesType:"treemap",reset:function(e,t,o,d){var c=o.getWidth(),h=o.getHeight(),f=e.option,v=Y.e(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),y=f.size||[],m=Object(Oe.n)(Ve(v.width,y[0]),c),x=Object(Oe.n)(Ve(v.height,y[1]),h),w=d&&d.type,_=r(d,["treemapZoomToNode","treemapRootToNode"],e),I="treemapRender"===w||"treemapMove"===w?d.rootRect:null,M=e.getViewRoot(),O=l(M);if("treemapMove"!==w){var j="treemapZoomToNode"===w?function(e,t,o,n,r){var l,d=(t||{}).node,c=[n,r];if(!d||d===o)return c;var h=n*r,area=h*e.option.zoomToNodeRatio;for(;l=d.parentNode;){for(var f=0,v=l.children,i=0,y=v.length;i<y;i++)f+=v[i].getValue();var m=d.getValue();if(0===m)return c;area*=f/m;var x=l.getModel(),w=x.get(Se);(area+=4*w*w+(3*w+Math.max(w,Ee(x)))*Math.pow(area,.5))>Oe.a&&(area=Oe.a),d=l}area<h&&(area=h);var _=Math.pow(area/h,.5);return[n*_,r*_]}(e,_,M,m,x):I?[I.width,I.height]:[m,x],T=f.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var V={squareRatio:f.squareRatio,sort:T,leafDepth:f.leafDepth};M.hostTree.clearLayouts();var D={x:0,y:0,width:j[0],height:j[1],area:j[0]*j[1]};M.setLayout(D),Re(M,V,!1,0),D=M.getLayout(),De(O,function(e,t){var o=(O[t+1]||M).getValue();e.setLayout(n.m({dataExtent:[o,o],borderWidth:0,upperHeight:0},D))})}var S=e.getData().tree.root;S.setLayout(function(e,t,o){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!o)return n;var r=o.node,l=r.getLayout();if(!l)return n;var d=[l.width/2,l.height/2],c=r;for(;c;){var h=c.getLayout();d[0]+=h.x,d[1]+=h.y,c=c.parentNode}return{x:e.width/2-d[0],y:e.height/2-d[1]}}(v,I,_),!0),e.setLayoutInfo(v),He(S,new Q.a(-v.x,-v.y,c,h),O,M,0)}};function Re(e,t,o,r){var l,d;if(!e.isRemoved()){var c=e.getLayout();l=c.width,d=c.height;var h=e.getModel(),f=h.get(Se),v=h.get(Ne)/2,y=Ee(h),m=Math.max(f,y),x=f-v,w=m-v;e.setLayout({borderWidth:f,upperHeight:m,upperLabelHeight:y},!0);var _=(l=je(l-2*x,0))*(d=je(d-x-w,0)),I=function(e,t,o,r,l,d){var c=e.children||[],h=r.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=r.leafDepth&&r.leafDepth<=d;if(l&&!f)return e.viewChildren=[];c=n.n(c,function(e){return!e.isRemoved()}),function(e,t){t&&e.sort(function(a,b){var e="asc"===t?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===e?"asc"===t?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:e})}(c,h);var v=function(e,t,o){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].getValue();var l,d=e.get("visualDimension");t&&t.length?"value"===d&&o?(l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&l.reverse()):(l=[1/0,-1/0],De(t,function(e){var t=e.getValue(d);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)})):l=[NaN,NaN];return{sum:n,dataExtent:l}}(t,c,h);if(0===v.sum)return e.viewChildren=[];if(v.sum=function(e,t,o,n,r){if(!n)return o;for(var l=e.get("visibleMin"),d=r.length,c=d,i=d-1;i>=0;i--){var h=r["asc"===n?d-i-1:i].getValue();h/o*t<l&&(c=i,o-=h)}return"asc"===n?r.splice(0,d-c):r.splice(c,d-c),o}(t,o,v.sum,h,c),0===v.sum)return e.viewChildren=[];for(var i=0,y=c.length;i<y;i++){var area=c[i].getValue()/v.sum*o;c[i].setLayout({area:area})}f&&(c.length&&e.setLayout({isLeafRoot:!0},!0),c.length=0);return e.viewChildren=c,e.setLayout({dataExtent:v.dataExtent},!0),c}(e,h,_,t,o,r);if(I.length){var rect={x:x,y:w,width:l,height:d},M=Te(l,d),O=1/0,j=[];j.area=0;for(var i=0,T=I.length;i<T;){var V=I[i];j.push(V),j.area+=V.getLayout().area;var D=Ae(j,M,t.squareRatio);D<=O?(i++,O=D):(j.area-=j.pop().getLayout().area,ze(j,M,rect,v,!1),M=Te(rect.width,rect.height),j.length=j.area=0,O=1/0)}if(j.length&&ze(j,M,rect,v,!0),!o){var S=h.get("childrenVisibleMin");null!=S&&_<S&&(o=!0)}for(i=0,T=I.length;i<T;i++)Re(I[i],t,o,r+1)}}}function Ae(e,t,o){for(var n=0,r=1/0,i=0,area=void 0,l=e.length;i<l;i++)(area=e[i].getLayout().area)&&(area<r&&(r=area),area>n&&(n=area));var d=e.area*e.area,c=t*t*o;return d?je(c*n/d,d/(c*r)):1/0}function ze(e,t,rect,o,n){var r=t===rect.width?0:1,l=1-r,d=["x","y"],c=["width","height"],h=rect[d[r]],f=t?e.area/t:0;(n||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,v=e.length;i<v;i++){var y=e[i],m={},x=f?y.getLayout().area/f:0,w=m[c[l]]=je(f-2*o,0),_=rect[d[r]]+rect[c[r]]-h,I=i===v-1||_<x?_:x,M=m[c[r]]=je(I-2*o,0);m[d[l]]=rect[d[l]]+Te(o,w/2),m[d[r]]=h+Te(o,M/2),h+=I,y.setLayout(m,!0)}rect[d[l]]+=f,rect[c[l]]-=f}function He(e,t,o,n,r){var l=e.getLayout(),d=o[r],c=d&&d===e;if(!(d&&!c||r===o.length&&e!==n)){e.setLayout({isInView:!0,invisible:!c&&!t.intersect(l),isAboveViewRoot:c},!0);var h=new Q.a(t.x-l.x,t.y-l.y,t.width,t.height);De(e.viewChildren||[],function(e){He(e,h,o,n,r+1)})}}function Ee(e){return e.get(Ce)?e.get(Le):0}function We(e){e.registerSeriesModel(z),e.registerChartView(ve),e.registerVisual(xe),e.registerLayout(ke),function(e){for(var i=0;i<h.length;i++)e.registerAction({type:h[i],update:"updateView"},n.J);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,o){var n=r(e,["treemapZoomToNode","treemapRootToNode"],t);if(n){var l=t.getViewRoot();l&&(e.direction=d(l,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}})})}(e)}}}]);
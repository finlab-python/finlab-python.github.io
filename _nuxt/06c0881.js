(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{443:function(e,t,n){"use strict";var r=n(4),o=n(461),l=n(149);r({target:"Array",proto:!0},{fill:o}),l("fill")},451:function(e,t,n){"use strict";var r=n(424),o=n(431),l=n(457),c=n(573),h=n(432),d=n(430),m=n(452),f=n(423),y=n(428),v=n(438),x=function(e){function t(data,t,n,r){var o=e.call(this)||this;return o.updateData(data,t,n,r),o}return Object(r.a)(t,e),t.prototype._createSymbol=function(e,data,t,n,r){this.removeAll();var l=Object(o.a)(e,-1,-1,2,2,null,r);l.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=S,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Object(d.r)(this.childAt(0))},t.prototype.downplay=function(){Object(d.C)(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},t.prototype.updateData=function(data,e,n,r){this.silent=!1;var o=data.getItemVisual(e,"symbol")||"circle",c=data.hostModel,h=t.getSymbolSize(data,e),d=o!==this._symbolType,m=r&&r.disableAnimation;if(d){var f=data.getItemVisual(e,"symbolKeepAspect");this._createSymbol(o,data,e,h,f)}else{(v=this.childAt(0)).silent=!1;var y={scaleX:h[0]/2,scaleY:h[1]/2};m?v.attr(y):l.g(v,y,c,e),Object(l.f)(v)}if(this._updateCommon(data,e,h,n,r),d){var v=this.childAt(0);if(!m){y={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,l.b(v,y,c,e)}}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(data,e,t,n,r){var l,c,h,x,S,O,_,I,w,D=this.childAt(0),A=data.hostModel;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,x=n.focus,S=n.blurScope,_=n.labelStatesModels,I=n.hoverScale,w=n.cursorStyle,O=n.emphasisDisabled),!n||data.hasItemOption){var M=n&&n.itemModel?n.itemModel:data.getItemModel(e),j=M.getModel("emphasis");l=j.getModel("itemStyle").getItemStyle(),h=M.getModel(["select","itemStyle"]).getItemStyle(),c=M.getModel(["blur","itemStyle"]).getItemStyle(),x=j.get("focus"),S=j.get("blurScope"),O=j.get("disabled"),_=Object(y.d)(M),I=j.getShallow("scale"),w=M.getShallow("cursor")}var k=data.getItemVisual(e,"symbolRotate");D.attr("rotation",(k||0)*Math.PI/180||0);var C=Object(o.b)(data.getItemVisual(e,"symbolOffset"),t);C&&(D.x=C[0],D.y=C[1]),w&&D.attr("cursor",w);var N=data.getItemVisual(e,"style"),L=N.fill;if(D instanceof v.a){var P=D.style;D.useStyle(Object(f.m)({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},N))}else D.__isEmptyBrush?D.useStyle(Object(f.m)({},N)):D.useStyle(N),D.style.decal=null,D.setColor(L,r&&r.symbolInnerColor),D.style.strokeNoScale=!0;var z=data.getItemVisual(e,"liftZ"),T=this._z2;null!=z?null==T&&(this._z2=D.z2,D.z2+=z):null!=T&&(D.z2=T,this._z2=null);var E=r&&r.useNameLabel;Object(y.f)(D,_,{labelFetcher:A,labelDataIndex:e,defaultText:function(e){return E?data.getName(e):Object(m.b)(data,e)},inheritColor:L,defaultOpacity:N.opacity}),this._sizeX=t[0]/2,this._sizeY=t[1]/2;var R=D.ensureState("emphasis");R.style=l,D.ensureState("select").style=h,D.ensureState("blur").style=c;var G=null==I||!0===I?Math.max(1.1,3/this._sizeY):isFinite(I)&&I>0?+I:1;R.scaleX=this._sizeX*G,R.scaleY=this._sizeY*G,this.setSymbolScale(1),Object(d.J)(this,x,S,O)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var r=this.childAt(0),o=Object(h.a)(this).dataIndex,c=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var d=r.getTextContent();d&&l.d(d,{style:{opacity:0}},t,{dataIndex:o,removeOpt:c,cb:function(){r.removeTextContent()}})}else r.removeTextContent();l.d(r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:o,cb:e,removeOpt:c})},t.getSymbolSize=function(data,e){return Object(o.c)(data.getItemVisual(e,"symbolSize"))},t}(c.a);function S(e,t){this.parent.drift(e,t)}t.a=x},452:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c});var r=n(510),o=n(423);function l(data,e){var t=data.mapDimensionsAll("defaultedLabel"),n=t.length;if(1===n){var o=Object(r.e)(data,e,t[0]);return null!=o?o+"":null}if(n){for(var l=[],i=0;i<t.length;i++)l.push(Object(r.e)(data,e,t[i]));return l.join(" ")}}function c(data,e){var t=data.mapDimensionsAll("defaultedLabel");if(!Object(o.t)(e))return e+"";for(var n=[],i=0;i<t.length;i++){var r=data.getDimensionIndex(t[i]);r>=0&&n.push(e[r])}return n.join(" ")}},461:function(e,t,n){"use strict";var r=n(50),o=n(123),l=n(76);e.exports=function(e){for(var t=r(this),n=l(t),c=arguments.length,h=o(c>1?arguments[1]:void 0,n),d=c>2?arguments[2]:void 0,m=void 0===d?n:o(d,n);m>h;)t[h++]=e;return t}},467:function(e,t,n){"use strict";function r(e,t){return e.type===t}n.d(t,"a",function(){return r})},472:function(e,t,n){"use strict";var r=n(423),o=n(468),l=n(478),c=n(529),h=n(426),d=n(501),m=function(e){this.coordSysDims=[],this.axisMap=Object(r.f)(),this.categoryAxisMap=Object(r.f)(),this.coordSysName=e};var f={cartesian2d:function(e,t,n,r){var o=e.getReferringComponents("xAxis",h.b).models[0],l=e.getReferringComponents("yAxis",h.b).models[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",l),y(o)&&(r.set("x",o),t.firstCategoryDimIndex=0),y(l)&&(r.set("y",l),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var o=e.getReferringComponents("singleAxis",h.b).models[0];t.coordSysDims=["single"],n.set("single",o),y(o)&&(r.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var o=e.getReferringComponents("polar",h.b).models[0],l=o.findAxisModel("radiusAxis"),c=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",c),y(l)&&(r.set("radius",l),t.firstCategoryDimIndex=0),y(c)&&(r.set("angle",c),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,o){var l=e.ecModel,c=l.getComponent("parallel",e.get("parallelIndex")),h=t.coordSysDims=c.dimensions.slice();Object(r.k)(c.parallelAxisIndex,function(e,r){var c=l.getComponent("parallelAxis",e),d=h[r];n.set(d,c),y(c)&&(o.set(d,c),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=r))})}};function y(e){return"category"===e.get("type")}var v=n(495),x=n(441),S=n(509),O=n(484);t.a=function(e,t,n){n=n||{};var source,y=t.getSourceManager(),_=!1;e?(_=!0,source=Object(v.c)(e)):_=(source=y.getSource()).sourceFormat===O.f;var I=function(e){var t=e.get("coordinateSystem"),n=new m(t),r=f[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}(t),w=function(e,t){var n,o=e.get("coordinateSystem"),l=d.a.get(o);return t&&t.coordSysDims&&(n=r.H(t.coordSysDims,function(e){var n={name:e},r=t.axisMap.get(e);if(r){var o=r.get("type");n.type=Object(c.a)(o)}return n})),n||(n=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]),n}(t,I),D=n.useEncodeDefaulter,A=r.w(D)?D:D?r.h(S.c,w,t):null,M={coordDimensions:w,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:A,canOmitUnusedDimensions:!_},j=Object(l.a)(source,M),k=function(e,t,n){var o,l;return n&&r.k(e,function(e,r){var c=e.coordDim,h=n.categoryAxisMap.get(c);h&&(null==o&&(o=r),e.ordinalMeta=h.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(l=!0)}),l||null==o||(e[o].otherDims.itemName=0),o}(j.dimensions,n.createInvertedIndices,I),C=_?null:y.getSharedDataStore(j),N=Object(x.a)(t,{schema:j,store:C}),data=new o.a(j,t);data.setCalculationInfo(N);var L=null!=k&&function(source){if(source.sourceFormat===O.f){var e=function(e){var i=0;for(;i<e.length&&null==e[i];)i++;return e[i]}(source.data||[]);return!r.t(Object(h.h)(e))}}(source)?function(e,t,n,r){return r===k?n:this.defaultDimValueGetter(e,t,n,r)}:null;return data.hasItemOption=!1,data.initData(_?source:C,null,L),data}},474:function(e,t,n){e.exports={}},485:function(e,t,n){"use strict";var r=n(573),o=n(457),l=n(425),c=n(451),h=n(423),d=n(428);function m(data,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==data.getItemVisual(t,"symbol")}function f(e){return null==e||Object(h.A)(e)||(e={isIgnore:e}),e||{}}function y(data){var e=data.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Object(d.d)(e),cursorStyle:e.get("cursor")}}var v=function(){function e(e){this.group=new r.a,this._SymbolCtor=e||c.a}return e.prototype.updateData=function(data,e){this._progressiveEls=null,e=f(e);var t=this.group,n=data.hostModel,r=this._data,l=this._SymbolCtor,c=e.disableAnimation,h=y(data),d={disableAnimation:c},v=e.getSymbolPoint||function(e){return data.getItemLayout(e)};r||t.removeAll(),data.diff(r).add(function(n){var r=v(n);if(m(data,r,n,e)){var o=new l(data,n,h,d);o.setPosition(r),data.setItemGraphicEl(n,o),t.add(o)}}).update(function(f,y){var x=r.getItemGraphicEl(y),S=v(f);if(m(data,S,f,e)){var O=data.getItemVisual(f,"symbol")||"circle",_=x&&x.getSymbolType&&x.getSymbolType();if(!x||_&&_!==O)t.remove(x),(x=new l(data,f,h,d)).setPosition(S);else{x.updateData(data,f,h,d);var I={x:S[0],y:S[1]};c?x.attr(I):o.g(x,I,n)}t.add(x),data.setItemGraphicEl(f,x)}else t.remove(x)}).remove(function(e){var o=r.getItemGraphicEl(e);o&&o.fadeOut(function(){t.remove(o)},n)}).execute(),this._getSymbolPoint=v,this._data=data},e.prototype.updateLayout=function(){var e=this,data=this._data;data&&data.eachItemGraphicEl(function(t,n){var r=e._getSymbolPoint(n);t.setPosition(r),t.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=y(data),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,data,t){function n(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],t=f(t);for(var r=e.start;r<e.end;r++){var o=data.getItemLayout(r);if(m(data,o,r,t)){var l=new this._SymbolCtor(data,r,this._seriesScope);l.traverse(n),l.setPosition(o),this.group.add(l),data.setItemGraphicEl(r,l),this._progressiveEls.push(l)}}},e.prototype.eachRendered=function(e){l.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,data=this._data;data&&e?data.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)},data.hostModel)}):t.removeAll()},e}();t.a=v},505:function(e,t,n){"use strict";n(474)},512:function(e,t,n){"use strict";n.r(t);var r=n(12),o=(n(43),n(443),n(60),n(276),n(53),n(23),n(40),n(38),n(6)),l=n(462),c=n(595),h=n(1043),d=n(545),m=n(827),f=n(656),y=n(658);Object(l.a)([h.a,m.a,f.a,d.a,y.a]);var v=!1;function x(){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(regeneratorRuntime.mark(function e(){var t,r,o,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=1;break}return e.abrupt("return");case 1:return e.next=2,Promise.all([n.e(16),n.e(113)]).then(n.bind(null,446));case 2:t=e.sent,r=t.MarkPointComponent,o=t.MarkLineComponent,c=t.VisualMapComponent,h=t.DataZoomComponent,Object(l.a)([r,o,c,h]),v=!0;case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O=Object(o.b)({name:"CumulativeReturnChart",props:{values:{type:Array,default:function(){return[[1,2,3,4]]}},index:{type:Array,default:function(){return["2020-01-01","2020-02-01","2020-03-01","2020-04-01"]}},benchmark:{type:Array,default:function(){return null}},height:{type:String,default:"300px"},valueName:{type:Array,default:function(){return[""]}},benchmarkName:{type:String,default:"大盤報酬"},fill:{type:Boolean,default:!0},secondaryBenchmark:{type:Boolean,default:!1},visualMap:{type:Object,default:function(){return null}},livePerformanceUpdate:{default:function(){return null}},maxSamples:{type:Number,default:100},dataZoom:{type:Object,default:function(){return null}},colors:{type:Array,default:function(){return["#37459c","#eb7e26","#14b363"]}}},data:function(){var e={animation:!1,type:"value",scale:!0,axisLabel:{formatter:"{value}%",inside:!0},show:!0,minorTick:{show:!1},minorSplitLine:{show:!1},axisTick:{show:!0,inside:!0},axisLine:{show:!1},splitLine:{show:!1},position:"right"},t=e;return this.secondaryBenchmark&&((t=[JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(e))])[0].position="right",t[0].axisLabel.formatter=null,t[0].axisLabel.inside=!0,t[1].position="left",t[1].axisLabel.inside=!0),{chartInstance:null,resizeObserver:null,chartOption:{visualMap:this.visualMap,dataZoom:this.dataZoom,legend:{bottom:80,left:5,orient:"vertical",show:!this.secondaryBenchmark},grid:{left:0,right:0,top:"12px",bottom:"20px"},xAxis:{type:"time",animation:!1,name:"日期",minorTick:{show:!1},minorSplitLine:{show:!1},axisLine:{lineStyle:{color:"#aaa"}},axisLabel:{inside:!0},inverval:1},yAxis:t,series:[],backgroundColor:"transparent"}}},watch:{index:{handler:"updateChart",deep:!0},values:{handler:"updateChart",deep:!0},benchmark:{handler:"updateChart",deep:!0}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.visualMap||e.dataZoom||e.livePerformanceUpdate)){t.next=1;break}return t.next=1,x();case 1:e.initChart(),e.updateChart(),window.addEventListener("resize",e.resizeChart),"undefined"!=typeof ResizeObserver&&(e.resizeObserver=new ResizeObserver(function(){e.resizeChart()}),e.resizeObserver.observe(e.$refs.chart));case 2:case"end":return t.stop()}},t)}))()},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose()},methods:{initChart:function(){this.chartInstance=Object(c.b)(this.$refs.chart,"light")},resizeChart:function(){this.chartInstance&&this.chartInstance.resize()},makeSeriesData:function(e,t,i){var n=this.fill?[{offset:0,color:this.colors[i]+"99"},{offset:1,color:this.colors[i]+"00",alpha:1}]:[],r=this.secondaryBenchmark?null:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:n,global:!1}},o=null,l=null;if(this.livePerformanceUpdate){var c=this.livePerformanceUpdate;t[0][0]>c&&(c=t[0][0]),o={data:[{coord:[c,0],symbol:"circle",symbolSize:10,itemStyle:{color:"#55bd95"},value:"Live",label:{color:"#459979",offset:[-20,0]}}]},l={symbol:"circle",symbolSize:10,itemStyle:{color:"#55bd95"},data:[[{coord:[c,0]},{coord:[t.slice(-1)[0][0],0]}]],lineStyle:{type:"solid",cap:"round",width:3}}}return{name:e,data:t,markPoint:o,markLine:l,animation:!1,zlevel:100,type:"line",smooth:!1,areaStyle:r,itemStyle:{opacity:0},lineStyle:{color:this.secondaryBenchmark?null:this.colors[i]},silent:!0}},updateChart:function(){if(this.chartOption.series=[],this.values&&this.index&&Array.isArray(this.values)&&Array.isArray(this.index)){for(var i in this.values){var e=this.valueName[i],t=this.index,n=this.values[i];if(n&&Array.isArray(n)&&0!==n.length){var r=this.values[i][0],o=Math.max(Math.round(n.length/this.maxSamples),1),data=[];for(var l in t)(l=parseInt(l))%o!==0&&0!==l&&l!==t.length-1||(this.secondaryBenchmark?data.push([t[l],n[l]]):data.push([t[l],n[l]/r*100-100]));var c=this.makeSeriesData(e,data,i);this.chartOption.series.push(c)}}if(void 0!==this.benchmark&&null!==this.benchmark&&Array.isArray(this.benchmark)&&0!==this.benchmark.length){var h=Math.max(Math.round(this.index.length/this.maxSamples),1),d=[];for(var m in this.index)(m=parseInt(m))%h!==0&&m!==this.index.length-1&&0!==m||d.push([this.index[m],100*(this.benchmark[m]/this.benchmark[0]-1)]);this.chartOption.series.push({name:this.benchmarkName,data:d,animation:!1,smooth:!1,type:"line",itemStyle:{color:"#000",borderColor:"#000",opacity:0},lineStyle:{color:"#aaa"},yAxisIndex:this.secondaryBenchmark?1:0,silent:!0}),this.chartInstance&&this.chartInstance.setOption(this.chartOption,!0)}else this.chartInstance&&this.chartInstance.setOption(this.chartOption,!0)}}}}),_=(n(505),n(52)),component=Object(_.a)(O,function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{position:"relative"}},[t("div",{staticStyle:{"z-index":"1"}},[t("div",{ref:"chart",staticClass:"chart",style:{height:e.height,width:"100%",zIndex:0}})])])},[],!1,null,"710eede2",null);t.default=component.exports},545:function(e,t,n){"use strict";n.d(t,"a",function(){return fe});var r=n(424),o=n(472),l=n(460),c=n(431),h=n(573),d=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return Object(r.a)(t,e),t.prototype.getInitialData=function(option){return Object(o.a)(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new h.a,line=Object(c.a)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(line),line.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===n?"circle":n,l=.8*e.itemHeight,symbol=Object(c.a)(o,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);t.add(symbol),symbol.setStyle(e.itemStyle);var d="inherit"===e.iconRotate?r:e.iconRotate||0;return symbol.rotation=d*Math.PI/180,symbol.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(symbol.style.stroke=symbol.style.fill,symbol.style.fill="#fff",symbol.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(l.a),m=d,f=n(423),y=n(485),v=n(451),x=n(441);function S(e,data,t){var n=e.getBaseAxis(),r=e.getOtherAxis(n),o=function(e,t){var n=0,r=e.scale.getExtent();"start"===t?n=r[0]:"end"===t?n=r[1]:Object(f.z)(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(r,t),l=n.dim,c=r.dim,h=data.mapDimension(c),d=data.mapDimension(l),m="x"===c||"radius"===c?1:0,y=Object(f.H)(e.dimensions,function(e){return data.mapDimension(e)}),v=!1,S=data.getCalculationInfo("stackResultDimension");return Object(x.c)(data,y[0])&&(v=!0,y[0]=S),Object(x.c)(data,y[1])&&(v=!0,y[1]=S),{dataDimsForPoint:y,valueStart:o,valueAxisDim:c,baseAxisDim:l,stacked:!!v,valueDim:h,baseDim:d,baseDataOffset:m,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}}function O(e,t,data,n){var r=NaN;e.stacked&&(r=data.get(data.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=e.valueStart);var o=e.baseDataOffset,l=[];return l[o]=data.get(e.baseDim,n),l[1-o]=r,t.dataToPoint(l)}var _=n(445);var I=n(560),w=n(457),D=n(535),A=n(426),M=n(442),j=n(487),k=n(500),C=Math.min,N=Math.max;function L(e,t){return isNaN(e)||isNaN(t)}function P(e,t,n,r,o,l,c,h,d){for(var m,f,y,v,x,S,O=n,_=0;_<r;_++){var I=t[2*O],w=t[2*O+1];if(O>=o||O<0)break;if(L(I,w)){if(d){O+=l;continue}break}if(O===n)e[l>0?"moveTo":"lineTo"](I,w),y=I,v=w;else{var D=I-m,A=w-f;if(D*D+A*A<.5){O+=l;continue}if(c>0){for(var M=O+l,j=t[2*M],k=t[2*M+1];j===I&&k===w&&_<r;)_++,O+=l,j=t[2*(M+=l)],k=t[2*M+1],D=(I=t[2*O])-m,A=(w=t[2*O+1])-f;var P=_+1;if(d)for(;L(j,k)&&P<r;)P++,j=t[2*(M+=l)],k=t[2*M+1];var z=.5,T=0,E=0,R=void 0,G=void 0;if(P>=r||L(j,k))x=I,S=w;else{T=j-m,E=k-f;var V=I-m,B=j-I,H=w-f,F=k-w,X=void 0,Y=void 0;if("x"===h){var U=T>0?1:-1;x=I-U*(X=Math.abs(V))*c,S=w,R=I+U*(Y=Math.abs(B))*c,G=w}else if("y"===h){var J=E>0?1:-1;x=I,S=w-J*(X=Math.abs(H))*c,R=I,G=w+J*(Y=Math.abs(F))*c}else X=Math.sqrt(V*V+H*H),x=I-T*c*(1-(z=(Y=Math.sqrt(B*B+F*F))/(Y+X))),S=w-E*c*(1-z),G=w+E*c*z,R=C(R=I+T*c*z,N(j,I)),G=C(G,N(k,w)),R=N(R,C(j,I)),S=w-(E=(G=N(G,C(k,w)))-w)*X/Y,x=C(x=I-(T=R-I)*X/Y,N(m,I)),S=C(S,N(f,w)),R=I+(T=I-(x=N(x,C(m,I))))*Y/X,G=w+(E=w-(S=N(S,C(f,w))))*Y/X}e.bezierCurveTo(y,v,x,S,I,w),y=R,v=G}else e.lineTo(I,w)}m=I,f=w,O+=l}return _}var z=function(){this.smooth=0,this.smoothConstraint=!0},T=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return Object(r.a)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new z},t.prototype.buildPath=function(e,t){var n=t.points,i=0,r=n.length/2;if(t.connectNulls){for(;r>0&&L(n[2*r-2],n[2*r-1]);r--);for(;i<r&&L(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=P(e,n,i,r,r,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,data=this.path.data,o=j.a.CMD,l="x"===t,c=[],i=0;i<data.length;){var h=void 0,d=void 0,m=void 0,f=void 0,y=void 0,v=void 0,x=void 0;switch(data[i++]){case o.M:n=data[i++],r=data[i++];break;case o.L:if(h=data[i++],d=data[i++],(x=l?(e-n)/(h-n):(e-r)/(d-r))<=1&&x>=0){var S=l?(d-r)*x+r:(h-n)*x+n;return l?[e,S]:[S,e]}n=h,r=d;break;case o.C:h=data[i++],d=data[i++],m=data[i++],f=data[i++],y=data[i++],v=data[i++];var O=l?Object(k.f)(n,h,m,y,e,c):Object(k.f)(r,d,f,v,e,c);if(O>0)for(var _=0;_<O;_++){var I=c[_];if(I<=1&&I>=0){S=l?Object(k.a)(r,d,f,v,I):Object(k.a)(n,h,m,y,I);return l?[e,S]:[S,e]}}n=y,r=v}}},t}(M.b),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.a)(t,e),t}(z),R=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return Object(r.a)(t,e),t.prototype.getDefaultShape=function(){return new E},t.prototype.buildPath=function(e,t){var n=t.points,r=t.stackedOnPoints,i=0,o=n.length/2,l=t.smoothMonotone;if(t.connectNulls){for(;o>0&&L(n[2*o-2],n[2*o-1]);o--);for(;i<o&&L(n[2*i],n[2*i+1]);i++);}for(;i<o;){var c=P(e,n,i,o,o,1,t.smooth,l,t.connectNulls);P(e,r,i+c-1,c,o,-1,t.stackedOnSmooth,l,t.connectNulls),i+=c+1,e.closePath()}},t}(M.b),G=n(458),V=n(647),B=n(843),H=n(427);function F(e,t,n,r,o){var rect=e.getArea(),l=rect.x,c=rect.y,h=rect.width,d=rect.height,m=n.get(["lineStyle","width"])||0;l-=m/2,c-=m/2,h+=m,d+=m,h=Math.ceil(h),l!==Math.floor(l)&&(l=Math.floor(l),h++);var y=new V.a({shape:{x:l,y:c,width:h,height:d}});if(t){var v=e.getBaseAxis(),x=v.isHorizontal(),S=v.inverse;x?(S&&(y.shape.x+=h),y.shape.width=0):(S||(y.shape.y+=d),y.shape.height=0);var O=Object(f.w)(o)?function(e){o(e,y)}:null;w.b(y,{shape:{width:h,height:d,x:l,y:c}},n,null,r,O)}return y}function X(e,t,n){var r=e.getArea(),o=Object(H.s)(r.r0,1),l=Object(H.s)(r.r,1),c=new B.a({shape:{cx:Object(H.s)(e.cx,1),cy:Object(H.s)(e.cy,1),r0:o,r:l,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});t&&("angle"===e.getBaseAxis().dim?c.shape.endAngle=r.startAngle:c.shape.r=o,w.b(c,{shape:{endAngle:r.endAngle,r:l}},n));return c}var Y=n(467),U=n(430),J=n(428),W=n(452),Z=n(432),$=n(463),K=n(450);function Q(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return;return!0}}function ee(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<e.length;){var l=e[i++],c=e[i++];isNaN(l)||(t=Math.min(l,t),r=Math.max(l,r)),isNaN(c)||(n=Math.min(c,n),o=Math.max(c,o))}return[[t,n],[r,o]]}function te(e,t){var n=ee(e),r=n[0],o=n[1],l=ee(t),c=l[0],h=l[1];return Math.max(Math.abs(r[0]-c[0]),Math.abs(r[1]-c[1]),Math.abs(o[0]-h[0]),Math.abs(o[1]-h[1]))}function ie(e){return f.z(e)?e:e?.5:0}function ne(e,t,n,r,o){var l=n.getBaseAxis(),c="x"===l.dim||"radius"===l.dim?0:1,h=[],i=0,d=[],m=[],f=[],y=[];if(o){for(i=0;i<e.length;i+=2){var v=t||e;isNaN(v[i])||isNaN(v[i+1])||y.push(e[i],e[i+1])}e=y}for(i=0;i<e.length-2;i+=2)switch(f[0]=e[i+2],f[1]=e[i+3],m[0]=e[i],m[1]=e[i+1],h.push(m[0],m[1]),r){case"end":d[c]=f[c],d[1-c]=m[1-c],h.push(d[0],d[1]);break;case"middle":var x=(m[c]+f[c])/2,S=[];d[c]=S[c]=x,d[1-c]=m[1-c],S[1-c]=f[1-c],h.push(d[0],d[1]),h.push(S[0],S[1]);break;default:d[c]=m[c],d[1-c]=f[1-c],h.push(d[0],d[1])}return h.push(e[i++],e[i++]),h}function ae(data,e,t){var n=data.getVisual("visualMeta");if(n&&n.length&&data.count()&&"cartesian2d"===e.type){for(var r,o,i=n.length-1;i>=0;i--){var l=data.getDimensionInfo(n[i].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=n[i];break}}if(o){var c=e.getAxis(r),h=f.H(o.stops,function(e){return{coord:c.toGlobalCoord(c.dataToCoord(e.value)),color:e.color}}),d=h.length,m=o.outerColors.slice();d&&h[0].coord>h[d-1].coord&&(h.reverse(),m.reverse());var y=function(e,t){var n,r,o=[],l=e.length;function c(e,t,n){var r=e.coord,p=(n-r)/(t.coord-r);return{coord:n,color:Object(K.b)(p,[e.color,t.color])}}for(var i=0;i<l;i++){var h=e[i],d=h.coord;if(d<0)n=h;else{if(d>t){r?o.push(c(r,h,t)):n&&o.push(c(n,h,0),c(n,h,t));break}n&&(o.push(c(n,h,0)),n=null),o.push(h),r=h}}return o}(h,"x"===r?t.getWidth():t.getHeight()),v=y.length;if(!v&&d)return h[0].coord<0?m[1]?m[1]:h[d-1].color:m[0]?m[0]:h[0].color;var x=y[0].coord-10,S=y[v-1].coord+10,O=S-x;if(O<.001)return"transparent";f.k(y,function(e){e.offset=(e.coord-x)/O}),y.push({offset:v?y[v-1].offset:.5,color:m[1]||"transparent"}),y.unshift({offset:v?y[0].offset:.5,color:m[0]||"transparent"});var _=new I.a(0,0,0,0,y,!0);return _[r]=x,_[r+"2"]=S,_}}}function re(e,data,t){var n=e.get("showAllSymbol"),r="auto"===n;if(!n||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function(e,data){var t=e.getExtent(),n=Math.abs(t[1]-t[0])/e.scale.count();isNaN(n)&&(n=0);for(var r=data.count(),o=Math.max(1,Math.round(r/5)),l=0;l<r;l+=o)if(1.5*v.a.getSymbolSize(data,l)[e.isHorizontal()?1:0]>n)return!1;return!0}(o,data))){var l=data.mapDimension(o.dim),c={};return f.k(o.getViewLabels(),function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);c[t]=1}),function(e){return!c.hasOwnProperty(data.get(l,e))}}}}function oe(e,t){return isNaN(e)||isNaN(t)}function se(e,t){return[e[2*t],e[2*t+1]]}function le(e){if(e.get(["endLabel","show"]))return!0;for(var i=0;i<U.g.length;i++)if(e.get([U.g[i],"endLabel","show"]))return!0;return!1}function ce(e,t,n,r){if(Object(Y.a)(t,"cartesian2d")){var o=r.getModel("endLabel"),l=o.get("valueAnimation"),c=r.getData(),h={lastFrameIndex:0},d=le(r)?function(n,r){e._endLabelOnDuring(n,r,c,h,l,o,t)}:null,m=t.getBaseAxis().isHorizontal(),f=F(t,n,r,function(){var t=e._endLabel;t&&n&&null!=h.originalX&&t.attr({x:h.originalX,y:h.originalY})},d);if(!r.get("clip",!0)){var y=f.shape,v=Math.max(y.width,y.height);m?(y.y-=v,y.height+=2*v):(y.x-=v,y.width+=2*v)}return d&&d(1,f),f}return X(t,n,r)}var ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.init=function(){var e=new h.a,t=new y.a;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e,this._changePolyState=f.c(this._changePolyState,this)},t.prototype.render=function(e,t,n){var r=e.coordinateSystem,o=this.group,data=e.getData(),l=e.getModel("lineStyle"),c=e.getModel("areaStyle"),h=data.getLayout("points")||[],d="polar"===r.type,m=this._coordSys,y=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,v=this._lineGroup,x=!t.ssr&&e.get("animation"),I=!c.isEmpty(),D=c.get("origin"),A=S(r,data,D),M=I&&function(e,data,t){if(!t.valueDim)return[];for(var n=data.count(),r=Object(_.a)(2*n),o=0;o<n;o++){var l=O(t,e,data,o);r[2*o]=l[0],r[2*o+1]=l[1]}return r}(r,data,A),j=e.get("showSymbol"),k=e.get("connectNulls"),C=j&&!d&&re(e,data,r),N=this._data;N&&N.eachItemGraphicEl(function(e,t){e.__temp&&(o.remove(e),N.setItemGraphicEl(t,null))}),j||y.remove(),o.add(v);var L,P=!d&&e.get("step");r&&r.getArea&&e.get("clip",!0)&&(null!=(L=r.getArea()).width?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var z=ae(data,r,n)||data.getVisual("style")[data.getVisual("drawType")];if(polyline&&m.type===r.type&&P===this._step){I&&!polygon?polygon=this._newPolygon(h,M):polygon&&!I&&(v.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(e,r,Object($.b)(z));var T=v.getClipPath();if(T){var E=ce(this,r,!1,e);w.b(T,{shape:E.shape},e)}else v.setClipPath(ce(this,r,!0,e));j&&y.updateData(data,{isIgnore:C,clipShape:L,disableAnimation:!0,getSymbolPoint:function(e){return[h[2*e],h[2*e+1]]}}),Q(this._stackedOnPoints,M)&&Q(this._points,h)||(x?this._doUpdateAnimation(data,M,r,n,P,D,k):(P&&(M&&(M=ne(M,h,r,P,k)),h=ne(h,null,r,P,k)),polyline.setShape({points:h}),polygon&&polygon.setShape({points:h,stackedOnPoints:M})))}else j&&y.updateData(data,{isIgnore:C,clipShape:L,disableAnimation:!0,getSymbolPoint:function(e){return[h[2*e],h[2*e+1]]}}),x&&this._initSymbolLabelAnimation(data,r,L),P&&(M&&(M=ne(M,h,r,P,k)),h=ne(h,null,r,P,k)),polyline=this._newPolyline(h),I?polygon=this._newPolygon(h,M):polygon&&(v.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(e,r,Object($.b)(z)),v.setClipPath(ce(this,r,!0,e));var R=e.getModel("emphasis"),G=R.get("focus"),V=R.get("blurScope"),B=R.get("disabled");(polyline.useStyle(f.i(l.getLineStyle(),{fill:"none",stroke:z,lineJoin:"bevel"})),Object(U.I)(polyline,e,"lineStyle"),polyline.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(polyline.getState("emphasis").style.lineWidth=+polyline.style.lineWidth+1);Object(Z.a)(polyline).seriesIndex=e.seriesIndex,Object(U.J)(polyline,G,V,B);var H=ie(e.get("smooth")),F=e.get("smoothMonotone");if(polyline.setShape({smooth:H,smoothMonotone:F,connectNulls:k}),polygon){var X=data.getCalculationInfo("stackedOnSeries"),Y=0;polygon.useStyle(f.i(c.getAreaStyle(),{fill:z,opacity:.7,lineJoin:"bevel",decal:data.getVisual("style").decal})),X&&(Y=ie(X.get("smooth"))),polygon.setShape({smooth:H,stackedOnSmooth:Y,smoothMonotone:F,connectNulls:k}),Object(U.I)(polygon,e,"areaStyle"),Object(Z.a)(polygon).seriesIndex=e.seriesIndex,Object(U.J)(polygon,G,V,B)}var J=this._changePolyState;data.eachItemGraphicEl(function(e){e&&(e.onHoverStateChange=J)}),this._polyline.onHoverStateChange=J,this._data=data,this._coordSys=r,this._stackedOnPoints=M,this._points=h,this._step=P,this._valueOrigin=D,e.get("triggerLineEvent")&&(this.packEventData(e,polyline),polygon&&this.packEventData(e,polygon))},t.prototype.packEventData=function(e,t){Object(Z.a)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,r){var data=e.getData(),o=A.t(data,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var l=data.getLayout("points"),symbol=data.getItemGraphicEl(o);if(!symbol){var c=l[2*o],h=l[2*o+1];if(isNaN(c)||isNaN(h))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var d=e.get("zlevel")||0,m=e.get("z")||0;(symbol=new v.a(data,o)).x=c,symbol.y=h,symbol.setZ(d,m);var f=symbol.getSymbolPath().getTextContent();f&&(f.zlevel=d,f.z=m,f.z2=this._polyline.z2+1),symbol.__temp=!0,data.setItemGraphicEl(o,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else G.a.prototype.highlight.call(this,e,t,n,r)},t.prototype.downplay=function(e,t,n,r){var data=e.getData(),o=A.t(data,r);if(this._changePolyState("normal"),null!=o&&o>=0){var symbol=data.getItemGraphicEl(o);symbol&&(symbol.__temp?(data.setItemGraphicEl(o,null),this.group.remove(symbol)):symbol.downplay())}else G.a.prototype.downplay.call(this,e,t,n,r)},t.prototype._changePolyState=function(e){var polygon=this._polygon;Object(U.H)(this._polyline,e),polygon&&Object(U.H)(polygon,e)},t.prototype._newPolyline=function(e){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new T({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},t.prototype._newPolygon=function(e,t){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new R({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},t.prototype._initSymbolLabelAnimation=function(data,e,t){var n,r,o=e.getBaseAxis(),l=o.inverse;"cartesian2d"===e.type?(n=o.isHorizontal(),r=!1):"polar"===e.type&&(n="angle"===o.dim,r=!0);var c=data.hostModel,h=c.get("animationDuration");f.w(h)&&(h=h(null));var d=c.get("animationDelay")||0,m=f.w(d)?d(null):d;data.eachItemGraphicEl(function(symbol,o){var c=symbol;if(c){var y=[symbol.x,symbol.y],v=void 0,x=void 0,S=void 0;if(t)if(r){var O=t,_=e.pointToCoord(y);n?(v=O.startAngle,x=O.endAngle,S=-_[1]/180*Math.PI):(v=O.r0,x=O.r,S=_[0])}else{var I=t;n?(v=I.x,x=I.x+I.width,S=symbol.x):(v=I.y+I.height,x=I.y,S=symbol.y)}var w=x===v?0:(S-v)/(x-v);l&&(w=1-w);var D=f.w(d)?d(o):h*w+m,A=c.getSymbolPath(),text=A.getTextContent();c.attr({scaleX:0,scaleY:0}),c.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:D}),text&&text.animateFrom({style:{opacity:0}},{duration:300,delay:D}),A.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,t,n){var r=e.getModel("endLabel");if(le(e)){var o=e.getData(),polyline=this._polyline,l=o.getLayout("points");if(!l)return polyline.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new D.a({z2:200})).ignoreClip=!0,polyline.setTextContent(this._endLabel),polyline.disableLabelAnimation=!0);var h=function(e){for(var t=e.length/2;t>0&&oe(e[2*t-2],e[2*t-1]);t--);return t-1}(l);h>=0&&(Object(J.f)(polyline,Object(J.d)(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:h,defaultText:function(e,t,n){return null!=n?Object(W.a)(o,n):Object(W.b)(o,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),o=n.inverse,l=r?o?"right":"left":"center",c=r?"middle":o?"top":"bottom";return{normal:{align:e.get("align")||l,verticalAlign:e.get("verticalAlign")||c}}}(r,t)),polyline.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,data,n,r,o,l){var c=this._endLabel,polyline=this._polyline;if(c){e<1&&null==n.originalX&&(n.originalX=c.x,n.originalY=c.y);var h=data.getLayout("points"),d=data.hostModel,m=d.get("connectNulls"),f=o.get("precision"),y=o.get("distance")||0,v=l.getBaseAxis(),x=v.isHorizontal(),S=v.inverse,O=t.shape,_=S?x?O.x:O.y+O.height:x?O.x+O.width:O.y,I=(x?y:0)*(S?-1:1),w=(x?0:-y)*(S?-1:1),D=x?"x":"y",M=function(e,t,n){for(var a,b,r=e.length/2,o="x"===n?0:1,l=0,c=-1,i=0;i<r;i++)if(b=e[2*i+o],!isNaN(b)&&!isNaN(e[2*i+1-o]))if(0!==i){if(a<=t&&b>=t||a>=t&&b<=t){c=i;break}l=i,a=b}else a=b;return{range:[l,c],t:(t-a)/(b-a)}}(h,_,D),j=M.range,k=j[1]-j[0],C=void 0;if(k>=1){if(k>1&&!m){var N=se(h,j[0]);c.attr({x:N[0]+I,y:N[1]+w}),r&&(C=d.getRawValue(j[0]))}else{(N=polyline.getPointOn(_,D))&&c.attr({x:N[0]+I,y:N[1]+w});var L=d.getRawValue(j[0]),P=d.getRawValue(j[1]);r&&(C=A.j(data,f,L,P,M.t))}n.lastFrameIndex=j[0]}else{var z=1===e||n.lastFrameIndex>0?j[0]:0;N=se(h,z);r&&(C=d.getRawValue(z)),c.attr({x:N[0]+I,y:N[1]+w})}if(r){var T=Object(J.e)(c);"function"==typeof T.setLabelText&&T.setLabelText(C)}}},t.prototype._doUpdateAnimation=function(data,e,t,n,r,o,l){var polyline=this._polyline,polygon=this._polygon,c=data.hostModel,h=function(e,t,n,r,o,l,c){for(var h=function(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}(e,t),d=[],m=[],f=[],y=[],v=[],x=[],I=[],w=S(o,t,c),D=e.getLayout("points")||[],A=t.getLayout("points")||[],i=0;i<h.length;i++){var M=h[i],j=!0,k=void 0,C=void 0;switch(M.cmd){case"=":k=2*M.idx,C=2*M.idx1;var N=D[k],L=D[k+1],P=A[C],z=A[C+1];(isNaN(N)||isNaN(L))&&(N=P,L=z),d.push(N,L),m.push(P,z),f.push(n[k],n[k+1]),y.push(r[C],r[C+1]),I.push(t.getRawIndex(M.idx1));break;case"+":var T=M.idx,E=w.dataDimsForPoint,R=o.dataToPoint([t.get(E[0],T),t.get(E[1],T)]);C=2*T,d.push(R[0],R[1]),m.push(A[C],A[C+1]);var G=O(w,o,t,T);f.push(G[0],G[1]),y.push(r[C],r[C+1]),I.push(t.getRawIndex(T));break;case"-":j=!1}j&&(v.push(M),x.push(x.length))}x.sort(function(a,b){return I[a]-I[b]});var V=d.length,B=Object(_.a)(V),H=Object(_.a)(V),F=Object(_.a)(V),X=Object(_.a)(V),Y=[];for(i=0;i<x.length;i++){var U=x[i],J=2*i,W=2*U;B[J]=d[W],B[J+1]=d[W+1],H[J]=m[W],H[J+1]=m[W+1],F[J]=f[W],F[J+1]=f[W+1],X[J]=y[W],X[J+1]=y[W+1],Y[i]=v[U]}return{current:B,next:H,stackedOnCurrent:F,stackedOnNext:X,status:Y}}(this._data,data,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),d=h.current,m=h.stackedOnCurrent,f=h.next,y=h.stackedOnNext;if(r&&(m=ne(h.stackedOnCurrent,h.current,t,r,l),d=ne(h.current,null,t,r,l),y=ne(h.stackedOnNext,h.next,t,r,l),f=ne(h.next,null,t,r,l)),te(d,f)>3e3||polygon&&te(m,y)>3e3)return polyline.stopAnimation(),polyline.setShape({points:f}),void(polygon&&(polygon.stopAnimation(),polygon.setShape({points:f,stackedOnPoints:y})));polyline.shape.__points=h.current,polyline.shape.points=d;var v={shape:{points:f}};h.current!==d&&(v.shape.__points=h.next),polyline.stopAnimation(),w.g(polyline,v,c),polygon&&(polygon.setShape({points:d,stackedOnPoints:m}),polygon.stopAnimation(),w.g(polygon,{shape:{stackedOnPoints:y}},c),polyline.shape.points!==polygon.shape.points&&(polygon.shape.points=polyline.shape.points));for(var x=[],I=h.status,i=0;i<I.length;i++){if("="===I[i].cmd){var D=data.getItemGraphicEl(I[i].idx1);D&&x.push({el:D,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during(function(){polygon&&polygon.dirtyShape();for(var e=polyline.shape.__points,i=0;i<x.length;i++){var t=x[i].el,n=2*x[i].ptIdx;t.x=e[n],t.y=e[n+1],t.markRedraw()}})},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(G.a),he=ue,pe=n(527);var de={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},me=function(e){return Math.round(e.length/2)};function fe(e){var t;e.registerChartView(he),e.registerSeriesModel(m),e.registerLayout((t=!0,{seriesType:"line",plan:Object(pe.a)(),reset:function(e){var data=e.getData(),n=e.coordinateSystem,r=e.pipelineContext,o=t||r.large;if(n){var l=Object(f.H)(n.dimensions,function(e){return data.mapDimension(e)}).slice(0,2),c=l.length,h=data.getCalculationInfo("stackResultDimension");Object(x.c)(data,l[0])&&(l[0]=h),Object(x.c)(data,l[1])&&(l[1]=h);var d=data.getStore(),m=data.getDimensionIndex(l[0]),y=data.getDimensionIndex(l[1]);return c&&{progress:function(e,data){for(var t=e.end-e.start,r=o&&Object(_.a)(t*c),l=[],h=[],i=e.start,f=0;i<e.end;i++){var v=void 0;if(1===c){var x=d.get(m,i);v=n.dataToPoint(x,null,h)}else l[0]=d.get(m,i),l[1]=d.get(y,i),v=n.dataToPoint(l,null,h);o?(r[f++]=v[0],r[f++]=v[1]):data.setItemLayout(i,v.slice())}o&&data.setLayout("points",r)}}}}})),e.registerVisual({seriesType:"line",reset:function(e){var data=e.getData(),t=e.getModel("lineStyle").getLineStyle();t&&!t.stroke&&(t.stroke=data.getVisual("style").fill),data.setVisual("legendLineStyle",t)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e){return{seriesType:e,reset:function(e,t,n){var data=e.getData(),r=e.get("sampling"),o=e.coordinateSystem,l=data.count();if(l>10&&"cartesian2d"===o.type&&r){var c=o.getBaseAxis(),h=o.getOtherAxis(c),d=c.getExtent(),m=n.getDevicePixelRatio(),y=Math.abs(d[1]-d[0])*(m||1),v=Math.round(l/y);if(isFinite(v)&&v>1){"lttb"===r?e.setData(data.lttbDownSample(data.mapDimension(h.dim),1/v)):"minmax"===r&&e.setData(data.minmaxDownSample(data.mapDimension(h.dim),1/v));var x=void 0;Object(f.C)(r)?x=de[r]:Object(f.w)(r)&&(x=r),x&&e.setData(data.downSample(data.mapDimension(h.dim),1/v,x,me))}}}}}("line"))}}}]);
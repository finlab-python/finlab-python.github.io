(window.webpackJsonp=window.webpackJsonp||[]).push([[99,11,45,49],{1022:function(t,e,n){"use strict";n.r(e);n(60),n(39);var r=n(28),o=n(12),l=(n(43),n(74),n(45),n(54),n(65),n(75),n(23),n(30),n(66),n(67),n(53),n(86),n(40),n(64),n(56),n(38),n(122)),c=n.n(l),h=n(57),d=n(26),f=n(634);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){Object(r.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y={name:"Strategy",components:{PositionPanel:function(){return Promise.all([n.e(2),n.e(17),n.e(15),n.e(110)]).then(n.bind(null,531))},PositionPanelFinlab:function(){return Promise.all([n.e(2),n.e(17),n.e(15),n.e(111)]).then(n.bind(null,995))},monthlyReturnChart:function(){return Promise.all([n.e(2),n.e(16),n.e(112)]).then(n.bind(null,584))},RiskPanel:function(){return Promise.resolve().then(n.bind(null,540))},LightCumulativeChart:function(){return Promise.resolve().then(n.bind(null,837))}},data:function(){return{showAnalysisModal:!1,viewmode:!1,newStrategyName:this.$route.query.sid,isChangingName:!1,uid:this.$route.query.uid,sid:this.$route.query.sid,public_performance:!0,public_position:!1,public_code:!1,post:null,shareImage:null,generatingSocialImage:!1,uploadingPost:!1,tab:"統計清單",infoCollapse:!0,ndays:0,finlabUserID:"TJN4FDuqrwU8DML7DAjUYFIMutp2"}},head:function(){var t=this.$route.query.sid,e=this.$route.query.uid,meta=Object(f.a)({sid:t,uid:e}),n={title:t+" - FinLab 線上回測"};return meta&&(n.meta=meta),n},watchQuery:["uid","sid"],mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.navigator.userAgent.includes("Prerender")){e.next=1;break}return e.next=1,t.setRealTimeUpdate({uid:t.$route.query.uid,sid:t.$route.query.sid});case 1:t.downloadPost(),t.$nextTick(function(){var e=document.getElementById("modal-return-chart");e&&c.a.util.on(e,"show",function(){t.showAnalysisModal=!0})});case 2:case"end":return e.stop()}},e)}))()},beforeDestroy:function(){this.cancelRealTimeUpdate()},computed:v({displayName:function(){var t=this.$route.query.sid;return this.$store.state.userInfo&&this.$store.state.userInfo.info&&this.$store.state.userInfo.info.strategies&&this.$store.state.userInfo.info.strategies[t]&&this.$store.state.userInfo.info.strategies[t].name?this.$store.state.userInfo.info.strategies[t].name:this.strategy&&this.strategy.info&&this.strategy.info.name?this.strategy.info.name:t},postPureText:function(){if(this.post)return this.post.replace(/<[^>]*>?/gm,"")},userRank:function(){var t=null!==this.$store.state.user,e=this.$store.state.role.includes("vip"),n=t&&this.$store.state.user.uid===this.$props.uid;return t?n?10:e?2:1:0},isAuthor:function(){return null!==this.$store.state.user&&this.$store.state.user.uid===this.$route.query.uid},wideScreen:function(){return window.innerWidth>600},returns:function(){if(!this.strategy||!this.strategy.info)return[];var t=this.strategy.info.returns.value,b=this.strategy.info.benchmark,e={5:"週",20:"月",60:"季",252:"年"};return[5,20,60,252].map(function(n){var r,s=(r=n,Math.round(1e3*(t[t.length-1]/t[t.length-r-1]-1))/10||0),o=function(t){return Math.round(1e3*(b[b.length-1]/b[b.length-t-1]-1))/10||0}(n),l=s>0?"color:#e35676":"color:#18b89b",c=s>o?"color:#e35676":"color:#18b89b";return{name:"近".concat(e[n]),svalue:s,bvalue:o,ssign:s>0?"+":"",bsign:o>0?"+":"",unit:"％",scolor:l,bcolor:c,days:n}})},copyCodeBtnText:function(){if(!this.strategy||!this.strategy.info)return["",!1,!1];var t=null!==this.$store.state.user,e=this.$store.state.role.includes("vip"),n=t&&this.$store.state.user.uid===this.uid,r=this.strategy.info?this.strategy.info.public_code:10;return n?["程式碼",!0,!0]:0===r||1===r?["程式碼",t,!0]:2===r?["VIP 程式碼",t&&e,!0]:["",!1,!1]},computedCagr:function(){if(!this.strategy||!this.strategy.info)return 0;var t=this.strategy.info.stats;if(t&&void 0!==t.cagr)return t.cagr;var e=this.strategy.info.returns;if(!e||!e.value||!e.time||e.value.length<2)return t?t.daily_mean:0;var n=e.value[0],r=e.value[e.value.length-1];if(0===n)return 0;var o=(new Date(e.time[e.time.length-1])-new Date(e.time[0]))/864e5;return o<=0?0:Math.pow(r/n,365.25/o)-1}},Object(h.c)({strategy:"strategy"})),methods:v(v({inIframe:function(){try{return window.self!==window.top}catch(t){return!1}},to_notebook:function(){var t=this.sid,e=this.$store.state.userInfo.info&&this.$store.state.userInfo.info.strategies&&this.$store.state.userInfo.info.strategies[t]&&this.$store.state.userInfo.info.strategies[t].name?this.$store.state.userInfo.info.strategies[t].name:this.strategy&&this.strategy.info&&this.strategy.info.name?this.strategy.info.name:t,n=this.strategy.info?this.strategy.info.public_code:10;console.log(this.$store.state.user.uid),this.$store.state.user.uid!==this.uid?10!=n?2!==n?1!==n?0!==n?c.a.modal.alert("神奇的權限等級: "+n):this.$router.push("/notebook/?uid=".concat(this.uid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(e))):this.$store.state.userInfo.info?this.$router.push("/notebook/?uid=".concat(this.uid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(e))):c.a.modal.alert("請登入來觀看策略"):"vip_y"===this.$store.state.role||"vip_m"===this.$store.state.role?this.$router.push("/notebook/?uid=".concat(this.uid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(e))):c.a.modal.alert("限 VIP 權限之用戶使用！"):c.a.modal.alert("該策略並沒有對外開放！"):this.$router.push("/notebook/?uid=".concat(this.uid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(e)))},generateSocialImage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r,o,l,c,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.generatingSocialImage){e.next=1;break}return e.abrupt("return");case 1:return t.generatingSocialImage=!0,n=null,e.prev=2,r="https://asia-east1-fdata-299302.cloudfunctions.net/social-image/?sid=".concat(t.$route.query.sid,"&uid=").concat(t.$route.query.uid,"&photoURL=").concat(t.$store.state.user.photoURL,"&author=").concat(t.$store.state.user.displayName,"&force=true"),o="https://asia-east1-fdata-299302.cloudfunctions.net/social-image/?sid=".concat(t.$route.query.sid,"&uid=").concat(t.$route.query.uid,"&photoURL=").concat(t.$store.state.user.photoURL,"&author=").concat(t.$store.state.user.displayName),e.next=3,t.$axios.get(r);case 3:e.sent,n=o,e.next=5;break;case 4:e.prev=4,h=e.catch(2),console.log("fail to generate image",h);case 5:return e.prev=5,l="https://ai.finlab.tw/strategy/?uid=".concat(t.$route.query.uid,"&sid=").concat(t.$route.query.sid),c={"User-Agent":"facebookexternalhit/1.1 (+http://www.facebook.com/externalhit_uatext.php)",Connection:"close"},e.next=6,t.$axios.get(l,{},{headers:c});case 6:e.sent,e.next=8;break;case 7:e.prev=7,d=e.catch(5),console.log("fail to update crawler",d);case 8:n&&(t.shareImage=n),t.generatingSocialImage=!1;case 9:case"end":return e.stop()}},e,null,[[2,4],[5,7]])}))()}},Object(h.b)({setRealTimeUpdate:"strategy/setRealTimeUpdate",cancelRealTimeUpdate:"strategy/cancelRealtimeUpdate"})),{},{downloadPost:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.c.collection("users").doc(t.uid).collection("strategies").doc(t.sid).collection("articles").doc("article"),r=null,e.prev=1,e.next=2,n.get();case 2:r=e.sent,e.next=4;break;case 3:e.prev=3,l=e.catch(1),alert("cannot download post ref"+l.response.data);case 4:r&&r.exists&&(o=r.data(),t.post=o.post,""===t.post&&(t.post=null));case 5:case"end":return e.stop()}},e,null,[[1,3]])}))()},uploadPost:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.post){e.next=1;break}return e.abrupt("return");case 1:return n=d.c.collection("users").doc(t.uid).collection("strategies").doc(t.sid).collection("articles").doc("article"),t.uploadingPost=!0,e.prev=2,e.next=3,n.set({post:t.post});case 3:e.next=5;break;case 4:e.prev=4,r=e.catch(2),alert("上傳 post 失敗："+r.response.data);case 5:t.uploadingPost=!1;case 6:case"end":return e.stop()}},e,null,[[2,4]])}))()}})},x=(n(925),n(52)),component=Object(x.a)(y,function(){var t=this,e=t._self._c;return e("div",{staticClass:"dark-muted"},[e("div",{staticClass:"uk-container uk-container-small top-container"},[e("div",{staticClass:"uk-grid uk-grid-collapse uk-margin-large-top uk-margin-large-bottom"},[e("div",{staticClass:"uk-width-3-5"},[e("h1",{staticClass:"uk-text-primary title"},[t._v("\n          "+t._s(t.displayName)+"\n        ")])]),t._v(" "),e("div",{staticClass:"uk-width-2-5"},[e("div",{staticClass:"uk-flex uk-flex-middle uk-flex-right",staticStyle:{height:"100%"}},[t.copyCodeBtnText[2]&&t.$store.state.user?e("button",{staticClass:"uk-button uk-button-primary",on:{click:t.to_notebook}},[t._v("\n            "+t._s(t.copyCodeBtnText[0])+"\n          ")]):t._e(),t._v(" "),t.copyCodeBtnText[2]&&!t.$store.state.user?e("button",{staticClass:"uk-button uk-button-primary",attrs:{"uk-toggle":"target: #login-ui"}},[t._v("\n            "+t._s(t.copyCodeBtnText[0])+"\n          ")]):t._e()])])]),t._v(" "),e("div",{staticClass:"uk-margin-large-top"},[e("a",{staticStyle:{color:"gray"},attrs:{href:"#modal-strategy-description","uk-toggle":""}},[t.post&&0!==t.post.length?e("div",{staticClass:"vhtml",domProps:{innerHTML:t._s(t.postPureText.slice(0,100)+" ... <span style='color: #383b9a;'>詳細介紹</span></p>")}}):t._e()]),t._v(" "),e("div",{staticClass:"uk-modal-container",attrs:{id:"modal-strategy-description","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-modal-body uk-padding-small",staticStyle:{"border-radius":"15px"}},[e("div",{staticClass:"uk-container"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),t._v(" "),e("h1",{staticClass:"uk-text-primary uk-margin-large-top"},[t._v(t._s(t.$route.query.sid))]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"vhtml",domProps:{innerHTML:t._s(t.post)}})])])])]),t._v(" "),e("div",{staticClass:"uk-width-3-4@m uk-width-1-1",staticStyle:{"z-index":"3"}},[t.returns?e("div",{staticClass:"uk-grid-collapse uk-child-width-1-5@m uk-child-width-1-3",attrs:{"uk-grid":""}},[t._l(t.returns,function(n){return e("div",{key:n.name,staticClass:"ret-tab",staticStyle:{"z-index":"3",cursor:"pointer"},on:{click:function(e){t.ndays=t.ndays===-n.days?0:-n.days}}},[e("div",{staticClass:"uk-text-small ret-btn"},[t._v("\n            "+t._s(n.name[1])),e("span",{staticStyle:{"white-space":"nowrap"},style:n.bcolor},[t._v("\n              "+t._s(n.svalue>n.bvalue?"贏大盤":"輸大盤")+"\n            ")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"uk-text-bold uk-text-large",staticStyle:{"white-space":"nowrap"},style:n.scolor},[t._v("\n              "+t._s(n.ssign)+t._s(n.svalue)+" ")]),t._v(t._s(n.unit)+"\n          ")])])}),t._v(" "),t._m(0)],2):t._e(),t._v(" "),e("br"),t._v(" "),0===t.ndays?e("div",{staticClass:"uk-text-small uk-margin"},[e("span",{staticClass:"uk-text-primary"},[t._v("策略報酬 －")]),e("br"),t._v(" "),e("span",[t._v("大盤報酬 －")])]):e("div",[e("br"),e("br"),e("br")])])]),t._v(" "),t.strategy&&t.strategy.info&&t.strategy.info.returns&&t.strategy.info.returns.time&&t.strategy.info.returns.value&&t.strategy.info.benchmark?e("div",{staticClass:"return-panel",staticStyle:{"z-index":"0"},style:0===t.ndays&t.wideScreen?"margin-top: -130px !important":"margin-top: -80px !important",attrs:{href:"#modal-return-chart","uk-toggle":""}},[e("LightCumulativeChart",{attrs:{values:t.strategy.info.returns.value.slice(t.ndays),benchmark:t.strategy.info.benchmark.slice(t.ndays),"chart-height":"200px"}})],1):e("div",{staticClass:"uk-text-center",staticStyle:{height:"200px"},style:0===t.ndays&t.wideScreen?"margin-top: -130px !important":"margin-top: -80px !important"},[e("span",{attrs:{"uk-spinner":"ratio: 4.5"}})]),t._v(" "),t.strategy&&t.strategy.info?e("div",{staticClass:"uk-background-muted"},[e("div",{staticClass:"uk-section"},[e("div",{staticClass:"uk-container uk-container-small"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"統計清單"==t.tab,expression:"tab == '統計清單'"}],staticClass:"uk-margin-top"},[e("LazyPositionPanel",{attrs:{uid:t.$route.query.uid,strategy_id:t.$route.query.sid,position_id:t.strategy.info.position_id}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"策略分析"==t.tab,expression:"tab == '策略分析'"}],staticClass:"uk-margin-top"})])])]):t._e(),t._v(" "),e("div",{staticClass:"uk-modal-container",attrs:{id:"modal-return-chart","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-modal-body",staticStyle:{"border-radius":"15px"}},[e("div",{staticClass:"uk-container uk-container-small"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),t._v(" "),t.showAnalysisModal&&t.strategy.info?[t.strategy.info.return_table&&t.strategy.info.benchmark&&t.strategy.stats?e("div",[e("monthlyReturnChart",{attrs:{values:t.strategy.info.return_table,benchmark:t.strategy.info.benchmark,stats:t.strategy.stats}})],1):t._e(),t._v(" "),t.strategy.info.returns&&t.strategy.info.benchmark&&t.strategy.info.drawdown_details&&t.strategy.info.stats?e("div",[e("RiskPanel",{attrs:{returns:t.strategy.info.returns,benchmark:t.strategy.info.benchmark,drawdown_details:t.strategy.info.drawdown_details,"daily-mean":t.computedCagr,max_drawdown:t.strategy.info.stats.max_drawdown}})],1):t._e()]:t._e()],2)])])])},[function(){var t=this,e=t._self._c;return e("div",{staticClass:"uk-text-small",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"ret-btn",staticStyle:{cursor:"pointer"},attrs:{href:"#modal-return-chart","uk-toggle":""}},[t._v("\n            歷史報酬"),e("br"),t._v("分析")])])}],!1,null,"5d5c3b3d",null);e.default=component.exports;installComponents(component,{LightCumulativeChart:n(837).default,RiskPanel:n(540).default})},451:function(t,e,n){"use strict";var r=n(424),o=n(431),l=n(457),c=n(573),h=n(432),d=n(430),f=n(452),m=n(423),v=n(428),y=n(438),x=function(t){function e(data,e,n,r){var o=t.call(this)||this;return o.updateData(data,e,n,r),o}return Object(r.a)(e,t),e.prototype._createSymbol=function(t,data,e,n,r){this.removeAll();var l=Object(o.a)(t,-1,-1,2,2,null,r);l.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=_,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(d.r)(this.childAt(0))},e.prototype.downplay=function(){Object(d.C)(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(data,t,n,r){this.silent=!1;var o=data.getItemVisual(t,"symbol")||"circle",c=data.hostModel,h=e.getSymbolSize(data,t),d=o!==this._symbolType,f=r&&r.disableAnimation;if(d){var m=data.getItemVisual(t,"symbolKeepAspect");this._createSymbol(o,data,t,h,m)}else{(y=this.childAt(0)).silent=!1;var v={scaleX:h[0]/2,scaleY:h[1]/2};f?y.attr(v):l.g(y,v,c,t),Object(l.f)(y)}if(this._updateCommon(data,t,h,n,r),d){var y=this.childAt(0);if(!f){v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}};y.scaleX=y.scaleY=0,y.style.opacity=0,l.b(y,v,c,t)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(data,t,e,n,r){var l,c,h,x,_,w,O,S,k,j=this.childAt(0),I=data.hostModel;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,x=n.focus,_=n.blurScope,O=n.labelStatesModels,S=n.hoverScale,k=n.cursorStyle,w=n.emphasisDisabled),!n||data.hasItemOption){var C=n&&n.itemModel?n.itemModel:data.getItemModel(t),A=C.getModel("emphasis");l=A.getModel("itemStyle").getItemStyle(),h=C.getModel(["select","itemStyle"]).getItemStyle(),c=C.getModel(["blur","itemStyle"]).getItemStyle(),x=A.get("focus"),_=A.get("blurScope"),w=A.get("disabled"),O=Object(v.d)(C),S=A.getShallow("scale"),k=C.getShallow("cursor")}var D=data.getItemVisual(t,"symbolRotate");j.attr("rotation",(D||0)*Math.PI/180||0);var P=Object(o.b)(data.getItemVisual(t,"symbolOffset"),e);P&&(j.x=P[0],j.y=P[1]),k&&j.attr("cursor",k);var M=data.getItemVisual(t,"style"),N=M.fill;if(j instanceof y.a){var L=j.style;j.useStyle(Object(m.m)({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},M))}else j.__isEmptyBrush?j.useStyle(Object(m.m)({},M)):j.useStyle(M),j.style.decal=null,j.setColor(N,r&&r.symbolInnerColor),j.style.strokeNoScale=!0;var T=data.getItemVisual(t,"liftZ"),z=this._z2;null!=T?null==z&&(this._z2=j.z2,j.z2+=T):null!=z&&(j.z2=z,this._z2=null);var R=r&&r.useNameLabel;Object(v.f)(j,O,{labelFetcher:I,labelDataIndex:t,defaultText:function(t){return R?data.getName(t):Object(f.b)(data,t)},inheritColor:N,defaultOpacity:M.opacity}),this._sizeX=e[0]/2,this._sizeY=e[1]/2;var V=j.ensureState("emphasis");V.style=l,j.ensureState("select").style=h,j.ensureState("blur").style=c;var $=null==S||!0===S?Math.max(1.1,3/this._sizeY):isFinite(S)&&S>0?+S:1;V.scaleX=this._sizeX*$,V.scaleY=this._sizeY*$,this.setSymbolScale(1),Object(d.J)(this,x,_,w)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),o=Object(h.a)(this).dataIndex,c=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var d=r.getTextContent();d&&l.d(d,{style:{opacity:0}},e,{dataIndex:o,removeOpt:c,cb:function(){r.removeTextContent()}})}else r.removeTextContent();l.d(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:c})},e.getSymbolSize=function(data,t){return Object(o.c)(data.getItemVisual(t,"symbolSize"))},e}(c.a);function _(t,e){this.parent.drift(t,e)}e.a=x},452:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return c});var r=n(510),o=n(423);function l(data,t){var e=data.mapDimensionsAll("defaultedLabel"),n=e.length;if(1===n){var o=Object(r.e)(data,t,e[0]);return null!=o?o+"":null}if(n){for(var l=[],i=0;i<e.length;i++)l.push(Object(r.e)(data,t,e[i]));return l.join(" ")}}function c(data,t){var e=data.mapDimensionsAll("defaultedLabel");if(!Object(o.t)(t))return t+"";for(var n=[],i=0;i<e.length;i++){var r=data.getDimensionIndex(e[i]);r>=0&&n.push(t[r])}return n.join(" ")}},467:function(t,e,n){"use strict";function r(t,e){return t.type===e}n.d(e,"a",function(){return r})},472:function(t,e,n){"use strict";var r=n(423),o=n(468),l=n(478),c=n(529),h=n(426),d=n(501),f=function(t){this.coordSysDims=[],this.axisMap=Object(r.f)(),this.categoryAxisMap=Object(r.f)(),this.coordSysName=t};var m={cartesian2d:function(t,e,n,r){var o=t.getReferringComponents("xAxis",h.b).models[0],l=t.getReferringComponents("yAxis",h.b).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",l),v(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),v(l)&&(r.set("y",l),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var o=t.getReferringComponents("singleAxis",h.b).models[0];e.coordSysDims=["single"],n.set("single",o),v(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var o=t.getReferringComponents("polar",h.b).models[0],l=o.findAxisModel("radiusAxis"),c=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",c),v(l)&&(r.set("radius",l),e.firstCategoryDimIndex=0),v(c)&&(r.set("angle",c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,o){var l=t.ecModel,c=l.getComponent("parallel",t.get("parallelIndex")),h=e.coordSysDims=c.dimensions.slice();Object(r.k)(c.parallelAxisIndex,function(t,r){var c=l.getComponent("parallelAxis",t),d=h[r];n.set(d,c),v(c)&&(o.set(d,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))})}};function v(t){return"category"===t.get("type")}var y=n(495),x=n(441),_=n(509),w=n(484);e.a=function(t,e,n){n=n||{};var source,v=e.getSourceManager(),O=!1;t?(O=!0,source=Object(y.c)(t)):O=(source=v.getSource()).sourceFormat===w.f;var S=function(t){var e=t.get("coordinateSystem"),n=new f(e),r=m[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}(e),k=function(t,e){var n,o=t.get("coordinateSystem"),l=d.a.get(o);return e&&e.coordSysDims&&(n=r.H(e.coordSysDims,function(t){var n={name:t},r=e.axisMap.get(t);if(r){var o=r.get("type");n.type=Object(c.a)(o)}return n})),n||(n=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]),n}(e,S),j=n.useEncodeDefaulter,I=r.w(j)?j:j?r.h(_.c,k,e):null,C={coordDimensions:k,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:I,canOmitUnusedDimensions:!O},A=Object(l.a)(source,C),D=function(t,e,n){var o,l;return n&&r.k(t,function(t,r){var c=t.coordDim,h=n.categoryAxisMap.get(c);h&&(null==o&&(o=r),t.ordinalMeta=h.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)}),l||null==o||(t[o].otherDims.itemName=0),o}(A.dimensions,n.createInvertedIndices,S),P=O?null:v.getSharedDataStore(A),M=Object(x.a)(e,{schema:A,store:P}),data=new o.a(A,e);data.setCalculationInfo(M);var N=null!=D&&function(source){if(source.sourceFormat===w.f){var t=function(t){var i=0;for(;i<t.length&&null==t[i];)i++;return t[i]}(source.data||[]);return!r.t(Object(h.h)(t))}}(source)?function(t,e,n,r){return r===D?n:this.defaultDimValueGetter(t,e,n,r)}:null;return data.hasItemOption=!1,data.initData(O?source:P,null,N),data}},485:function(t,e,n){"use strict";var r=n(573),o=n(457),l=n(425),c=n(451),h=n(423),d=n(428);function f(data,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==data.getItemVisual(e,"symbol")}function m(t){return null==t||Object(h.A)(t)||(t={isIgnore:t}),t||{}}function v(data){var t=data.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Object(d.d)(t),cursorStyle:t.get("cursor")}}var y=function(){function t(t){this.group=new r.a,this._SymbolCtor=t||c.a}return t.prototype.updateData=function(data,t){this._progressiveEls=null,t=m(t);var e=this.group,n=data.hostModel,r=this._data,l=this._SymbolCtor,c=t.disableAnimation,h=v(data),d={disableAnimation:c},y=t.getSymbolPoint||function(t){return data.getItemLayout(t)};r||e.removeAll(),data.diff(r).add(function(n){var r=y(n);if(f(data,r,n,t)){var o=new l(data,n,h,d);o.setPosition(r),data.setItemGraphicEl(n,o),e.add(o)}}).update(function(m,v){var x=r.getItemGraphicEl(v),_=y(m);if(f(data,_,m,t)){var w=data.getItemVisual(m,"symbol")||"circle",O=x&&x.getSymbolType&&x.getSymbolType();if(!x||O&&O!==w)e.remove(x),(x=new l(data,m,h,d)).setPosition(_);else{x.updateData(data,m,h,d);var S={x:_[0],y:_[1]};c?x.attr(S):o.g(x,S,n)}e.add(x),data.setItemGraphicEl(m,x)}else e.remove(x)}).remove(function(t){var o=r.getItemGraphicEl(t);o&&o.fadeOut(function(){e.remove(o)},n)}).execute(),this._getSymbolPoint=y,this._data=data},t.prototype.updateLayout=function(){var t=this,data=this._data;data&&data.eachItemGraphicEl(function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=v(data),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,data,e){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],e=m(e);for(var r=t.start;r<t.end;r++){var o=data.getItemLayout(r);if(f(data,o,r,e)){var l=new this._SymbolCtor(data,r,this._seriesScope);l.traverse(n),l.setPosition(o),this.group.add(l),data.setItemGraphicEl(r,l),this._progressiveEls.push(l)}}},t.prototype.eachRendered=function(t){l.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,data=this._data;data&&t?data.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},data.hostModel)}):e.removeAll()},t}();e.a=y},506:function(t,e,n){t.exports={}},516:function(t,e,n){"use strict";n.r(e);n(23),n(38);var r=n(6),o=n(462),l=n(595),c=n(668),h=n(545),d=n(827),f=n(656),m=n(658);Object(o.a)([c.a,d.a,f.a,h.a,m.a]);var v=Object(r.b)({name:"Maxdrawdown",props:{values:{type:Array,default:function(){return[1,2,3,4]}},benchmark:{type:Array,default:function(){return[1,2,3,4]}},index:{type:Array,default:function(){return["2020-01-01","2020-02-01","2020-03-01","2020-04-01"]}},height:{type:String,default:"250px"},width:{type:String,default:"100%"}},data:function(){return{chartInstance:null,chartOption:{legend:{bottom:50,left:-5,orient:"vertical"},tooltip:{trigger:"axis",position:function(t){return[t[0]-100,t[1]-100]},axisPointer:{type:"line",snap:!0,axis:"x"},formatter:function(t){for(var e,n=t[0].value[0]+"<br/>",i=0,r=t.length;i<r;i++)e=Math.round(100*t[i].value[1])/100+"%",n+=t[i].marker+t[i].seriesName+"："+e+"<br/>";return n}},grid:{left:0,right:0,top:"12px",bottom:"10px"},xAxis:{type:"time",name:"日期",minorTick:{show:!1},minorSplitLine:{show:!1},axisLabel:{inside:!0},inverval:1},yAxis:{type:"value",name:"下跌幅度",axisLabel:{formatter:"{value}%",inside:!0,position:"right"},show:!0,minorTick:{show:!1},minorSplitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},lineStyle:{width:0},position:"right"},series:[{name:"策略",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(232, 56, 115, 0)"},{offset:1,color:"rgba(232, 56, 115, 1)",alpha:1}],global:!1}},itemStyle:{color:"rgba(232, 56, 115, 0.5)",borderColor:"rgba(232, 56, 115, 0.5)",opacity:0},lineStyle:{color:"rgba(232, 56, 115, 0.5)"}},{name:"大盤",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(209, 204, 204, 0)"},{offset:1,color:"#aaa",alpha:1}],global:!1}},itemStyle:{color:"#aaa",borderColor:"#aaa",opacity:0},lineStyle:{color:"#aaa"}}],backgroundColor:"transparent"}}},watch:{values:{handler:"updateChart",deep:!0},benchmark:{handler:"updateChart",deep:!0},index:{handler:"updateChart",deep:!0}},mounted:function(){var t=this;this.initChart(),this.updateChart(),window.addEventListener("resize",this.resizeChart),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){t.resizeChart()}),this.resizeObserver.observe(this.$refs.chart))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose()},methods:{initChart:function(){this.chartInstance=Object(l.b)(this.$refs.chart,"light")},resizeChart:function(){this.chartInstance&&this.chartInstance.resize()},calDD:function(t){if(!(t&&Array.isArray(t)&&0!==t.length&&this.index&&Array.isArray(this.index)&&0!==this.index.length))return[];var e=[],n=0;for(var i in t)n=Math.max(t[i],n),e.push(t[i]/n);var r=[];for(var o in this.index)r.push([this.index[o],100*e[o]-100]);return r},updateChart:function(){this.values&&Array.isArray(this.values)&&this.values.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[0].data=this.calDD(this.values)),this.benchmark&&Array.isArray(this.benchmark)&&this.benchmark.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[1].data=this.calDD(this.benchmark)),this.chartInstance&&this.chartInstance.setOption(this.chartOption)}}}),y=(n(537),n(52)),component=Object(y.a)(v,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{ref:"chart",staticClass:"chart",style:{height:t.height,width:t.width,zIndex:0}})])},[],!1,null,"5b5fc17b",null);e.default=component.exports},525:function(t,e,n){t.exports={}},537:function(t,e,n){"use strict";n(506)},540:function(t,e,n){"use strict";n.r(e);var r=n(21),o=(n(74),n(429),n(53),n(23),n(6)),l=n(516),c=Object(o.b)({components:{Maxdrawdown:l.default},props:{returns:{default:function(){return{value:[],time:[]}}},benchmark:[],drawdown_details:{default:function(){return{}}},dailyMean:{default:0},max_drawdown:{default:0}},data:function(){return{investCapital:20,investPercentage:80}},computed:{sortedDrawdownDetail:function(){var t=this;return this.drawdown_details&&"object"===Object(r.a)(this.drawdown_details)?Object.keys(this.drawdown_details).sort().reduce(function(e,n){return e[n]=t.drawdown_details[n],e},{}):{}},simulated_maxdrawdown:function(){var t=parseInt(this.investPercentage)*parseInt(this.investCapital)*this.max_drawdown;return Math.round(t/10)/10},simulated_stock_investment:function(){return Math.round(parseInt(this.investCapital)*parseInt(this.investPercentage)/10)/10},simulated_annual_return:function(){return Math.round(parseInt(this.investPercentage)*parseInt(this.investCapital)*this.dailyMean/10)/10}},methods:{drawdownColor:function(t){var e=255-Math.min(255,t/10),n=Math.min(255,e-5);return"background: rgba(".concat(e,", ").concat(n,", 255, 0.5)")}}}),h=(n(552),n(52)),component=Object(h.a)(c,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h5",{staticClass:"uk-margin-large-top uk-text-primary"},[t._v("下跌幅度")]),t._v(" "),t.returns&&t.returns.value&&t.returns.time?e("Maxdrawdown",{attrs:{values:t.returns.value,benchmark:t.benchmark,index:t.returns.time}}):t._e(),t._v(" "),e("h5",{staticClass:"uk-margin-large-top uk-text-primary"},[t._v("歷史最大下跌風險")]),t._v(" "),e("table",{staticClass:"uk-table uk-table-small uk-table-divider"},[t._m(0),t._v(" "),e("tbody",t._l(t.sortedDrawdownDetail,function(n,r){return e("tr",{key:r,style:t.drawdownColor(n.Length)},[e("td",[t._v(t._s(r))]),t._v(" "),e("td",[t._v(t._s(Math.round(1e3*n.drawdown)/10)+"%")]),t._v(" "),e("td",[t._v(t._s(n.Length)+" 天")])])}),0)])],1)},[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("起始時間")]),t._v(" "),e("th",[t._v("虧損程度")]),t._v(" "),e("th",[t._v("時間長度")])])])}],!1,null,"2e0646e6",null);e.default=component.exports;installComponents(component,{Maxdrawdown:n(516).default})},545:function(t,e,n){"use strict";n.d(e,"a",function(){return vt});var r=n(424),o=n(472),l=n(460),c=n(431),h=n(573),d=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(r.a)(e,t),e.prototype.getInitialData=function(option){return Object(o.a)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new h.a,line=Object(c.a)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(line),line.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===n?"circle":n,l=.8*t.itemHeight,symbol=Object(c.a)(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(symbol),symbol.setStyle(t.itemStyle);var d="inherit"===t.iconRotate?r:t.iconRotate||0;return symbol.rotation=d*Math.PI/180,symbol.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(symbol.style.stroke=symbol.style.fill,symbol.style.fill="#fff",symbol.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(l.a),f=d,m=n(423),v=n(485),y=n(451),x=n(441);function _(t,data,e){var n=t.getBaseAxis(),r=t.getOtherAxis(n),o=function(t,e){var n=0,r=t.scale.getExtent();"start"===e?n=r[0]:"end"===e?n=r[1]:Object(m.z)(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(r,e),l=n.dim,c=r.dim,h=data.mapDimension(c),d=data.mapDimension(l),f="x"===c||"radius"===c?1:0,v=Object(m.H)(t.dimensions,function(t){return data.mapDimension(t)}),y=!1,_=data.getCalculationInfo("stackResultDimension");return Object(x.c)(data,v[0])&&(y=!0,v[0]=_),Object(x.c)(data,v[1])&&(y=!0,v[1]=_),{dataDimsForPoint:v,valueStart:o,valueAxisDim:c,baseAxisDim:l,stacked:!!y,valueDim:h,baseDim:d,baseDataOffset:f,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}}function w(t,e,data,n){var r=NaN;t.stacked&&(r=data.get(data.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,l=[];return l[o]=data.get(t.baseDim,n),l[1-o]=r,e.dataToPoint(l)}var O=n(445);var S=n(560),k=n(457),j=n(535),I=n(426),C=n(442),A=n(487),D=n(500),P=Math.min,M=Math.max;function N(t,e){return isNaN(t)||isNaN(e)}function L(t,e,n,r,o,l,c,h,d){for(var f,m,v,y,x,_,w=n,O=0;O<r;O++){var S=e[2*w],k=e[2*w+1];if(w>=o||w<0)break;if(N(S,k)){if(d){w+=l;continue}break}if(w===n)t[l>0?"moveTo":"lineTo"](S,k),v=S,y=k;else{var j=S-f,I=k-m;if(j*j+I*I<.5){w+=l;continue}if(c>0){for(var C=w+l,A=e[2*C],D=e[2*C+1];A===S&&D===k&&O<r;)O++,w+=l,A=e[2*(C+=l)],D=e[2*C+1],j=(S=e[2*w])-f,I=(k=e[2*w+1])-m;var L=O+1;if(d)for(;N(A,D)&&L<r;)L++,A=e[2*(C+=l)],D=e[2*C+1];var T=.5,z=0,R=0,V=void 0,$=void 0;if(L>=r||N(A,D))x=S,_=k;else{z=A-f,R=D-m;var E=S-f,U=A-S,H=k-m,F=D-k,G=void 0,B=void 0;if("x"===h){var X=z>0?1:-1;x=S-X*(G=Math.abs(E))*c,_=k,V=S+X*(B=Math.abs(U))*c,$=k}else if("y"===h){var Y=R>0?1:-1;x=S,_=k-Y*(G=Math.abs(H))*c,V=S,$=k+Y*(B=Math.abs(F))*c}else G=Math.sqrt(E*E+H*H),x=S-z*c*(1-(T=(B=Math.sqrt(U*U+F*F))/(B+G))),_=k-R*c*(1-T),$=k+R*c*T,V=P(V=S+z*c*T,M(A,S)),$=P($,M(D,k)),V=M(V,P(A,S)),_=k-(R=($=M($,P(D,k)))-k)*G/B,x=P(x=S-(z=V-S)*G/B,M(f,S)),_=P(_,M(m,k)),V=S+(z=S-(x=M(x,P(f,S))))*B/G,$=k+(R=k-(_=M(_,P(m,k))))*B/G}t.bezierCurveTo(v,y,x,_,S,k),v=V,y=$}else t.lineTo(S,k)}f=S,m=k,w+=l}return O}var T=function(){this.smooth=0,this.smoothConstraint=!0},z=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(r.a)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new T},e.prototype.buildPath=function(t,e){var n=e.points,i=0,r=n.length/2;if(e.connectNulls){for(;r>0&&N(n[2*r-2],n[2*r-1]);r--);for(;i<r&&N(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=L(t,n,i,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,data=this.path.data,o=A.a.CMD,l="x"===e,c=[],i=0;i<data.length;){var h=void 0,d=void 0,f=void 0,m=void 0,v=void 0,y=void 0,x=void 0;switch(data[i++]){case o.M:n=data[i++],r=data[i++];break;case o.L:if(h=data[i++],d=data[i++],(x=l?(t-n)/(h-n):(t-r)/(d-r))<=1&&x>=0){var _=l?(d-r)*x+r:(h-n)*x+n;return l?[t,_]:[_,t]}n=h,r=d;break;case o.C:h=data[i++],d=data[i++],f=data[i++],m=data[i++],v=data[i++],y=data[i++];var w=l?Object(D.f)(n,h,f,v,t,c):Object(D.f)(r,d,m,y,t,c);if(w>0)for(var O=0;O<w;O++){var S=c[O];if(S<=1&&S>=0){_=l?Object(D.a)(r,d,m,y,S):Object(D.a)(n,h,f,v,S);return l?[t,_]:[_,t]}}n=v,r=y}}},e}(C.b),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.a)(e,t),e}(T),V=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(r.a)(e,t),e.prototype.getDefaultShape=function(){return new R},e.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length/2,l=e.smoothMonotone;if(e.connectNulls){for(;o>0&&N(n[2*o-2],n[2*o-1]);o--);for(;i<o&&N(n[2*i],n[2*i+1]);i++);}for(;i<o;){var c=L(t,n,i,o,o,1,e.smooth,l,e.connectNulls);L(t,r,i+c-1,c,o,-1,e.stackedOnSmooth,l,e.connectNulls),i+=c+1,t.closePath()}},e}(C.b),$=n(458),E=n(647),U=n(843),H=n(427);function F(t,e,n,r,o){var rect=t.getArea(),l=rect.x,c=rect.y,h=rect.width,d=rect.height,f=n.get(["lineStyle","width"])||0;l-=f/2,c-=f/2,h+=f,d+=f,h=Math.ceil(h),l!==Math.floor(l)&&(l=Math.floor(l),h++);var v=new E.a({shape:{x:l,y:c,width:h,height:d}});if(e){var y=t.getBaseAxis(),x=y.isHorizontal(),_=y.inverse;x?(_&&(v.shape.x+=h),v.shape.width=0):(_||(v.shape.y+=d),v.shape.height=0);var w=Object(m.w)(o)?function(t){o(t,v)}:null;k.b(v,{shape:{width:h,height:d,x:l,y:c}},n,null,r,w)}return v}function G(t,e,n){var r=t.getArea(),o=Object(H.s)(r.r0,1),l=Object(H.s)(r.r,1),c=new U.a({shape:{cx:Object(H.s)(t.cx,1),cy:Object(H.s)(t.cy,1),r0:o,r:l,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});e&&("angle"===t.getBaseAxis().dim?c.shape.endAngle=r.startAngle:c.shape.r=o,k.b(c,{shape:{endAngle:r.endAngle,r:l}},n));return c}var B=n(467),X=n(430),Y=n(428),W=n(452),J=n(432),Z=n(463),Q=n(450);function K(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function tt(t){for(var e=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<t.length;){var l=t[i++],c=t[i++];isNaN(l)||(e=Math.min(l,e),r=Math.max(l,r)),isNaN(c)||(n=Math.min(c,n),o=Math.max(c,o))}return[[e,n],[r,o]]}function et(t,e){var n=tt(t),r=n[0],o=n[1],l=tt(e),c=l[0],h=l[1];return Math.max(Math.abs(r[0]-c[0]),Math.abs(r[1]-c[1]),Math.abs(o[0]-h[0]),Math.abs(o[1]-h[1]))}function it(t){return m.z(t)?t:t?.5:0}function nt(t,e,n,r,o){var l=n.getBaseAxis(),c="x"===l.dim||"radius"===l.dim?0:1,h=[],i=0,d=[],f=[],m=[],v=[];if(o){for(i=0;i<t.length;i+=2){var y=e||t;isNaN(y[i])||isNaN(y[i+1])||v.push(t[i],t[i+1])}t=v}for(i=0;i<t.length-2;i+=2)switch(m[0]=t[i+2],m[1]=t[i+3],f[0]=t[i],f[1]=t[i+1],h.push(f[0],f[1]),r){case"end":d[c]=m[c],d[1-c]=f[1-c],h.push(d[0],d[1]);break;case"middle":var x=(f[c]+m[c])/2,_=[];d[c]=_[c]=x,d[1-c]=f[1-c],_[1-c]=m[1-c],h.push(d[0],d[1]),h.push(_[0],_[1]);break;default:d[c]=f[c],d[1-c]=m[1-c],h.push(d[0],d[1])}return h.push(t[i++],t[i++]),h}function at(data,t,e){var n=data.getVisual("visualMeta");if(n&&n.length&&data.count()&&"cartesian2d"===t.type){for(var r,o,i=n.length-1;i>=0;i--){var l=data.getDimensionInfo(n[i].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=n[i];break}}if(o){var c=t.getAxis(r),h=m.H(o.stops,function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}}),d=h.length,f=o.outerColors.slice();d&&h[0].coord>h[d-1].coord&&(h.reverse(),f.reverse());var v=function(t,e){var n,r,o=[],l=t.length;function c(t,e,n){var r=t.coord,p=(n-r)/(e.coord-r);return{coord:n,color:Object(Q.b)(p,[t.color,e.color])}}for(var i=0;i<l;i++){var h=t[i],d=h.coord;if(d<0)n=h;else{if(d>e){r?o.push(c(r,h,e)):n&&o.push(c(n,h,0),c(n,h,e));break}n&&(o.push(c(n,h,0)),n=null),o.push(h),r=h}}return o}(h,"x"===r?e.getWidth():e.getHeight()),y=v.length;if(!y&&d)return h[0].coord<0?f[1]?f[1]:h[d-1].color:f[0]?f[0]:h[0].color;var x=v[0].coord-10,_=v[y-1].coord+10,w=_-x;if(w<.001)return"transparent";m.k(v,function(t){t.offset=(t.coord-x)/w}),v.push({offset:y?v[y-1].offset:.5,color:f[1]||"transparent"}),v.unshift({offset:y?v[0].offset:.5,color:f[0]||"transparent"});var O=new S.a(0,0,0,0,v,!0);return O[r]=x,O[r+"2"]=_,O}}}function st(t,data,e){var n=t.get("showAllSymbol"),r="auto"===n;if(!n||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(t,data){var e=t.getExtent(),n=Math.abs(e[1]-e[0])/t.scale.count();isNaN(n)&&(n=0);for(var r=data.count(),o=Math.max(1,Math.round(r/5)),l=0;l<r;l+=o)if(1.5*y.a.getSymbolSize(data,l)[t.isHorizontal()?1:0]>n)return!1;return!0}(o,data))){var l=data.mapDimension(o.dim),c={};return m.k(o.getViewLabels(),function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);c[e]=1}),function(t){return!c.hasOwnProperty(data.get(l,t))}}}}function ot(t,e){return isNaN(t)||isNaN(e)}function lt(t,e){return[t[2*e],t[2*e+1]]}function ct(t){if(t.get(["endLabel","show"]))return!0;for(var i=0;i<X.g.length;i++)if(t.get([X.g[i],"endLabel","show"]))return!0;return!1}function ut(t,e,n,r){if(Object(B.a)(e,"cartesian2d")){var o=r.getModel("endLabel"),l=o.get("valueAnimation"),c=r.getData(),h={lastFrameIndex:0},d=ct(r)?function(n,r){t._endLabelOnDuring(n,r,c,h,l,o,e)}:null,f=e.getBaseAxis().isHorizontal(),m=F(e,n,r,function(){var e=t._endLabel;e&&n&&null!=h.originalX&&e.attr({x:h.originalX,y:h.originalY})},d);if(!r.get("clip",!0)){var v=m.shape,y=Math.max(v.width,v.height);f?(v.y-=y,v.height+=2*y):(v.x-=y,v.width+=2*y)}return d&&d(1,m),m}return G(e,n,r)}var ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.init=function(){var t=new h.a,e=new v.a;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=m.c(this._changePolyState,this)},e.prototype.render=function(t,e,n){var r=t.coordinateSystem,o=this.group,data=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),h=data.getLayout("points")||[],d="polar"===r.type,f=this._coordSys,v=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,y=this._lineGroup,x=!e.ssr&&t.get("animation"),S=!c.isEmpty(),j=c.get("origin"),I=_(r,data,j),C=S&&function(t,data,e){if(!e.valueDim)return[];for(var n=data.count(),r=Object(O.a)(2*n),o=0;o<n;o++){var l=w(e,t,data,o);r[2*o]=l[0],r[2*o+1]=l[1]}return r}(r,data,I),A=t.get("showSymbol"),D=t.get("connectNulls"),P=A&&!d&&st(t,data,r),M=this._data;M&&M.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),M.setItemGraphicEl(e,null))}),A||v.remove(),o.add(y);var N,L=!d&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(N=r.getArea()).width?(N.x-=.1,N.y-=.1,N.width+=.2,N.height+=.2):N.r0&&(N.r0-=.5,N.r+=.5)),this._clipShapeForSymbol=N;var T=at(data,r,n)||data.getVisual("style")[data.getVisual("drawType")];if(polyline&&f.type===r.type&&L===this._step){S&&!polygon?polygon=this._newPolygon(h,C):polygon&&!S&&(y.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(t,r,Object(Z.b)(T));var z=y.getClipPath();if(z){var R=ut(this,r,!1,t);k.b(z,{shape:R.shape},t)}else y.setClipPath(ut(this,r,!0,t));A&&v.updateData(data,{isIgnore:P,clipShape:N,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),K(this._stackedOnPoints,C)&&K(this._points,h)||(x?this._doUpdateAnimation(data,C,r,n,L,j,D):(L&&(C&&(C=nt(C,h,r,L,D)),h=nt(h,null,r,L,D)),polyline.setShape({points:h}),polygon&&polygon.setShape({points:h,stackedOnPoints:C})))}else A&&v.updateData(data,{isIgnore:P,clipShape:N,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),x&&this._initSymbolLabelAnimation(data,r,N),L&&(C&&(C=nt(C,h,r,L,D)),h=nt(h,null,r,L,D)),polyline=this._newPolyline(h),S?polygon=this._newPolygon(h,C):polygon&&(y.remove(polygon),polygon=this._polygon=null),d||this._initOrUpdateEndLabel(t,r,Object(Z.b)(T)),y.setClipPath(ut(this,r,!0,t));var V=t.getModel("emphasis"),$=V.get("focus"),E=V.get("blurScope"),U=V.get("disabled");(polyline.useStyle(m.i(l.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),Object(X.I)(polyline,t,"lineStyle"),polyline.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(polyline.getState("emphasis").style.lineWidth=+polyline.style.lineWidth+1);Object(J.a)(polyline).seriesIndex=t.seriesIndex,Object(X.J)(polyline,$,E,U);var H=it(t.get("smooth")),F=t.get("smoothMonotone");if(polyline.setShape({smooth:H,smoothMonotone:F,connectNulls:D}),polygon){var G=data.getCalculationInfo("stackedOnSeries"),B=0;polygon.useStyle(m.i(c.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:data.getVisual("style").decal})),G&&(B=it(G.get("smooth"))),polygon.setShape({smooth:H,stackedOnSmooth:B,smoothMonotone:F,connectNulls:D}),Object(X.I)(polygon,t,"areaStyle"),Object(J.a)(polygon).seriesIndex=t.seriesIndex,Object(X.J)(polygon,$,E,U)}var Y=this._changePolyState;data.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=Y)}),this._polyline.onHoverStateChange=Y,this._data=data,this._coordSys=r,this._stackedOnPoints=C,this._points=h,this._step=L,this._valueOrigin=j,t.get("triggerLineEvent")&&(this.packEventData(t,polyline),polygon&&this.packEventData(t,polygon))},e.prototype.packEventData=function(t,e){Object(J.a)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,r){var data=t.getData(),o=I.t(data,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var l=data.getLayout("points"),symbol=data.getItemGraphicEl(o);if(!symbol){var c=l[2*o],h=l[2*o+1];if(isNaN(c)||isNaN(h))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var d=t.get("zlevel")||0,f=t.get("z")||0;(symbol=new y.a(data,o)).x=c,symbol.y=h,symbol.setZ(d,f);var m=symbol.getSymbolPath().getTextContent();m&&(m.zlevel=d,m.z=f,m.z2=this._polyline.z2+1),symbol.__temp=!0,data.setItemGraphicEl(o,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else $.a.prototype.highlight.call(this,t,e,n,r)},e.prototype.downplay=function(t,e,n,r){var data=t.getData(),o=I.t(data,r);if(this._changePolyState("normal"),null!=o&&o>=0){var symbol=data.getItemGraphicEl(o);symbol&&(symbol.__temp?(data.setItemGraphicEl(o,null),this.group.remove(symbol)):symbol.downplay())}else $.a.prototype.downplay.call(this,t,e,n,r)},e.prototype._changePolyState=function(t){var polygon=this._polygon;Object(X.H)(this._polyline,t),polygon&&Object(X.H)(polygon,t)},e.prototype._newPolyline=function(t){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new z({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},e.prototype._newPolygon=function(t,e){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new V({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},e.prototype._initSymbolLabelAnimation=function(data,t,e){var n,r,o=t.getBaseAxis(),l=o.inverse;"cartesian2d"===t.type?(n=o.isHorizontal(),r=!1):"polar"===t.type&&(n="angle"===o.dim,r=!0);var c=data.hostModel,h=c.get("animationDuration");m.w(h)&&(h=h(null));var d=c.get("animationDelay")||0,f=m.w(d)?d(null):d;data.eachItemGraphicEl(function(symbol,o){var c=symbol;if(c){var v=[symbol.x,symbol.y],y=void 0,x=void 0,_=void 0;if(e)if(r){var w=e,O=t.pointToCoord(v);n?(y=w.startAngle,x=w.endAngle,_=-O[1]/180*Math.PI):(y=w.r0,x=w.r,_=O[0])}else{var S=e;n?(y=S.x,x=S.x+S.width,_=symbol.x):(y=S.y+S.height,x=S.y,_=symbol.y)}var k=x===y?0:(_-y)/(x-y);l&&(k=1-k);var j=m.w(d)?d(o):h*k+f,I=c.getSymbolPath(),text=I.getTextContent();c.attr({scaleX:0,scaleY:0}),c.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:j}),text&&text.animateFrom({style:{opacity:0}},{duration:300,delay:j}),I.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,e,n){var r=t.getModel("endLabel");if(ct(t)){var o=t.getData(),polyline=this._polyline,l=o.getLayout("points");if(!l)return polyline.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new j.a({z2:200})).ignoreClip=!0,polyline.setTextContent(this._endLabel),polyline.disableLabelAnimation=!0);var h=function(t){for(var e=t.length/2;e>0&&ot(t[2*e-2],t[2*e-1]);e--);return e-1}(l);h>=0&&(Object(Y.f)(polyline,Object(Y.d)(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:h,defaultText:function(t,e,n){return null!=n?Object(W.a)(o,n):Object(W.b)(o,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),o=n.inverse,l=r?o?"right":"left":"center",c=r?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||l,verticalAlign:t.get("verticalAlign")||c}}}(r,e)),polyline.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,data,n,r,o,l){var c=this._endLabel,polyline=this._polyline;if(c){t<1&&null==n.originalX&&(n.originalX=c.x,n.originalY=c.y);var h=data.getLayout("points"),d=data.hostModel,f=d.get("connectNulls"),m=o.get("precision"),v=o.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),_=y.inverse,w=e.shape,O=_?x?w.x:w.y+w.height:x?w.x+w.width:w.y,S=(x?v:0)*(_?-1:1),k=(x?0:-v)*(_?-1:1),j=x?"x":"y",C=function(t,e,n){for(var a,b,r=t.length/2,o="x"===n?0:1,l=0,c=-1,i=0;i<r;i++)if(b=t[2*i+o],!isNaN(b)&&!isNaN(t[2*i+1-o]))if(0!==i){if(a<=e&&b>=e||a>=e&&b<=e){c=i;break}l=i,a=b}else a=b;return{range:[l,c],t:(e-a)/(b-a)}}(h,O,j),A=C.range,D=A[1]-A[0],P=void 0;if(D>=1){if(D>1&&!f){var M=lt(h,A[0]);c.attr({x:M[0]+S,y:M[1]+k}),r&&(P=d.getRawValue(A[0]))}else{(M=polyline.getPointOn(O,j))&&c.attr({x:M[0]+S,y:M[1]+k});var N=d.getRawValue(A[0]),L=d.getRawValue(A[1]);r&&(P=I.j(data,m,N,L,C.t))}n.lastFrameIndex=A[0]}else{var T=1===t||n.lastFrameIndex>0?A[0]:0;M=lt(h,T);r&&(P=d.getRawValue(T)),c.attr({x:M[0]+S,y:M[1]+k})}if(r){var z=Object(Y.e)(c);"function"==typeof z.setLabelText&&z.setLabelText(P)}}},e.prototype._doUpdateAnimation=function(data,t,e,n,r,o,l){var polyline=this._polyline,polygon=this._polygon,c=data.hostModel,h=function(t,e,n,r,o,l,c){for(var h=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),d=[],f=[],m=[],v=[],y=[],x=[],S=[],k=_(o,e,c),j=t.getLayout("points")||[],I=e.getLayout("points")||[],i=0;i<h.length;i++){var C=h[i],A=!0,D=void 0,P=void 0;switch(C.cmd){case"=":D=2*C.idx,P=2*C.idx1;var M=j[D],N=j[D+1],L=I[P],T=I[P+1];(isNaN(M)||isNaN(N))&&(M=L,N=T),d.push(M,N),f.push(L,T),m.push(n[D],n[D+1]),v.push(r[P],r[P+1]),S.push(e.getRawIndex(C.idx1));break;case"+":var z=C.idx,R=k.dataDimsForPoint,V=o.dataToPoint([e.get(R[0],z),e.get(R[1],z)]);P=2*z,d.push(V[0],V[1]),f.push(I[P],I[P+1]);var $=w(k,o,e,z);m.push($[0],$[1]),v.push(r[P],r[P+1]),S.push(e.getRawIndex(z));break;case"-":A=!1}A&&(y.push(C),x.push(x.length))}x.sort(function(a,b){return S[a]-S[b]});var E=d.length,U=Object(O.a)(E),H=Object(O.a)(E),F=Object(O.a)(E),G=Object(O.a)(E),B=[];for(i=0;i<x.length;i++){var X=x[i],Y=2*i,W=2*X;U[Y]=d[W],U[Y+1]=d[W+1],H[Y]=f[W],H[Y+1]=f[W+1],F[Y]=m[W],F[Y+1]=m[W+1],G[Y]=v[W],G[Y+1]=v[W+1],B[i]=y[X]}return{current:U,next:H,stackedOnCurrent:F,stackedOnNext:G,status:B}}(this._data,data,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=h.current,f=h.stackedOnCurrent,m=h.next,v=h.stackedOnNext;if(r&&(f=nt(h.stackedOnCurrent,h.current,e,r,l),d=nt(h.current,null,e,r,l),v=nt(h.stackedOnNext,h.next,e,r,l),m=nt(h.next,null,e,r,l)),et(d,m)>3e3||polygon&&et(f,v)>3e3)return polyline.stopAnimation(),polyline.setShape({points:m}),void(polygon&&(polygon.stopAnimation(),polygon.setShape({points:m,stackedOnPoints:v})));polyline.shape.__points=h.current,polyline.shape.points=d;var y={shape:{points:m}};h.current!==d&&(y.shape.__points=h.next),polyline.stopAnimation(),k.g(polyline,y,c),polygon&&(polygon.setShape({points:d,stackedOnPoints:f}),polygon.stopAnimation(),k.g(polygon,{shape:{stackedOnPoints:v}},c),polyline.shape.points!==polygon.shape.points&&(polygon.shape.points=polyline.shape.points));for(var x=[],S=h.status,i=0;i<S.length;i++){if("="===S[i].cmd){var j=data.getItemGraphicEl(S[i].idx1);j&&x.push({el:j,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during(function(){polygon&&polygon.dirtyShape();for(var t=polyline.shape.__points,i=0;i<x.length;i++){var e=x[i].el,n=2*x[i].ptIdx;e.x=t[n],e.y=t[n+1],e.markRedraw()}})},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}($.a),pt=ht,ft=n(527);var gt={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},mt=function(t){return Math.round(t.length/2)};function vt(t){var e;t.registerChartView(pt),t.registerSeriesModel(f),t.registerLayout((e=!0,{seriesType:"line",plan:Object(ft.a)(),reset:function(t){var data=t.getData(),n=t.coordinateSystem,r=t.pipelineContext,o=e||r.large;if(n){var l=Object(m.H)(n.dimensions,function(t){return data.mapDimension(t)}).slice(0,2),c=l.length,h=data.getCalculationInfo("stackResultDimension");Object(x.c)(data,l[0])&&(l[0]=h),Object(x.c)(data,l[1])&&(l[1]=h);var d=data.getStore(),f=data.getDimensionIndex(l[0]),v=data.getDimensionIndex(l[1]);return c&&{progress:function(t,data){for(var e=t.end-t.start,r=o&&Object(O.a)(e*c),l=[],h=[],i=t.start,m=0;i<t.end;i++){var y=void 0;if(1===c){var x=d.get(f,i);y=n.dataToPoint(x,null,h)}else l[0]=d.get(f,i),l[1]=d.get(v,i),y=n.dataToPoint(l,null,h);o?(r[m++]=y[0],r[m++]=y[1]):data.setItemLayout(i,y.slice())}o&&data.setLayout("points",r)}}}}})),t.registerVisual({seriesType:"line",reset:function(t){var data=t.getData(),e=t.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=data.getVisual("style").fill),data.setVisual("legendLineStyle",e)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t){return{seriesType:t,reset:function(t,e,n){var data=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,l=data.count();if(l>10&&"cartesian2d"===o.type&&r){var c=o.getBaseAxis(),h=o.getOtherAxis(c),d=c.getExtent(),f=n.getDevicePixelRatio(),v=Math.abs(d[1]-d[0])*(f||1),y=Math.round(l/v);if(isFinite(y)&&y>1){"lttb"===r?t.setData(data.lttbDownSample(data.mapDimension(h.dim),1/y)):"minmax"===r&&t.setData(data.minmaxDownSample(data.mapDimension(h.dim),1/y));var x=void 0;Object(m.C)(r)?x=gt[r]:Object(m.w)(r)&&(x=r),x&&t.setData(data.downSample(data.mapDimension(h.dim),1/y,x,mt))}}}}}("line"))}},552:function(t,e,n){"use strict";n(525)},634:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(53),n(23),n(44),n(40),n(56),n(38),n(717),n(718),n(282);function r(t){var e=t.sid,n=(t.uid,new URL("https://asia-east1-fdata-299302.cloudfunctions.net/social-image"));return Object.keys(t).forEach(function(e){t[e]&&n.searchParams.set(e,t[e])}),[{hid:"twitter:title",name:"twitter:title",content:e},{hid:"twitter:site",name:"twitter:site",content:"finlab"},{hid:"twitter:image",name:"twitter:image",content:n.toString()},{hid:"og:title",property:"og:title",content:e},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:image",property:"og:image",content:n.toString()},{hid:"og:image:width",property:"og:image:width",content:"1200"},{hid:"og:image:height",property:"og:image:height",content:"630"}]}},668:function(t,e,n){"use strict";n.d(e,"a",function(){return Ft});var r=n(473),o=n(442),l=n(438),c=n(481),h=n(558),d=Math.sin,f=Math.cos,m=Math.PI,v=2*Math.PI,y=180/m,x=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,r,o,l){this._add("C",t,e,n,r,o,l)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},t.prototype.arc=function(t,e,n,r,o,l){this.ellipse(t,e,n,n,0,r,o,l)},t.prototype.ellipse=function(t,e,n,o,l,c,h,x){var _=h-c,w=!x,O=Math.abs(_),S=Object(r.j)(O-v)||(w?_>=v:-_>=v),k=_>0?_%v:_%v+v,j=!1;j=!!S||!Object(r.j)(O)&&k>=m==!!w;var I=t+n*f(c),C=e+o*d(c);this._start&&this._add("M",I,C);var A=Math.round(l*y);if(S){var p=1/this._p,D=(w?1:-1)*(v-p);this._add("A",n,o,A,1,+w,t+n*f(c+D),e+o*d(c+D)),p>.01&&this._add("A",n,o,A,0,+w,I,C)}else{var P=t+n*f(h),M=e+o*d(h);this._add("A",n,o,A,+j,+w,P,M)}},t.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,a,b,e,n,r,o,g,l){for(var c=[],p=this._p,i=1;i<arguments.length;i++){var h=arguments[i];if(isNaN(h))return void(this._invalid=!0);c.push(Math.round(h*p)/p)}this._d.push(t+c.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),_=x,w=n(591),O=n(423),S="none",k=Math.round;var j=["lineCap","miterLimit","lineJoin"],I=Object(O.H)(j,function(t){return"stroke-"+t.toLowerCase()});function C(t,style,e,n){var c=null==style.opacity?1:style.opacity;if(e instanceof l.a)t("opacity",c);else{if(function(style){var t=style.fill;return null!=t&&t!==S}(style)){var h=Object(r.p)(style.fill);t("fill",h.color);var d=null!=style.fillOpacity?style.fillOpacity*h.opacity*c:h.opacity*c;(n||d<1)&&t("fill-opacity",d)}else t("fill",S);if(function(style){var t=style.stroke;return null!=t&&t!==S}(style)){var f=Object(r.p)(style.stroke);t("stroke",f.color);var m=style.strokeNoScale?e.getLineScale():1,v=m?(style.lineWidth||0)/m:0,y=null!=style.strokeOpacity?style.strokeOpacity*f.opacity*c:f.opacity*c,x=style.strokeFirst;if((n||1!==v)&&t("stroke-width",v),(n||x)&&t("paint-order",x?"stroke":"fill"),(n||y<1)&&t("stroke-opacity",y),style.lineDash){var _=Object(w.a)(e),O=_[0],C=_[1];O&&(C=k(C||0),t("stroke-dasharray",O.join(",")),(C||n)&&t("stroke-dashoffset",C))}else n&&t("stroke-dasharray",S);for(var i=0;i<j.length;i++){var A=j[i];if(n||style[A]!==o.a[A]){var D=style[A]||o.a[A];D&&t(I[i],D)}}}else n&&t("stroke",S)}}var A=n(556),D="http://www.w3.org/2000/svg",P="http://www.w3.org/1999/xlink",M="ecmeta_";function N(t){return document.createElementNS(D,t)}function L(t,e,n,r,text){return{tag:t,attrs:n||{},children:r,text:text,key:e}}function T(t,e){var n=(e=e||{}).newline?"\n":"";return function t(e){var r=e.children,o=e.tag,l=e.attrs,text=e.text;return function(t,e){var n=[];if(e)for(var r in e){var o=e[r],l=r;!1!==o&&(!0!==o&&null!=o&&(l+='="'+o+'"'),n.push(l))}return"<"+t+" "+n.join(" ")+">"}(o,l)+("style"!==o?Object(A.a)(text):text||"")+(r?""+n+Object(O.H)(r,function(e){return t(e)}).join(n)+n:"")+("</"+o+">")}(t)}function z(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function R(t,e,n,r){return L("svg","root",{width:t,height:e,xmlns:D,"xmlns:xlink":P,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+t+" "+e},n)}var V=n(575),$=n(543),E=n(487),U=n(576),H=n(572),F=0;function G(){return F++}var B={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},X="transform-origin";function Y(t,e,path){var n=Object(O.m)({},t.shape);Object(O.m)(n,e),t.buildPath(path,n);var o=new _;return o.reset(Object(r.f)(t)),path.rebuildPath(o,1),o.generateStr(),o.getStr()}function W(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[X]=n+"px "+r+"px")}var J={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Z(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function Q(t){return Object(O.C)(t)?B[t]?"cubic-bezier("+B[t]+")":Object(H.a)(t)?t:"":""}function K(t,e,n,o){var l=t.animators,c=l.length,h=[];if(t instanceof U.a){var d=function(t,e,n){var r,o,l=t.shape.paths,c={};if(Object(O.k)(l,function(path){var t=z(n.zrId);t.animation=!0,K(path,{},t,!0);var e=t.cssAnims,l=t.cssNodes,h=Object(O.F)(e),d=h.length;if(d){var f=e[o=h[d-1]];for(var m in f){var v=f[m];c[m]=c[m]||{d:""},c[m].d+=v.d||""}for(var y in l){var x=l[y].animation;x.indexOf(o)>=0&&(r=x)}}}),r){e.d=!1;var h=Z(c,n);return r.replace(o,h)}}(t,e,n);if(d)h.push(d);else if(!c)return}else if(!c)return;for(var f={},i=0;i<c;i++){var m=l[i],v=[m.getMaxTime()/1e3+"s"],y=Q(m.getClip().easing),x=m.getDelay();y?v.push(y):v.push("linear"),x&&v.push(x/1e3+"s"),m.getLoop()&&v.push("infinite");var _=v.join(" ");f[_]=f[_]||[_,[]],f[_][1].push(m)}function w(l){var path,c=l[1],h=c.length,d={},f={},m={},v="animation-timing-function";function y(t,e,n){for(var r=t.getTracks(),o=t.getMaxTime(),l=0;l<r.length;l++){var track=r[l];if(track.needsAnimate()){var c=track.keyframes,h=track.propName;if(n&&(h=n(h)),h)for(var i=0;i<c.length;i++){var d=c[i],f=Math.round(d.time/o*100)+"%",m=Q(d.easing),y=d.rawValue;(Object(O.C)(y)||Object(O.z)(y))&&(e[f]=e[f]||{},e[f][h]=d.rawValue,m&&(e[f][v]=m))}}}}for(var i=0;i<h;i++){(D=(A=c[i]).targetName)?"shape"===D&&y(A,f):!o&&y(A,d)}for(var x in d){var _={};Object($.b)(_,t),Object(O.m)(_,d[x]);var w=Object(r.g)(_),S=d[x][v];m[x]=w?{transform:w}:{},W(m[x],_),S&&(m[x][v]=S)}var k=!0;for(var x in f){m[x]=m[x]||{};var j=!path;S=f[x][v];j&&(path=new E.a);var I=path.len();path.reset(),m[x].d=Y(t,f[x],path);var C=path.len();if(!j&&I!==C){k=!1;break}S&&(m[x][v]=S)}if(!k)for(var x in m)delete m[x].d;if(!o)for(i=0;i<h;i++){var A,D;"style"===(D=(A=c[i]).targetName)&&y(A,m,function(t){return J[t]})}var P,M=Object(O.F)(m),N=!0;for(i=1;i<M.length;i++){var L=M[i-1],T=M[i];if(m[L][X]!==m[T][X]){N=!1;break}P=m[L][X]}if(N&&P){for(var x in m)m[x][X]&&delete m[x][X];e[X]=P}if(Object(O.n)(M,function(t){return Object(O.F)(m[t]).length>0}).length)return Z(m,n)+" "+l[0]+" both"}for(var S in f){(d=w(f[S]))&&h.push(d)}if(h.length){var k=n.zrId+"-cls-"+G();n.cssNodes["."+k]={animation:h.join(",")},e.class=k}}var tt=n(535),et=n(493),it=n(450);function nt(style,t,e,n){var r=JSON.stringify(style),o=e.cssStyleCache[r];o||(o=e.zrId+"-cls-"+G(),e.cssStyleCache[r]=o,e.cssNodes["."+o+(n?":hover":"")]=style),t.class=t.class?t.class+" "+o:o}var at=n(586),st=Math.round;function ot(t){return t&&Object(O.C)(t.src)}function lt(t){return t&&Object(O.w)(t.toDataURL)}function ct(t,style,e,n){C(function(o,l){var c="fill"===o||"stroke"===o;c&&Object(r.k)(l)?xt(style,t,o,n):c&&Object(r.n)(l)?_t(e,t,o,n):t[o]=l,c&&n.ssr&&"none"===l&&(t["pointer-events"]="visible")},style,e,!1),function(t,e,n){var style=t.style;if(Object(r.i)(style)){var o=Object(r.h)(t),l=n.shadowCache,c=l[o];if(!c){var h=t.getGlobalScale(),d=h[0],f=h[1];if(!d||!f)return;var m=style.shadowOffsetX||0,v=style.shadowOffsetY||0,y=style.shadowBlur,x=Object(r.p)(style.shadowColor),_=x.opacity,w=x.color,O=y/2/d+" "+y/2/f;c=n.zrId+"-s"+n.shadowIdx++,n.defs[c]=L("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[L("feDropShadow","",{dx:m/d,dy:v/f,stdDeviation:O,"flood-color":w,"flood-opacity":_})]),l[o]=c}e.filter=Object(r.d)(c)}}(e,t,n)}function ut(t,e){var n=Object(at.a)(e);n&&(n.each(function(e,n){null!=e&&(t[(M+n).toLowerCase()]=e+"")}),e.isSilent()&&(t[M+"silent"]="true"))}function ht(t){return Object(r.j)(t[0]-1)&&Object(r.j)(t[1])&&Object(r.j)(t[2])&&Object(r.j)(t[3]-1)}function pt(t,e,n){if(e&&(!function(t){return Object(r.j)(t[4])&&Object(r.j)(t[5])}(e)||!ht(e))){var o=n?10:1e4;t.transform=ht(e)?"translate("+st(e[4]*o)/o+" "+st(e[5]*o)/o+")":Object(r.e)(e)}}function ft(t,e,n){for(var r=t.points,o=[],i=0;i<r.length;i++)o.push(st(r[i][0]*n)/n),o.push(st(r[i][1]*n)/n);e.points=o.join(" ")}function gt(t){return!t.smooth}var desc,mt,vt={circle:[(desc=["cx","cy","r"],mt=Object(O.H)(desc,function(t){return"string"==typeof t?[t,t]:t}),function(t,e,n){for(var i=0;i<mt.length;i++){var r=mt[i],o=t[r[0]];null!=o&&(e[r[1]]=st(o*n)/n)}})],polyline:[ft,gt],polygon:[ft,gt]};function yt(t,e){var style=t.style,n=t.shape,o=vt[t.type],l={},c=e.animation,h="path",d=t.style.strokePercent,f=e.compress&&Object(r.f)(t)||4;if(!o||e.willUpdate||o[1]&&!o[1](n)||c&&function(t){for(var e=t.animators,i=0;i<e.length;i++)if("shape"===e[i].targetName)return!0;return!1}(t)||d<1){var m=!t.path||t.shapeChanged();t.path||t.createPathProxy();var path=t.path;m&&(path.beginPath(),t.buildPath(path,t.shape),t.pathUpdated());var v=path.getVersion(),y=t,x=y.__svgPathBuilder;y.__svgPathVersion===v&&x&&d===y.__svgPathStrokePercent||(x||(x=y.__svgPathBuilder=new _),x.reset(f),path.rebuildPath(x,d),x.generateStr(),y.__svgPathVersion=v,y.__svgPathStrokePercent=d),l.d=x.getStr()}else{h=t.type;var w=Math.pow(10,f);o[0](n,l,w)}return pt(l,t.transform),ct(l,style,t,e),ut(l,t),e.animation&&K(t,l,e),e.emphasis&&function(t,e,n){if(!t.ignore)if(t.isSilent())nt(style={"pointer-events":"none"},e,n,!0);else{var r=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},o=r.fill;if(!o){var l=t.style&&t.style.fill,c=t.states.select&&t.states.select.style&&t.states.select.style.fill,h=t.currentStates.indexOf("select")>=0&&c||l;h&&(o=Object(it.c)(h))}var d=r.lineWidth;d&&(d/=!r.strokeNoScale&&t.transform?t.transform[0]:1);var style={cursor:"pointer"};o&&(style.fill=o),r.stroke&&(style.stroke=r.stroke),d&&(style["stroke-width"]=d),nt(style,e,n,!0)}}(t,l,e),L(h,t.id+"",l)}function bt(t,e){return t instanceof o.b?yt(t,e):t instanceof l.a?function(t,e){var style=t.style,image=style.image;if(image&&!Object(O.C)(image)&&(ot(image)?image=image.src:lt(image)&&(image=image.toDataURL())),image){var n=style.x||0,r=style.y||0,o={href:image,width:style.width,height:style.height};return n&&(o.x=n),r&&(o.y=r),pt(o,t.transform),ct(o,style,t,e),ut(o,t),e.animation&&K(t,o,e),L("image",t.id+"",o)}}(t,e):t instanceof h.a?function(t,e){var style=t.style,text=style.text;if(null!=text&&(text+=""),text&&!isNaN(style.x)&&!isNaN(style.y)){var n=style.font||et.a,o=style.x||0,l=Object(r.b)(style.y||0,Object(c.e)(n),style.textBaseline),h={"dominant-baseline":"central","text-anchor":r.a[style.textAlign]||style.textAlign};if(Object(tt.b)(style)){var d="",f=style.fontStyle,m=Object(tt.c)(style.fontSize);if(!parseFloat(m))return;var v=style.fontFamily||et.b,y=style.fontWeight;d+="font-size:"+m+";font-family:"+v+";",f&&"normal"!==f&&(d+="font-style:"+f+";"),y&&"normal"!==y&&(d+="font-weight:"+y+";"),h.style=d}else h.style="font: "+n;return text.match(/\s/)&&(h["xml:space"]="preserve"),o&&(h.x=o),l&&(h.y=l),pt(h,t.transform),ct(h,style,t,e),ut(h,t),e.animation&&K(t,h,e),L("text",t.id+"",h,void 0,text)}}(t,e):void 0}function xt(style,t,e,n){var o,l=style[e],c={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(r.m)(l))o="linearGradient",c.x1=l.x,c.y1=l.y,c.x2=l.x2,c.y2=l.y2;else{if(!Object(r.o)(l))return void 0;o="radialGradient",c.cx=Object(O.P)(l.x,.5),c.cy=Object(O.P)(l.y,.5),c.r=Object(O.P)(l.r,.5)}for(var h=l.colorStops,d=[],i=0,f=h.length;i<f;++i){var m=100*Object(r.q)(h[i].offset)+"%",v=h[i].color,y=Object(r.p)(v),x=y.color,_=y.opacity,w={offset:m};w["stop-color"]=x,_<1&&(w["stop-opacity"]=_),d.push(L("stop",i+"",w))}var S=T(L(o,"",c,d)),k=n.gradientCache,j=k[S];j||(j=n.zrId+"-g"+n.gradientIdx++,k[S]=j,c.id=j,n.defs[j]=L(o,j,c,d)),t[e]=Object(r.d)(j)}function _t(t,e,n,o){var l,c=t.style[n],h=t.getBoundingRect(),d={},f=c.repeat,m="no-repeat"===f,v="repeat-x"===f,y="repeat-y"===f;if(Object(r.l)(c)){var x=c.imageWidth,_=c.imageHeight,w=void 0,S=c.image;if(Object(O.C)(S)?w=S:ot(S)?w=S.src:lt(S)&&(w=S.toDataURL()),"undefined"==typeof Image){var k="Image width/height must been given explictly in svg-ssr renderer.";Object(O.b)(x,k),Object(O.b)(_,k)}else if(null==x||null==_){var j=function(t,img){if(t){var e=t.elm,n=x||img.width,r=_||img.height;"pattern"===t.tag&&(v?(r=1,n/=h.width):y&&(n=1,r/=h.height)),t.attrs.width=n,t.attrs.height=r,e&&(e.setAttribute("width",n),e.setAttribute("height",r))}},I=Object(V.a)(w,null,t,function(img){m||j(P,img),j(l,img)});I&&I.width&&I.height&&(x=x||I.width,_=_||I.height)}l=L("image","img",{href:w,width:x,height:_}),d.width=x,d.height=_}else c.svgElement&&(l=Object(O.d)(c.svgElement),d.width=c.svgWidth,d.height=c.svgHeight);if(l){var C,A;m?C=A=1:v?(A=1,C=d.width/h.width):y?(C=1,A=d.height/h.height):d.patternUnits="userSpaceOnUse",null==C||isNaN(C)||(d.width=C),null==A||isNaN(A)||(d.height=A);var D=Object(r.g)(c);D&&(d.patternTransform=D);var P=L("pattern","",d,[l]),M=T(P),N=o.patternCache,z=N[M];z||(z=o.zrId+"-p"+o.patternIdx++,N[M]=z,d.id=z,P=o.defs[z]=L("pattern",z,d,[l])),e[n]=Object(r.d)(z)}}function wt(t,e,n){var o=n.clipPathCache,defs=n.defs,l=o[t.id];if(!l){var c={id:l=n.zrId+"-c"+n.clipPathIdx++};o[t.id]=l,defs[l]=L("clipPath",l,c,[yt(t,n)])}e["clip-path"]=Object(r.d)(l)}function Ot(text){return document.createTextNode(text)}function St(t,e,n){t.insertBefore(e,n)}function kt(t,e){t.removeChild(e)}function jt(t,e){t.appendChild(e)}function It(t){return t.parentNode}function Ct(t){return t.nextSibling}function At(t,text){t.textContent=text}var Dt=L("","");function Pt(s){return void 0===s}function Mt(s){return void 0!==s}function Nt(t,e,n){for(var map={},i=e;i<=n;++i){var r=t[i].key;void 0!==r&&(map[r]=i)}return map}function Lt(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function Tt(t){var i,e=t.children,n=t.tag;if(Mt(n)){var r=t.elm=N(n);if(Vt(Dt,t),Object(O.t)(e))for(i=0;i<e.length;++i){var o=e[i];null!=o&&jt(r,Tt(o))}else Mt(t.text)&&!Object(O.A)(t.text)&&jt(r,Ot(t.text))}else t.elm=Ot(t.text);return t.elm}function zt(t,e,n,r,o){for(;r<=o;++r){var l=n[r];null!=l&&St(t,Tt(l),e)}}function Rt(t,e,n,r){for(;n<=r;++n){var o=e[n];if(null!=o)if(Mt(o.tag))kt(It(o.elm),o.elm);else kt(t,o.elm)}}function Vt(t,e){var n,r=e.elm,o=t&&t.attrs||{},l=e.attrs||{};if(o!==l){for(n in l){var c=l[n];o[n]!==c&&(!0===c?r.setAttribute(n,""):!1===c?r.removeAttribute(n):"style"===n?r.style.cssText=c:120!==n.charCodeAt(0)?r.setAttribute(n,c):"xmlns:xlink"===n||"xmlns"===n?r.setAttributeNS("http://www.w3.org/2000/xmlns/",n,c):58===n.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,c):58===n.charCodeAt(5)?r.setAttributeNS(P,n,c):r.setAttribute(n,c))}for(n in o)n in l||r.removeAttribute(n)}}function $t(t,e){var n=e.elm=t.elm,r=t.children,o=e.children;t!==e&&(Vt(t,e),Pt(e.text)?Mt(r)&&Mt(o)?r!==o&&function(t,e,n){for(var r,o,l,c=0,h=0,d=e.length-1,f=e[0],m=e[d],v=n.length-1,y=n[0],x=n[v];c<=d&&h<=v;)null==f?f=e[++c]:null==m?m=e[--d]:null==y?y=n[++h]:null==x?x=n[--v]:Lt(f,y)?($t(f,y),f=e[++c],y=n[++h]):Lt(m,x)?($t(m,x),m=e[--d],x=n[--v]):Lt(f,x)?($t(f,x),St(t,f.elm,Ct(m.elm)),f=e[++c],x=n[--v]):Lt(m,y)?($t(m,y),St(t,m.elm,f.elm),m=e[--d],y=n[++h]):(Pt(r)&&(r=Nt(e,c,d)),Pt(o=r[y.key])||(l=e[o]).tag!==y.tag?St(t,Tt(y),f.elm):($t(l,y),e[o]=void 0,St(t,l.elm,f.elm)),y=n[++h]);(c<=d||h<=v)&&(c>d?zt(t,null==n[v+1]?null:n[v+1].elm,n,h,v):Rt(t,e,c,d))}(n,r,o):Mt(o)?(Mt(t.text)&&At(n,""),zt(n,null,o,0,o.length-1)):Mt(r)?Rt(n,r,0,r.length-1):Mt(t.text)&&At(n,""):t.text!==e.text&&(Mt(r)&&Rt(n,r,0,r.length-1),At(n,e.text)))}var Et=n(561),Ut=0;var Ht=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=e,this._opts=n=Object(O.m)({},n),this.root=t,this._id="zr"+Ut++,this._oldVNode=R(n.width,n.height),t&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=N("svg");Vt(null,this._oldVNode),r.appendChild(o),t.appendChild(r)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(Lt(t,e))$t(t,e);else{var n=t.elm,r=It(n);Tt(e),null!==r&&(St(r,e.elm,Ct(n)),Rt(r,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return bt(t,z(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,o=this._height,l=z(this._id);l.animation=t.animation,l.willUpdate=t.willUpdate,l.compress=t.compress,l.emphasis=t.emphasis,l.ssr=this._opts.ssr;var c=[],h=this._bgVNode=function(t,e,n,o){var l;if(n&&"none"!==n)if(l=L("rect","bg",{width:t,height:e,x:"0",y:"0"}),Object(r.k)(n))xt({fill:n},l.attrs,"fill",o);else if(Object(r.n)(n))_t({style:{fill:n},dirty:O.L,getBoundingRect:function(){return{width:t,height:e}}},l.attrs,"fill",o);else{var c=Object(r.p)(n),h=c.color,d=c.opacity;l.attrs.fill=h,d<1&&(l.attrs["fill-opacity"]=d)}return l}(n,o,this._backgroundColor,l);h&&c.push(h);var d=t.compress?null:this._mainVNode=L("g","main",{},[]);this._paintList(e,l,d?d.children:c),d&&c.push(d);var defs=Object(O.H)(Object(O.F)(l.defs),function(t){return l.defs[t]});if(defs.length&&c.push(L("defs","defs",{},defs)),t.animation){var f=function(t,e,n){var r=(n=n||{}).newline?"\n":"",o=" {"+r,l=r+"}",c=Object(O.H)(Object(O.F)(t),function(e){return e+o+Object(O.H)(Object(O.F)(t[e]),function(n){return n+":"+t[e][n]+";"}).join(r)+l}).join(r),h=Object(O.H)(Object(O.F)(e),function(t){return"@keyframes "+t+o+Object(O.H)(Object(O.F)(e[t]),function(n){return n+o+Object(O.H)(Object(O.F)(e[t][n]),function(r){var o=e[t][n][r];return"d"===r&&(o='path("'+o+'")'),r+":"+o+";"}).join(r)+l}).join(r)+l}).join(r);return c||h?["<![CDATA[",c,h,"]]>"].join(r):""}(l.cssNodes,l.cssAnims,{newline:!0});if(f){var m=L("style","stl",{},[],f);c.push(m)}}return R(n,o,c,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},T(this.renderToVNode({animation:Object(O.P)(t.cssAnimation,!0),emphasis:Object(O.P)(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Object(O.P)(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var r,o,l=t.length,c=[],h=0,d=0,i=0;i<l;i++){var f=t[i];if(!f.invisible){var m=f.__clipPaths,v=m&&m.length||0,y=o&&o.length||0,x=void 0;for(x=Math.max(v-1,y-1);x>=0&&(!m||!o||m[x]!==o[x]);x--);for(var _=y-1;_>x;_--)r=c[--h-1];for(var w=x+1;w<v;w++){var O={};wt(m[w],O,e);var g=L("g","clip-g-"+d++,O,[]);(r?r.children:n).push(g),c[h++]=g,r=g}o=m;var S=bt(f,e);S&&(r?r.children:n).push(S)}}},t.prototype.resize=function(t,e){var n=this._opts,o=this.root,l=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),o&&l&&(l.style.display="none",t=Object(Et.b)(o,0,n),e=Object(Et.b)(o,1,n),l.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,l){var c=l.style;c.width=t+"px",c.height=e+"px"}if(Object(r.n)(this._backgroundColor))this.refresh();else{var h=this._svgDom;h&&(h.setAttribute("width",t),h.setAttribute("height",e));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",t),d.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Object(r.c)(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},t}();function Ft(t){t.registerPainter("svg",Ht)}},806:function(t,e,n){t.exports={}},837:function(t,e,n){"use strict";n.r(e);n(74);var r=n(77),o=(n(276),n(23),n(302),n(38),{name:"LightCumulativeChart",props:{values:{type:Array,default:function(){return[]}},index:{type:Array,default:function(){return[]}},benchmark:{type:Array,default:function(){return null}},chartHeight:{type:String,default:"200px"},maxSamples:{type:Number,default:120}},data:function(){return{width:400,height:200}},computed:{sampled:function(){var t=this.values,e=this.benchmark,n=t.length;if(!n)return null;for(var r=Math.max(Math.round(n/this.maxSamples),1),o=[],l=[],c=t[0],h=e?e[0]:1,i=0;i<n;i++)i%r!==0&&0!==i&&i!==n-1||(o.push(100*(t[i]/c-1)),e&&l.push(100*(e[i]/h-1)));return{sv:o,sb:l}},yRange:function(){if(!this.sampled)return null;var t=this.sampled.sb.length?[].concat(Object(r.a)(this.sampled.sv),Object(r.a)(this.sampled.sb)):this.sampled.sv,e=Math.min.apply(Math,Object(r.a)(t)),n=Math.max.apply(Math,Object(r.a)(t)),o=.05*(n-e)||1;return{min:e-o,max:n+o}},strategyLine:function(){return this.sampled&&this.yRange?this.toPolyline(this.sampled.sv):null},benchmarkLine:function(){return this.sampled&&this.yRange&&this.sampled.sb.length?this.toPolyline(this.sampled.sb):null},areaPoints:function(){if(!this.strategyLine)return null;for(var t=this.sampled.sv,e=t.length,n=this.yRange,r=n.min,o=n.max-r||1,s="",i=0;i<e;i++){var l=i/(e-1)*this.width,c=(1-(t[i]-r)/o)*this.height;s+="".concat(l,",").concat(c," ")}return s+="".concat(this.width,",").concat(this.height," 0,").concat(this.height)}},methods:{toPolyline:function(data){var t=data.length;if(t<2)return null;for(var e=this.yRange,n=e.min,r=e.max-n||1,s="",i=0;i<t;i++){var o=i/(t-1)*this.width,l=(1-(data[i]-n)/r)*this.height;s+="".concat(o,",").concat(l," ")}return s.trim()}}}),l=n(52),component=Object(l.a)(o,function(){var t=this,e=t._self._c;return e("svg",{style:{width:"100%",height:t.chartHeight,display:"block"},attrs:{viewBox:"0 0 ".concat(t.width," ").concat(t.height),preserveAspectRatio:"none"}},[e("defs",[e("linearGradient",{attrs:{id:"areaGrad",x1:"0",y1:"0",x2:"0",y2:"1"}},[e("stop",{attrs:{offset:"0%","stop-color":"#37459c","stop-opacity":"0.6"}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":"#37459c","stop-opacity":"0"}})],1)],1),t._v(" "),t.areaPoints?e("polygon",{attrs:{points:t.areaPoints,fill:"url(#areaGrad)"}}):t._e(),t._v(" "),t.benchmarkLine?e("polyline",{attrs:{points:t.benchmarkLine,fill:"none",stroke:"#aaa","stroke-width":"1.5","vector-effect":"non-scaling-stroke"}}):t._e(),t._v(" "),t.strategyLine?e("polyline",{attrs:{points:t.strategyLine,fill:"none",stroke:"#37459c","stroke-width":"2","vector-effect":"non-scaling-stroke"}}):t._e()])},[],!1,null,null,null);e.default=component.exports},925:function(t,e,n){"use strict";n(806)}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{830:function(e,t,o){"use strict";o.r(t);var n=o(12),r=(o(43),o(6)),l=(o(659),o(660),o(661),o(662)),c=o(26),d=Object(r.b)({setup:function(){},props:{collection:{default:null},document:{default:null}},components:{quillEditor:l.quillEditor},data:function(){return{post:"",editorOption:{theme:"snow",placeholder:"策略研發筆記",modules:{syntax:{highlight:function(text){return window.hljs.highlightAuto(text).value}},toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{header:[2,3,!1]}],[{color:[]},{background:[]}],[{size:["small",!1,"large","huge"]}],[{align:[]}],["link","image"],["clean"],["video"],["code-block"]]}}}},methods:{downloadPost:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var o,n,r,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.collection){t.next=1;break}return t.abrupt("return");case 1:return o=c.c.collection(e.collection).doc(e.document),n=null,t.prev=2,t.next=3,o.get();case 3:n=t.sent,t.next=5;break;case 4:t.prev=4,l=t.catch(2),alert("cannot download post ref"+l.response.data);case 5:n&&n.exists&&(r=n.data(),e.post=r.post,""===e.post&&(e.post=null));case 6:case"end":return t.stop()}},t,null,[[2,4]])}))()},uploadPost:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var o,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.collection){t.next=1;break}return t.abrupt("return");case 1:if(null!==e.post){t.next=2;break}return t.abrupt("return");case 2:return o=c.c.collection(e.collection).doc(e.document),e.uploadingPost=!0,t.prev=3,t.next=4,o.set({post:e.post},{merge:!0});case 4:t.next=6;break;case 5:t.prev=5,n=t.catch(3),alert("上傳 post 失敗："+n.response.data);case 6:e.uploadingPost=!1;case 7:case"end":return t.stop()}},t,null,[[3,5]])}))()}},mounted:function(){console.log("post mounted"),this.downloadPost()},destroyed:function(){console.log("post destroy"),this.uploadPost()}}),f=o(52),component=Object(f.a)(d,function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},model:{value:e.post,callback:function(t){e.post=t},expression:"post"}})],1)},[],!1,null,"29eba03f",null);t.default=component.exports}}]);
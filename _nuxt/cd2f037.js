(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1022:function(t,e,n){"use strict";n.r(e);var o=n(12),r=(n(43),n(26)),c=n(122),l=n.n(c),d={data:function(){return{coupon:""}},mounted:function(){this.$store.state.user||l.a.modal("#login-ui").show()},methods:{useCoupon:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,o,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://asia-east2-fdata-299302.cloudfunctions.net/auth_use_coupon",e.next=1,r.a.currentUser.getIdToken();case 1:return c=e.sent,o={Authorization:"Bearer "+c},e.prev=2,e.next=3,t.$axios.post(n,{coupon:t.coupon},{headers:o});case 3:e.sent,e.next=5;break;case 4:return e.prev=4,d=e.catch(2),console.log(d),void 0!==d.response?l.a.modal.alert("驗證失敗："+d.response.data.msg):alert(d),e.abrupt("return");case 5:t.$router.push("/member_info?expect_role=vip_m");case 6:case"end":return e.stop()}},e,null,[[2,4]])}))()}}},m=n(52),component=Object(m.a)(d,function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"calc(100vh - 64px)",width:"100%"}},[e("div",{staticClass:"uk-container",staticStyle:{"padding-top":"calc(calc(calc(100vh - 64px) / 2) - 150px)"}},[this.$store.state.user?e("div",[e("h1",{staticClass:"uk-text-primary"},[t._v("FinLab VIP 優惠碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon,expression:"coupon"}],staticClass:"uk-input uk-form-width-large uk-margin-right uk-margin-bottom",attrs:{type:"text",placeholder:"輸入序號","aria-label":"Input"},domProps:{value:t.coupon},on:{input:function(e){e.target.composing||(t.coupon=e.target.value)}}}),t._v(" "),e("button",{staticClass:"uk-button uk-button-primary uk-margin-bottom",on:{click:t.useCoupon}},[t._v("成為 VIP")])]):t._e()])])},[],!1,null,null,null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[53,42,57,60,61,66],{333:function(t,e,o){"use strict";var n=o(10),r=o(81),l=o(43),c=o(61),d=o(22),h=o(11),f=o(343),_=o(154),v=o(344),m=o(345),y=o(93),x=o(346),k=[],w=k.sort,S=h((function(){k.sort(void 0)})),C=h((function(){k.sort(null)})),T=_("sort"),M=!h((function(){if(y)return y<70;if(!(v&&v>3)){if(m)return!0;if(x)return x<603;var code,t,e,o,n="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(o=0;o<47;o++)k.push({k:t+o,v:e})}for(k.sort((function(a,b){return b.v-a.v})),o=0;o<k.length;o++)t=k[o].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));n({target:"Array",proto:!0,forced:S||!C||!T||!M},{sort:function(t){void 0!==t&&r(t);var e=l(this);if(M)return void 0===t?w.call(e):w.call(e,t);var o,n,h=[],_=c(e);for(n=0;n<_;n++)n in e&&h.push(e[n]);for(h=f(h,function(t){return function(e,o){return void 0===o?-1:void 0===e?1:void 0!==t?+t(e,o)||0:d(e)>d(o)?1:-1}}(t)),o=h.length,n=0;n<o;)e[n]=h[n++];for(;n<_;)delete e[n++];return e}})},343:function(t,e){var o=Math.floor,n=function(t,e){var c=t.length,d=o(c/2);return c<8?r(t,e):l(n(t.slice(0,d),e),n(t.slice(d),e),e)},r=function(t,e){for(var element,o,n=t.length,i=1;i<n;){for(o=i,element=t[i];o&&e(t[o-1],element)>0;)t[o]=t[--o];o!==i++&&(t[o]=element)}return t},l=function(t,e,o){for(var n=t.length,r=e.length,l=0,c=0,d=[];l<n||c<r;)l<n&&c<r?d.push(o(t[l],e[c])<=0?t[l++]:e[c++]):d.push(l<n?t[l++]:e[c++]);return d};t.exports=n},344:function(t,e,o){var n=o(80).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},345:function(t,e,o){var n=o(80);t.exports=/MSIE|Trident/.test(n)},346:function(t,e,o){var n=o(80).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},364:function(t,e,o){},366:function(t,e,o){"use strict";o.r(e);var n=o(21),r=(o(63),o(18),o(28),o(340)),l=o(540),c=o(318);function d(t){t.eachSeriesByType("radar",(function(t){var data=t.getData(),e=[],o=t.coordinateSystem;if(o){var n=o.getIndicatorAxes();c.k(n,(function(t,r){data.each(data.mapDimension(n[r].dim),(function(t,n){e[n]=e[n]||[];var l=o.dataToPoint(t,r);e[n][r]=h(l)?l:f(o)}))})),data.each((function(t){var n=c.o(e[t],(function(t){return h(t)}))||f(o);e[t].push(n.slice()),data.setItemLayout(t,e[t])}))}}))}function h(t){return!isNaN(t[0])&&!isNaN(t[1])}function f(t){return[t.cx,t.cy]}function _(option){var t=option.polar;if(t){c.t(t)||(t=[t]);var e=[];c.k(t,(function(t,o){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),option.radar=option.radar||[],c.t(option.radar)||(option.radar=[option.radar]),option.radar.push(t)):e.push(t)})),option.polar=e}c.k(option.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var v=o(319),m=o(320),y=o(553),x=o(554),k=o(375),w=o(465),S=o(325),symbol=o(328),C=o(369),T=o(326),M=o(336),O=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(v.a)(e,t),e.prototype.render=function(t,e,o){var n=t.coordinateSystem,r=this.group,data=t.getData(),l=this._data;function d(data,t){var e=data.getItemVisual(t,"symbol")||"circle";if("none"!==e){var o=symbol.c(data.getItemVisual(t,"symbolSize")),n=symbol.a(e,-1,-1,2,2),r=data.getItemVisual(t,"symbolRotate")||0;return n.attr({style:{strokeNoScale:!0},z2:100,scaleX:o[0]/2,scaleY:o[1]/2,rotation:r*Math.PI/180||0}),n}}function h(e,o,n,data,r,l){n.removeAll();for(var i=0;i<o.length-1;i++){var c=d(data,r);c&&(c.__dimIdx=i,e[i]?(c.setPosition(e[i]),m[l?"initProps":"updateProps"](c,{x:o[i][0],y:o[i][1]},t,r)):c.setPosition(o[i]),n.add(c))}}function f(t){return c.G(t,(function(t){return[n.cx,n.cy]}))}data.diff(l).add((function(e){var o=data.getItemLayout(e);if(o){var polygon=new y.a,polyline=new x.a,n={shape:{points:o}};polygon.shape.points=f(o),polyline.shape.points=f(o),k.a(polygon,n,t,e),k.a(polyline,n,t,e);var r=new w.a,l=new w.a;r.add(polyline),r.add(polygon),r.add(l),h(polyline.shape.points,o,l,data,e,!0),data.setItemGraphicEl(e,r)}})).update((function(e,o){var n=l.getItemGraphicEl(o),polyline=n.childAt(0),polygon=n.childAt(1),r=n.childAt(2),c={shape:{points:data.getItemLayout(e)}};c.shape.points&&(h(polyline.shape.points,c.shape.points,r,data,e,!1),Object(k.e)(polygon),Object(k.e)(polyline),k.f(polyline,c,t),k.f(polygon,c,t),data.setItemGraphicEl(e,n))})).remove((function(t){r.remove(l.getItemGraphicEl(t))})).execute(),data.eachItemGraphicEl((function(t,e){var o=data.getItemModel(e),polyline=t.childAt(0),polygon=t.childAt(1),n=t.childAt(2),l=data.getItemVisual(e,"style"),d=l.fill;r.add(t),polyline.useStyle(c.j(o.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),Object(S.H)(polyline,o,"lineStyle"),Object(S.H)(polygon,o,"areaStyle");var h=o.getModel("areaStyle"),f=h.isEmpty()&&h.parentModel.isEmpty();polygon.ignore=f,c.k(["emphasis","select","blur"],(function(t){var e=o.getModel([t,"areaStyle"]),n=e.isEmpty()&&e.parentModel.isEmpty();polygon.ensureState(t).ignore=n&&f})),polygon.useStyle(c.j(h.getAreaStyle(),{fill:d,opacity:.7,decal:l.decal}));var _=o.getModel("emphasis"),v=_.getModel("itemStyle").getItemStyle();n.eachChild((function(t){if(t instanceof M.a){var n=t.style;t.useStyle(c.m({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},l))}else t.useStyle(l),t.setColor(d),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=c.d(v);var r=data.getStore().get(data.getDimensionIndex(t.__dimIdx),e);(null==r||isNaN(r))&&(r=""),Object(T.f)(t,Object(T.d)(o),{labelFetcher:data.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:r,inheritColor:d,defaultOpacity:l.opacity})})),Object(S.n)(t,_.get("focus"),_.get("blurScope"))})),this._data=data},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(C.a),I=O,j=o(370),A=o(384),D=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),P=o(330),B=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o.hasSymbolVisual=!0,o}return Object(v.a)(e,t),e.prototype.init=function(option){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new D(c.c(this.getData,this),c.c(this.getRawData,this))},e.prototype.getInitialData=function(option,t){return Object(A.a)(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,o){var data=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(t),l=""===r?this.name:r,d=Object(P.e)(this,t);return Object(P.c)("section",{header:l,sortBlocks:!0,blocks:c.G(n,(function(e){var o=data.get(data.mapDimension(e.dim),t);return Object(P.c)("nameValue",{markerType:"subItem",markerColor:d,name:e.name,value:o,sortParam:o})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),o=this.coordinateSystem,n=e.getValues(c.G(o.dimensions,(function(t){return e.mapDimension(t)})),t),i=0,r=n.length;i<r;i++)if(!isNaN(n[i])){var l=o.getIndicatorAxes();return o.coordToPoint(l[i].dataToCoord(n[i]),i)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(j.a),N=B,z=o(428),R=o(354),E=o(429),L=o(334),H=z.a.value;function W(t,e){return c.j({show:e},t)}var $=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(v.a)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),o=this.get("scale"),n=this.get("axisLine"),r=this.get("axisTick"),l=this.get("axisLabel"),d=this.get("axisName"),h=this.get(["axisName","show"]),f=this.get(["axisName","formatter"]),_=this.get("axisNameGap"),v=this.get("triggerEvent"),m=c.G(this.get("indicator")||[],(function(m){null!=m.max&&m.max>0&&!m.min?m.min=0:null!=m.min&&m.min<0&&!m.max&&(m.max=0);var y=d;null!=m.color&&(y=c.j({color:m.color},d));var x=c.H(c.d(m),{boundaryGap:t,splitNumber:e,scale:o,axisLine:n,axisTick:r,axisLabel:l,name:m.text,nameLocation:"end",nameGap:_,nameTextStyle:y,triggerEvent:v},!1);if(h||(x.name=""),"string"==typeof f){var k=x.name;x.name=f.replace("{value}",null!=k?k:"")}else"function"==typeof f&&(x.name=f(x.name,x));var w=new R.a(x,null,this.ecModel);return c.I(w,E.a.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w}),this);this._indicatorModels=m},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:c.H({lineStyle:{color:"#bbb"}},H.axisLine),axisLabel:W(H.axisLabel,!1),axisTick:W(H.axisTick,!1),splitLine:W(H.splitLine,!0),splitArea:W(H.splitArea,!0),indicator:[]},e}(L.a),V=$,F=o(426),Y=o(550),X=o(653),G=o(335),U=["axisLine","axisTickLabel","axisName"],J=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(v.a)(e,t),e.prototype.render=function(t,e,o){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,o=e.getIndicatorAxes(),n=c.G(o,(function(t){return new F.a(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));c.k(n,(function(t){c.k(U,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,o=e.getIndicatorAxes();if(o.length){var n=t.get("shape"),r=t.getModel("splitLine"),l=t.getModel("splitArea"),d=r.getModel("lineStyle"),h=l.getModel("areaStyle"),f=r.get("show"),_=l.get("show"),v=d.get("color"),k=h.get("color"),w=c.t(v)?v:[v],S=c.t(k)?k:[k],C=[],T=[];if("circle"===n)for(var M=o[0].getTicksCoords(),O=e.cx,I=e.cy,i=0;i<M.length;i++){if(f)C[R(C,w,i)].push(new Y.a({shape:{cx:O,cy:I,r:M[i].coord}}));if(_&&i<M.length-1)T[R(T,S,i)].push(new X.a({shape:{cx:O,cy:I,r0:M[i].coord,r:M[i+1].coord}}))}else{var j,A=c.G(o,(function(t,o){var n=t.getTicksCoords();return j=null==j?n.length-1:Math.min(n.length-1,j),c.G(n,(function(t){return e.coordToPoint(t.coord,o)}))})),D=[];for(i=0;i<=j;i++){for(var P=[],B=0;B<o.length;B++)P.push(A[B][i]);if(P[0]&&P.push(P[0].slice()),f)C[R(C,w,i)].push(new x.a({shape:{points:P}}));if(_&&D)T[R(T,S,i-1)].push(new y.a({shape:{points:P.concat(D)}}));D=P.slice().reverse()}}var N=d.getLineStyle(),z=h.getAreaStyle();c.k(T,(function(t,e){this.group.add(m.mergePath(t,{style:c.j({stroke:"none",fill:S[e%S.length]},z),silent:!0}))}),this),c.k(C,(function(t,e){this.group.add(m.mergePath(t,{style:c.j({fill:"none",stroke:w[e%w.length]},N),silent:!0}))}),this)}function R(t,e,o){var n=o%e.length;return t[n]=t[n]||[],n}},e.type="radar",e}(G.a),K=J,Z=function(t){function e(e,o,n){var r=t.call(this,e,o,n)||this;return r.type="value",r.angle=0,r.name="",r}return Object(v.a)(e,t),e}(o(433).a),Q=o(418),tt=o(322),et=o(351),it=o(387),ot=function(){function t(t,e,o){this.dimensions=[],this._model=t,this._indicatorAxes=Object(c.G)(t.getIndicatorModels(),(function(t,e){var o="indicator_"+e,n=new Z(o,new Q.a);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(o),n}),this),this.resize(t,o)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var o=this._indicatorAxes[e];return this.coordToPoint(o.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var o=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(o),this.cy-t*Math.sin(o)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,n=Math.sqrt(e*e+o*o);e/=n,o/=n;for(var r,l=Math.atan2(-o,e),c=1/0,d=-1,i=0;i<this._indicatorAxes.length;i++){var h=this._indicatorAxes[i],f=Math.abs(l-h.angle);f<c&&(r=h,d=i,c=f)}return[d,+(r&&r.coordToData(n))]},t.prototype.resize=function(t,e){var o=t.get("center"),n=e.getWidth(),r=e.getHeight(),l=Math.min(n,r)/2;this.cx=tt.n(o[0],n),this.cy=tt.n(o[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var d=t.get("radius");"string"!=typeof d&&"number"!=typeof d||(d=[0,d]),this.r0=tt.n(d[0],l),this.r=tt.n(d[1],l),Object(c.k)(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var o=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;o=Math.atan2(Math.sin(o),Math.cos(o)),t.angle=o}),this)},t.prototype.update=function(t,e){var o=this._indicatorAxes,n=this._model;Object(c.k)(o,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===n){var data=e.getData();Object(c.k)(o,(function(t){t.scale.unionExtentFromData(data,data.mapDimension(t.dim))}))}}),this);var r=n.get("splitNumber");function l(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),o=t/e;return 2===o?o=5:o*=2,o*e}Object(c.k)(o,(function(t,e){var o=Object(et.f)(t.scale,t.model).extent;Object(et.i)(t.scale,t.model);var n=t.model,c=t.scale,d=Object(it.b)(c,n.get("min",!0)),h=Object(it.b)(c,n.get("max",!0)),f=c.getInterval();if(null!=d&&null!=h)c.setExtent(+d,+h),c.setInterval((h-d)/r);else if(null!=d){var _=void 0;do{_=d+f*r,c.setExtent(+d,_),c.setInterval(f),f=l(f)}while(_<o[1]&&isFinite(_)&&isFinite(o[1]))}else if(null!=h){var v=void 0;do{v=h-f*r,c.setExtent(v,+h),c.setInterval(f),f=l(f)}while(v>o[0]&&isFinite(v)&&isFinite(o[0]))}else{c.getTicks().length-1>r&&(f=l(f));_=Math.ceil(o[1]/f)*f,v=tt.r(_-f*r);c.setExtent(v,_),c.setInterval(f)}}))},t.prototype.convertToPixel=function(t,e,o){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,o){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,o){var n=[];return e.eachComponent("radar",(function(r){var l=new t(r,e,o);n.push(l),r.coordinateSystem=l})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},t.dimensions=[],t}();function nt(t){t.registerCoordinateSystem("radar",ot),t.registerComponentModel(V),t.registerComponentView(K),t.registerVisual({seriesType:"radar",reset:function(t){var data=t.getData();data.each((function(t){data.setItemVisual(t,"legendIcon","roundRect")})),data.setVisual("legendIcon","roundRect")}})}var at=o(411),st=o(870),lt=o(868),ct=o(358);Object(r.a)([l.a,at.a,st.a,function(t){Object(r.a)(nt),t.registerChartView(I),t.registerSeriesModel(N),t.registerLayout(d),t.registerProcessor({seriesType:"radar",reset:function(t,e){var o=e.findComponents({mainType:"legend"});if(o&&o.length){var data=t.getData();data.filterSelf((function(t){for(var e=data.getName(t),i=0;i<o.length;i++)if(!o[i].isSelected(e))return!1;return!0}))}}}),t.registerPreprocessor(_)},lt.a]);var ut={name:"HelloWorld",props:{height:"300px",names:{default:function(){return null}},indicators:{default:function(){return["a","b","c"]}},values:{default:function(){return{values:{a:.5,b:.8,c:.3}}}}},components:{VChart:ct.b},provide:Object(n.a)({},ct.a,"light"),data:function(){return{}},mounted:function(){},computed:{option:function(){return{scale:{pointLabels:{fontSize:20}},color:["rgba(255, 133, 182, 0.5)","#FFE43488","#56A3F188","#FF917C88"],legend:{data:this.seriesNames,bottom:0,right:0,textStyle:{fontSize:18}},radar:{indicator:this.indicators_,shape:"circle",startAngle:135,axisName:{fontSize:18}},series:[{type:"radar",data:this.valueData}]}},indicators_:function(){return this.indicators.map((function(t){return{name:t,max:1}}))},seriesNames:function(){if(this.names)return this.names;var t=[];for(var e in this.values)t.push(e);return t},valueData:function(){var label={show:1==this.seriesNames.length,formatter:function(t){return Math.round(1e3*t.value)/10+"%"}},t={},e=[];for(var o in this.values){var n=this.values[o],r=[];for(var i in this.indicators)r.push(n[this.indicators[i]]);e.push({value:r,name:this.seriesNames[o],label:label,areaStyle:t,textStyle:{color:"black",fontSize:20}})}return e}}},ht=o(41),component=Object(ht.a)(ut,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-chart",{staticClass:"chart",staticStyle:{"z-index":"0"},style:"height:300px",attrs:{option:t.option,autoresize:""}})}),[],!1,null,"768cd074",null);e.default=component.exports},372:function(t,e,o){"use strict";o.r(e);o(44),o(47),o(60);var n=o(19),r={props:{value:{type:String},autocomplete:{type:String,default:"true"}},data:function(){return{sid:[],sdict:{},candidates:[],currentStock:"",text:"",target:0,composing:!1,history:[]}},created:function(){this.text=this.value;var t=this;n.c.collection("twStock").doc("searchTree").get().then((function(e){if(e.exists){var data=e.data();t.sdict=data.searchTree.sdict,t.slist=data.searchTree.slist}else console.log("cannot find strategy menu")}))},methods:{moveCursor:function(t){0!=this.candidates.length?this.target+=t:this.target=-1},selectStock:function(t){t.preventDefault(),-1!=this.target&&this.chooseStock(this.candidates[this.target])},chooseStock:function(s){if(!this.composing){var t=this;console.log("emit",s),this.$emit("input",s),this.history.unshift(s),this.history=this.history.filter((function(e,o){return t.history.indexOf(e)==o})),this.history.length>3&&(this.history=[this.history[0],this.history[1],this.history[2]]),this.currentStock=s,this.candidates=[],this.text=s,this.target=-1,document.getElementById("search-box").blur()}},clearStock:function(t){this.text="",this.candidates=[],this.target=-1,this.$emit("update","")},digitupdate:function(t){var s,e=t.target.value;this.$emit("update",e),(s=e).replace(/[^\x00-\xff]/g,"rr").length==s.length&&this.update(t)},update:function(t){var e=event.target.value;if(this.text=e,""!=e){var o=this.sdict;for(var i in e){var n=e[i];if(!(n in o))return void(this.candidates=["找不到此股票代號"]);o=o[n]}for(var r=[],l=[o];l&&0!=l.length&&!((o=l.pop())===parseInt(o,10)&&(r.push(this.slist[o]),r.length>20));)for(var c in o)l.unshift(o[c]);this.candidates=r,1==this.candidates.length&&this.chooseStock(this.candidates[0])}else this.candidates=[]}}},l=(o(388),o(41)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("form",{staticClass:"uk-search uk-search-navbar uk-card uk-flex",staticStyle:{width:"100%",border:"1px solid #ddd",background:"rgba(255, 255, 255, 0.2)"}},[o("span",{staticStyle:{"padding-left":"10px"},attrs:{"uk-search-icon":""}}),t._v(" "),o("input",{staticClass:"uk-search-input uk-text-primary uk-text-light",staticStyle:{"padding-left":"60px"},attrs:{id:"search-box",name:"Search",type:"search",placeholder:"股票代號",autocomplete:"off"},domProps:{value:t.text},on:{change:t.digitupdate,input:t.digitupdate,compositionstart:function(e){t.composing=!0},compositionend:function(e){t.composing=!1,t.update()},focus:t.clearStock,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.moveCursor(1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.moveCursor(-1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectStock.apply(null,arguments))}]}})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.candidates.length>0&&"true"==t.autocomplete,expression:"candidates.length > 0 && autocomplete == 'true'"}],staticClass:"uk-flex uk-flex-wrap uk-flex-wrap-around"},t._l(t.candidates,(function(e,i){return o("div",{key:e,staticClass:"\n          uk-card uk-card-default uk-card-body uk-padding-small uk-card-hover\n        ",staticStyle:{cursor:"pointer","border-radius":"10px",margin:"20px 20px 0 0"},on:{click:function(o){return t.chooseStock(e)}}},[t._v("\n        "+t._s(i==t.target?e+" * ":e)+"\n      ")])})),0)])}),[],!1,null,"3c0325ef",null);e.default=component.exports},373:function(t,e,o){"use strict";o.r(e);o(228),o(47),o(67),o(157),o(60),o(18),o(68),o(117);var n={name:"TVChartContainer",props:{symbol:{default:"stock",type:String},price:{default:function(){},type:Object},indicators:{default:function(){},type:Object},interval:{default:"D",type:String},containerId:{default:"tv_chart_container",type:String},datafeedUrl:{default:"https://demo_feed.tradingview.com",type:String},libraryPath:{default:"/charting_library/",type:String},chartsStorageUrl:{default:"https://saveload.tradingview.com",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"tradingview.com",type:String},userId:{default:"public_user_id",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},studiesOverrides:{type:Object,default:function(){return{}}}},data:function(){return{isReady:!1,predictionOption:"未來20天"}},watch:{price:function(){null!==this.tvWidget&&this.isReady&&this.tvWidget.setSymbol(this.$props.symbol,"1D")},indicators:function(){console.log("change indicator"),this.isReady&&this.initStudies()}},tvWidget:null,mounted:function(){this.deleteTvWidget(),this.createTvWidget(),this.predictionOption=localStorage.getItem("predictionOption"),null===this.predictionOption&&(this.predictionOption="未來10天")},destroyed:function(){this.deleteTvWidget()},methods:{initStudies:function(){null!==this.tvWidget&&(console.log("----aaa----"),console.log(this.predictionOption),this.tvWidget.activeChart().removeAllStudies(),this.tvWidget.activeChart().createStudy("Moving Average",!1,!1,[5]),this.tvWidget.activeChart().createStudy("Moving Average",!1,!1,[20]),this.tvWidget.activeChart().createStudy("Moving Average",!1,!1,[60]),this.tvWidget.activeChart().createStudy("Volume"),this.tvWidget.activeChart().createStudy("Prediction ML",!1,!1,[this.predictionOption]))},deleteTvWidget:function(){this.tvWidget&&(this.tvWidget.remove(),this.tvWidget=null,this.isReady=!1)},createTvWidget:function(){var t,e=this,o=this.createDatafeed(),n={symbol:this.symbol,datafeed:o,interval:this.interval,container:this.containerId,library_path:this.libraryPath,locale:(t=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search),(null===t?null:decodeURIComponent(t[1].replace(/\+/g," ")))||"zh_TW"),disabled_features:["header_widget","header_widget_dom_node","compare_symbol","display_market_status","header_chart_type","header_compare","header_interval_dialog_button","header_resolutions","header_screenshot","header_symbol_search","header_undo_redo","legend_context_menu","show_hide_button_in_legend","show_interval_dialog_on_key_press","snapshot_trading_drawings","symbol_info","timeframes_toolbar","use_localstorage_for_settings","volume_force_overlay","header_saveload","go_to_date","edit_buttons_in_legend","symbol_search_hot_key","border_around_the_chart","control_bar","context_menus","show_chart_property_page","countdown","study_market_minimized","main_series_scale_menu","display_market_status","remove_library_container_border","chart_property_page_style","property_pages","chart_property_page_scales","chart_property_page_background","source_selection_markers"],detail:!0,enabled_features:["hide_left_toolbar_by_default"],charts_storage_url:this.chartsStorageUrl,charts_storage_api_version:this.chartsStorageApiVersion,client_id:this.clientId,user_id:this.userId,fullscreen:this.fullscreen,autosize:!0,studies_overrides:this.studiesOverrides,debug:!1,custom_indicators_getter:function(t){return Promise.resolve([{name:"Prediction ML",metainfo:{_metainfoVersion:40,id:"Prediction ML@tv-basicstudies-1",scriptIdPart:"",name:"Prediction ML",description:"Prediction ML",shortDescription:"AI 年化影響力預測",is_hidden_study:!1,is_price_study:!1,isCustomIndicator:!0,format:{type:"percent",precision:1},plots:[{id:"EMA",type:"line"},{id:"plot_1",type:"colorer",target:"EMA",palette:"paletteId1"}],defaults:{styles:{EMA:{linestyle:0,visible:!0,linewidth:1,plottype:2,trackPrice:!1}},palettes:{paletteId1:{colors:{0:{color:"#ff267d",width:3,style:0},1:{color:"#5A4FCF",width:3,style:0},2:{color:"#6b5eff",width:3,style:0}}}},precision:4,inputs:{options:"未來5天"}},palettes:{paletteId1:{colors:{0:{name:"First color"},1:{name:"Second color"}}}},styles:{EMA:{title:"ML APR",histogramBase:0}},inputs:[{id:"options",type:"text",name:"預測",defval:e.predictionOption,options:["未來5天","未來10天","未來20天"]}]},constructor:function(){this.init=function(t,o){console.log("------test------"),localStorage.setItem("predictionOption",o(0)),e.predictionOption=o(0);var symbol={"未來5天":"rank5","未來10天":"rank10","未來20天":"rank20"}[o(0)]+"-"+e.symbol;t.new_sym(symbol,"1D","1D")},this.main=function(e,o){this._context=e,this._input=o,this._context.select_sym(1);var n=t.Std.close(this._context);return[100*n,n>0?0:2]}}}])}},r=this.$TVChart.Widget;this.isReady=!1;var l=new r(n);this.tvWidget=l,l.onChartReady((function(){l.activeChart().dataReady((function(){e.initStudies(),e.isReady=!0;var iframe=document.getElementsByTagName("iframe")[0],t=document.getElementsByClassName("TVChartContainer")[0];iframe.style.height=t.offsetHeight+"px"}))}))},createDatafeed:function(){var t=this,e=this;return{onReady:function(t){var e={supported_resolutions:["1D","1W","1M"],exchanges:[{value:"TPEX",name:"TPEX",desc:"TPEX"}],symbols_types:[{name:"stock",value:"stock"}]};console.log("[onReady]: Method call"),setTimeout((function(){return t(e)}))},searchSymbols:function(t,e,o,n){console.log("[searchSymbol]: Method call",symbolName)},resolveSymbol:function(e,o,n){var r=e===t.$props.symbol?e:e+"-"+t.$props.symbol,l={ticker:r,name:r,description:r,type:"TYPE",session:"0900-1330",timezone:"Asia/Taipei",exchange:"TWII",minmov:.01,pricescale:.01,has_intraday:!1,has_weekly_and_monthly:!1,supported_resolutions:["1D","1W","1M"]};setTimeout((function(){return o(l)}),0),console.log("[resolveSymbol]: Method call",e)},getBars:function(o,n,r,l,c){if(console.log("getBars",o),o.ticker==t.$props.symbol){var p=[];for(var i in e.$props.price.close){var d=e.$props.price.date[i].seconds;if(!(d<r.from||d>=r.to)){var h={open:e.$props.price.open[i],close:e.$props.price.close[i],high:e.$props.price.high[i],low:e.$props.price.low[i],volume:e.$props.price.volume[i],time:1e3*d};isNaN(h.open)||p.push(h)}}l(p,{noData:0===p.length})}else{var f=t.$props.indicators[o.ticker.split("-")[0]],_=t.$props.indicators.date,v=[];for(var m in f){var y=_[m].seconds;if(!(y<r.from||y>=r.to)){var x={open:f[m],close:f[m],high:f[m],low:f[m],time:1e3*y};isNaN(x.open)||v.push(x)}}l(v,{noData:0===v.length})}},subscribeBars:function(t,e,o,n,r){console.log("[subscribeBars]: Method call with subscribeUID:",n)},unsubscribeBars:function(t){console.log("[unsubscribeBars]: Method call with subscriberUID:",t)}}}}},r=o(41),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"TVChartContainer",staticStyle:{height:"100%"},attrs:{id:t.containerId}})}),[],!1,null,null,null);e.default=component.exports},374:function(t,e,o){},384:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(381),r=o(348),l=o(318);function c(t,e,o){e=Object(l.t)(e)&&{coordDimensions:e}||Object(l.m)({encodeDefine:t.getEncode()},e);var source=t.getSource(),c=Object(n.a)(source,e).dimensions,d=new r.a(c,t);return d.initData(source,o),d}},385:function(t,e,o){},388:function(t,e,o){"use strict";o(364)},392:function(t,e,o){"use strict";o(374)},394:function(t,e,o){"use strict";o.r(e);o(42),o(333),o(155),o(32),o(47),o(117);var n=o(323),r=o(19),l=o(366),c=o(372),d=o(373),h=Object(n.c)({name:"line-chart",components:{RadarChart:l.default,SearchBar:c.default,TVChartContainer:d.default},props:{stock_id:{default:"1101"},displaySearchBar:{default:!0}},data:function(){return{stock:null,tab:"AI技術指標",currentCategory:null,indicators:["成長率","獲利能力","單位基本面","安全性"],headerHeight:64,orgHeadHeight:64}},mounted:function(){this.headMaxHeight=this.orgHeadHeight,this.getStock(this.stock_id)},computed:{stockEvaluation:function(){if(null===this.stock)return null},categories:function(){var t=this;return this.stock&&this.stock.fundamentalSummaryIndustry?Object.keys(this.stock.fundamentalSummaryIndustry).sort((function(a,b){return-t.stock.fundamentalSummaryIndustry[a]["檔數"]+t.stock.fundamentalSummaryIndustry[b]["檔數"]})).splice(0,3):[]},radarValues:function(){var t={};return t[this.stock_id]=this.stock.fundamentalSummaryIndustry[this.currentCategory],t},importance:function(){if(!this.stock)return[];var t=[];for(var e in this.stock.fundamentalContribution)t.push({name:e,value:this.stock.fundamentalContribution[e]});return t.sort((function(a,b){return Math.abs(b.value)-Math.abs(a.value)}))}},watch:{categories:function(){this.categories&&this.stock&&(this.currentCategory=this.categories[0])},stock_id:{handler:function(t){console.log("stock panel id change!",t),this.getStock(t)},deep:!0}},methods:{getStock:function(t){if(""!==t){var e=r.c.collection("twStock").doc(t),o=this;e.get().then((function(t){t.exists&&(o.stock=t.data(),console.log(o.stock))})).catch((function(e){console.log("Error getting document:",e),console.log(t)}))}},percentage:function(t){return t>0?"+"+Math.round(10*t)/10+"%":Math.round(10*t)/10+"%"},percentageColor:function(t){var th=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this.stock.fundamentalContribution[this.importance[0].name],o=Math.abs(t)/Math.abs(e)*th;return t>0?"rgba(255, 133, 182, ".concat(o,")"):"rgba(154, 145, 255, ".concat(o,")")},percentageColor2:function(t){return t>0?"rgba(255, 133, 182)":"rgba(154, 145, 255)"},changeStock:function(t){console.log("get change stock",t),this.headerHeight=this.orgHeadHeight;var e=t.split(" ")[0];this.stock_id=e,window.history.pushState({},null,window.location.href.split("?")[0]+"?stock_id="+e),this.getStock(e)},fitHeaderSize:function(text){0!==text.length?this.headerHeight=400:this.headerHeight=this.orgHeadHeight}}}),f=h,_=(o(392),o(41)),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"100%"}},[o("div",{staticClass:"dark-muted stock-head"},[t.stock&&t.displaySearchBar?o("div",[o("SearchBar",{ref:"searchBar",attrs:{value:t.stock.category?t.stock_id+" "+t.stock.category.name:t.stock_id},on:{input:t.changeStock,update:t.fitHeaderSize}})],1):t._e(),t._v(" "),o("ul",{staticClass:"uk-flex-left",staticStyle:{"margin-top":"12px","margin-bottom":"0"},attrs:{"uk-tab":""}},[t.displaySearchBar?t._e():o("li",{staticClass:"uk-disabled"},[o("a",[t._v(t._s(t.stock&&t.stock.category?t.stock_id+" "+t.stock.category.name:t.stock_id))])]),t._v(" "),o("li",{class:{"uk-active":"AI技術指標"==t.tab},on:{click:function(e){t.tab="AI技術指標"}}},[o("a",[t._v("技術指標")])]),t._v(" "),o("li",{class:{"uk-active":"AI財報分析"==t.tab},on:{click:function(e){t.tab="AI財報分析"}}},[o("a",[t._v("財報分析")])])])]),t._v(" "),o("div",{staticClass:"light-muted",staticStyle:{height:"calc(100% - 32px)"}},[t.stock&&t.stock.price?o("div",{style:{height:"AI技術指標"===t.tab?"100%":"0px"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:"AI技術指標"===t.tab,expression:"tab === 'AI技術指標'"}],staticStyle:{height:"100%"}},[o("TVChartContainer",{attrs:{symbol:t.stock_id,price:t.stock.price,indicators:t.stock.indicatorPrediction}})],1)]):t._e(),t._v(" "),t.stock&&"AI財報分析"===t.tab?o("div",{staticClass:"uk-padding-small"},[t.stock.fundamentalValue?o("div",{staticClass:"uk-grid uk-grid-small",attrs:{"uk-height-match":"target: > div > .uk-card","uk-grid":""}},[o("div",{staticClass:"uk-width-1-2@m"},[t.stock?o("div",{staticClass:"uk-card uk-background-default shadow uk-card-body"},[o("nuxt-link",{attrs:{to:"/ml_fundamental"}},[o("div",{staticClass:"uk-card-badge uk-label",staticStyle:{color:"white"}},[t._v("\n                使用方法\n              ")])]),t._v(" "),o("h3",{staticClass:"uk-card-title"},[t._v("\n              財報排名 "+t._s(t.stock.fundamentalValue.季別)+"\n            ")]),t._v(" "),o("p",{attrs:{"uk-margin":""}},t._l(t.categories,(function(e){return o("button",{key:"category_"+e,staticClass:"uk-button uk-button-small",class:e===t.currentCategory?"uk-button-primary":"uk-button-default",on:{click:function(o){t.currentCategory=e}}},[t._v("\n                "+t._s(e)+"\n              ")])})),0),t._v(" "),o("p",[t._v("\n              "+t._s(t.currentCategory)+"排名：\n              "+t._s(t.stock.fundamentalSummaryIndustry[t.currentCategory]["檔數"]-Math.round(t.stock.fundamentalSummaryIndustry[t.currentCategory]["綜合評分"]*t.stock.fundamentalSummaryIndustry[t.currentCategory]["檔數"])+1)+"\n              /\n              "+t._s(t.stock.fundamentalSummaryIndustry[t.currentCategory]["檔數"])+"\n              名\n            ")]),t._v(" "),o("RadarChart",{attrs:{names:[t.stock_id],indicators:t.indicators,values:t.radarValues}})],1):t._e()]),t._v(" "),o("div",{staticClass:"uk-width-1-2@m"},[o("div",{staticClass:"uk-card uk-background-default shadow uk-card-body"},[o("nuxt-link",{attrs:{to:"/ml_fundamental"}},[o("div",{staticClass:"uk-card-badge uk-label",staticStyle:{color:"white"}},[t._v("\n                使用方法\n              ")])]),t._v(" "),o("h3",{staticClass:"uk-card-title"},[t._v("財報股價影響力")]),t._v(" "),o("div",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":""}},[o("div",{staticStyle:{width:"150px"}},[o("div",{staticStyle:{height:"85px","padding-bottom":"70px"},style:"color:"+t.percentageColor2(t.stock.fundamentalSummaryContribution.綜合評分,1)},[o("span",{staticStyle:{"font-size":"2.2em"}},[t._v(t._s(t.percentage(t.stock.fundamentalSummaryContribution.綜合評分)))]),o("span",[t._v("/年")]),t._v(" "),o("br"),t._v(" "),o("span",{staticStyle:{"font-size":"1em"}},[t._v("股價總影響力")])]),t._v(" "),t._l(t.indicators,(function(i){return o("div",{key:"score"+i,staticClass:"fundamental-tab uk-text-center",style:"color:"+t.percentageColor2(t.stock.fundamentalSummaryContribution[i],1)},[o("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.percentage(t.stock.fundamentalSummaryContribution[i],100))+" ")]),o("br"),t._v(" "),o("span",[t._v(t._s(i))]),t._v(" "),o("div",{staticClass:"line"})])}))],2),t._v(" "),o("div",{staticClass:"uk-width-expand"},[o("div",{staticClass:"table-value uk-overflow-auto",staticStyle:{"max-height":"400px"}},[o("table",{staticClass:"uk-table uk-table-small top-container",staticStyle:{width:"400px","font-size":"0.8rem"}},[t._m(0),t._v(" "),o("tbody",t._l(t.importance,(function(e){return o("tr",{key:e.name+"fd",style:"background:"+t.percentageColor(e.value,.7)},[o("td",[t._v(t._s(e.name))]),t._v(" "),o("td",[t._v("\n                          "+t._s(t.percentage(e.value))+"\n                        ")]),t._v(" "),o("td",[t._v("\n                          "+t._s(Math.round(100*t.stock.fundamentalValue[e.name])/100)+"\n                        ")])])})),0)])])])])],1)])]):o("div",[t._v("\n        並無財報數據喔！\n      ")])]):t._e()])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("th",[t._v("名稱")]),t._v(" "),o("th",[t._v("影響力（大⇀小）")]),t._v(" "),o("th",[t._v("數值")])])}],!1,null,"4f9ffd63",null);e.default=component.exports;installComponents(component,{SearchBar:o(372).default,TVChartContainer:o(373).default,RadarChart:o(366).default})},407:function(t,e,o){},411:function(t,e,o){"use strict";o.d(e,"a",(function(){return pt}));var n=o(401),r=o(340),l=o(319),c=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(l.a)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(o(334).a),d=c,h=o(318),f=o(324),_=o(337),v=o(339),m=o(402),y=o(327);function x(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function k(t){if(f.a.domSupported)for(var style=document.documentElement.style,i=0,e=t.length;i<e;i++)if(t[i]in style)return t[i]}var w=k(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),S=k(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function C(t,e){if(!t)return e;e=Object(y.h)(e,!0);var o=t.indexOf(e);return(t=-1===o?e:"-"+t.slice(0,o)+"-"+e).toLowerCase()}var T=o(330),M=C(S,"transition"),O=C(w,"transform"),I="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(f.a.transform3dSupported?"will-change:transform;":"");function j(t,e,o){var n=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!f.a.transformSupported)return o?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var l=f.a.transform3dSupported,c="translate"+(l?"3d":"")+"("+n+","+r+(l?",0":"")+")";return o?"top:0;left:0;"+O+":"+c+";":[["top",0],["left",0],[w,c]]}function A(t,e,o){var n=[],r=t.get("transitionDuration"),l=t.get("backgroundColor"),c=t.get("shadowBlur"),d=t.get("shadowColor"),v=t.get("shadowOffsetX"),m=t.get("shadowOffsetY"),x=t.getModel("textStyle"),k=Object(T.d)(t,"html"),w=v+"px "+m+"px "+c+"px "+d;return n.push("box-shadow:"+w),e&&r&&n.push(function(t,e){var o="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+o,r="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+o,r+=f.a.transformSupported?","+O+n:",left"+n+",top"+n),M+":"+r}(r,o)),l&&(f.a.canvasSupported?n.push("background-color:"+l):(n.push("background-color:#"+Object(_.i)(l)),n.push("filter:alpha(opacity=70)"))),Object(h.k)(["width","color","radius"],(function(e){var o="border-"+e,r=Object(y.h)(o),l=t.get(r);null!=l&&n.push(o+":"+l+("color"===e?"":"px"))})),n.push(function(t){var e=[],o=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),o&&e.push("line-height:"+Math.round(3*o/2)+"px");var r=t.get("textShadowColor"),l=t.get("textShadowBlur")||0,c=t.get("textShadowOffsetX")||0,d=t.get("textShadowOffsetY")||0;return r&&l&&e.push("text-shadow:"+c+"px "+d+"px "+l+"px "+r),Object(h.k)(["decoration","align"],(function(o){var n=t.get(o);n&&e.push("text-"+o+":"+n)})),e.join(";")}(x)),null!=k&&n.push("padding:"+Object(y.g)(k).join("px ")+"px"),n.join(";")+";"}function D(t,e,o,n,r){var l=e&&e.painter;if(o){var c=l&&l.getViewportRoot();c&&Object(m.c)(t,c,document.body,n,r)}else{t[0]=n,t[1]=r;var d=l&&l.getViewportRootOffset();d&&(t[0]+=d.offsetLeft,t[1]+=d.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var P=function(){function t(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,f.a.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=e.getZr(),l=this._appendToBody=o&&o.appendToBody;D(this._styleCoord,r,l,e.getWidth()/2,e.getHeight()/2),l?document.body.appendChild(n):t.appendChild(n),this._container=t;var c=this;n.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!c._enterable){var e=r.handler,o=r.painter.getViewportRoot();Object(v.e)(o,t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return t.prototype.update=function(t){var e,style,o,n=this._container,r=(style="position",(o=(e=n).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?style?o[style]:o:null),l=n.style;"absolute"!==l.position&&"absolute"!==r&&(l.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,style=o.style,n=this._styleCoord;o.innerHTML?style.cssText=I+A(t,!this._firstShow,this._longHide)+j(n[0],n[1],!0)+"border-color:"+Object(y.b)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):style.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(content,t,e,o,n){var r=this.el;if(null!=content){var l="";if(Object(h.B)(n)&&"item"===e.get("trigger")&&!x(e)&&(l=function(t,e,o){if(!Object(h.B)(o)||"inside"===o)return"";var n=t.get("backgroundColor"),r=t.get("borderWidth");e=Object(y.b)(e);var l,c,d="left"===(l=o)?"right":"right"===l?"left":"top"===l?"bottom":"top",f=Math.max(1.5*Math.round(r),6),_="",v=O+":";Object(h.r)(["left","right"],d)>-1?(_+="top:50%",v+="translateY(-50%) rotate("+(c="left"===d?-225:-45)+"deg)"):(_+="left:50%",v+="translateX(-50%) rotate("+(c="top"===d?225:45)+"deg)");var m=c*Math.PI/180,x=f+r,k=x*Math.abs(Math.cos(m))+x*Math.abs(Math.sin(m)),w=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+f+"px;height:"+f+"px;",(_+=";"+d+":-"+Math.round(100*((k-Math.SQRT2*r)/2+Math.SQRT2*r-(k-x)/2))/100+"px")+";"+v+";","border-bottom:"+w,"border-right:"+w,"background-color:"+n+";"].join("")+'"></div>'}(e,o,n)),Object(h.B)(content))r.innerHTML=content+l;else if(content){r.innerHTML="",Object(h.t)(content)||(content=[content]);for(var i=0;i<content.length;i++)Object(h.v)(content[i])&&content[i].parentNode!==r&&r.appendChild(content[i]);if(l&&r.childNodes.length){var c=document.createElement("div");c.innerHTML=l,r.appendChild(c)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var o=this._styleCoord;if(D(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var n=this.el.style,r=j(o[0],o[1]);Object(h.k)(r,(function(t){n[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,style=this.el.style;style.visibility="hidden",style.opacity="0",f.a.transform3dSupported&&(style.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(Object(h.c)(this.hide,this),time)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),B=o(386),N=o(349);function z(t){return Math.max(0,t)}function R(style){var t=z(style.shadowBlur||0),e=z(style.shadowOffsetX||0),o=z(style.shadowOffsetY||0);return{left:z(t-e),right:z(t+e),top:z(t-o),bottom:z(t+o)}}function E(t,e,o,n){t[0]=o,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var L=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),E(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(content,t,e,o,n){h.A(content)&&Object(N.c)(""),this.el&&this._zr.remove(this.el);var r=e.getModel("textStyle");this.el=new B.a({style:{rich:t.richTextStyles,text:content,lineHeight:22,backgroundColor:e.get("backgroundColor"),borderRadius:e.get("borderRadius"),borderWidth:1,borderColor:o,shadowColor:e.get("shadowColor"),shadowBlur:e.get("shadowBlur"),shadowOffsetX:e.get("shadowOffsetX"),shadowOffsetY:e.get("shadowOffsetY"),textShadowColor:r.get("textShadowColor"),textShadowBlur:r.get("textShadowBlur")||0,textShadowOffsetX:r.get("textShadowOffsetX")||0,textShadowOffsetY:r.get("textShadowOffsetY")||0,fill:e.get(["textStyle","color"]),padding:Object(T.d)(e,"richText"),verticalAlign:"top",align:"left"},z:e.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",(function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0})),this.el.on("mouseout",(function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=R(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},t.prototype.moveTo=function(t,e){var o=this.el;if(o){var n=this._styleCoord;E(n,this._zr,t,e),t=n[0],e=n[1];var style=o.style,r=z(style.borderWidth||0),l=R(style);o.x=t+r+l.left,o.y=e+r+l.top,o.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(h.c(this.hide,this),time)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),H=o(322),W=o(528),$=o(400),V=o(331),F=o(354),Y=o(399),X=o(351),G=o(398),U=o(321),J=o(335),K=o(390),Z=o(329),Q=o(376),tt=o(397),et=o(355),it=h.c,ot=h.k,nt=H.n,at=new W.a({shape:{x:-1,y:-1,width:2,height:2}}),st=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return Object(l.a)(e,t),e.prototype.init=function(t,e){if(!f.a.node){var o=t.getComponent("tooltip"),n=o.get("renderMode");this._renderMode=Object(U.i)(n),this._tooltipContent="richText"===this._renderMode?new L(e):new P(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,e,o){if(!f.a.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=o,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?Object(et.c)(it(this._doUpdatePosition,this),50):this._doUpdatePosition}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");Y.a("itemTooltip",this._api,it((function(e,o,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(o,n):"leave"===e&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,o=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!o.isDisposed()&&n.manuallyShowTip(t,e,o,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,o,n){if(n.from!==this.uid&&!f.a.node){var r=ct(n,o);this._ticket="";var l=n.dataByCoordSys,c=function(t,e,o){var n=Object(U.r)(t).queryOptionMap,r=n.keys()[0];if(!r||"series"===r)return;var l,c=Object(U.t)(e,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!c)return;if(o.getViewOfComponentModel(c).group.traverse((function(e){var o=Object(Z.a)(e).tooltipConfig;if(o&&o.name===t.name)return l=e,!0})),l)return{componentMainType:r,componentIndex:c.componentIndex,el:l}}(n,e,o);if(c){var rect=c.el.getBoundingRect().clone();rect.applyTransform(c.el.transform),this._tryShow({offsetX:rect.x+rect.width/2,offsetY:rect.y+rect.height/2,target:c.el,position:n.position,positionDefault:"bottom"},r)}else if(n.tooltip&&null!=n.x&&null!=n.y){var d=at;d.x=n.x,d.y=n.y,d.update(),Object(Z.a)(d).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:d},r)}else if(l)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:l,tooltipOption:n.tooltipOption},r);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,o,n))return;var h=Object($.a)(n,e),_=h.point[0],v=h.point[1];null!=_&&null!=v&&this._tryShow({offsetX:_,offsetY:v,target:h.el,position:n.position,positionDefault:"bottom"},r)}else null!=n.x&&null!=n.y&&(o.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:o.getZr().findHover(n.x,n.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,o,n){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(ct(n,o))},e.prototype._manuallyAxisShowTip=function(t,e,o,n){var r=n.seriesIndex,l=n.dataIndex,c=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=l&&null!=c){var d=e.getSeriesByIndex(r);if(d)if("axis"===lt([d.getData().getItemModel(l),d,(d.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:l,position:n.position}),!0}},e.prototype._tryShow=function(t,e){var o=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(o){var r,l;this._lastDataByCoordSys=null,Object(tt.a)(o,(function(t){return null!=Object(Z.a)(t).dataIndex?(r=t,!0):null!=Object(Z.a)(t).tooltipConfig?(l=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):l?this._showComponentItemTooltip(t,l,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var o=t.get("showDelay");e=h.c(e,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(e,o):e()},e.prototype._showAxisTooltip=function(t,e){var o=this._ecModel,n=this._tooltipModel,r=[e.offsetX,e.offsetY],l=lt([e.tooltipOption],n),c=this._renderMode,d=[],f=Object(T.c)("section",{blocks:[],noHeader:!0}),_=[],v=new T.a;ot(t,(function(t){ot(t.dataByAxis,(function(t){var e=o.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=G.d(n,e.axis,o,t.seriesDataIndices,t.valueLabelOpt),l=Object(T.c)("section",{header:r,noHeader:!h.R(r),sortBlocks:!0,blocks:[]});f.blocks.push(l),h.k(t.seriesDataIndices,(function(h){var f=o.getSeriesByIndex(h.seriesIndex),m=h.dataIndexInside,x=f.getDataParams(m);if(!(x.dataIndex<0)){x.axisDim=t.axisDim,x.axisIndex=t.axisIndex,x.axisType=t.axisType,x.axisId=t.axisId,x.axisValue=X.c(e.axis,{value:n}),x.axisValueLabel=r,x.marker=v.makeTooltipMarker("item",y.b(x.color),c);var k=Object(Q.b)(f.formatTooltip(m,!0,null));k.markupFragment&&l.blocks.push(k.markupFragment),k.markupText&&_.push(k.markupText),d.push(x)}}))}}))})),f.blocks.reverse(),_.reverse();var m=e.position,x=l.get("order"),k=Object(T.b)(f,v,c,x,o.get("useUTC"),l.get("textStyle"));k&&_.unshift(k);var w="richText"===c?"\n\n":"<br/>",S=_.join(w);this._showOrMove(l,(function(){this._updateContentNotChangedOnAxis(t,d)?this._updatePosition(l,m,r[0],r[1],this._tooltipContent,d):this._showTooltipContent(l,S,d,Math.random()+"",r[0],r[1],m,null,v)}))},e.prototype._showSeriesItemTooltip=function(t,e,o){var n=this._ecModel,r=Object(Z.a)(e),l=r.seriesIndex,c=n.getSeriesByIndex(l),d=r.dataModel||c,h=r.dataIndex,f=r.dataType,data=d.getData(f),_=this._renderMode,v=t.positionDefault,m=lt([data.getItemModel(h),d,c&&(c.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),x=m.get("trigger");if(null==x||"item"===x){var k=d.getDataParams(h,f),w=new T.a;k.marker=w.makeTooltipMarker("item",y.b(k.color),_);var S=Object(Q.b)(d.formatTooltip(h,!1,f)),C=m.get("order"),M=S.markupFragment?Object(T.b)(S.markupFragment,w,_,C,n.get("useUTC"),m.get("textStyle")):S.markupText,O="item_"+d.name+"_"+h;this._showOrMove(m,(function(){this._showTooltipContent(m,M,k,O,t.offsetX,t.offsetY,t.position,t.target,w)})),o({type:"showTip",dataIndexInside:h,dataIndex:data.getRawIndex(h),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,o){var n=Object(Z.a)(e),r=n.tooltipConfig.option||{};if(h.B(r)){r={content:r,formatter:r}}var l=[r],c=this._ecModel.getComponent(n.componentMainType,n.componentIndex);c&&l.push(c),l.push({formatter:r.content});var d=t.positionDefault,f=lt(l,this._tooltipModel,d?{position:d}:null),_=f.get("content"),v=Math.random()+"",m=new T.a;this._showOrMove(f,(function(){var o=h.d(f.get("formatterParams")||{});this._showTooltipContent(f,_,o,v,t.offsetX,t.offsetY,t.position,e,m)})),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,o,n,r,l,c,d,f){if(this._ticket="",t.get("showContent")&&t.get("show")){var _=this._tooltipContent,v=t.get("formatter");c=c||t.get("position");var html=e,m=this._getNearestPoint([r,l],o,t.get("trigger"),t.get("borderColor")).color;if(v)if(h.B(v)){var x=t.ecModel.get("useUTC"),k=h.t(o)?o[0]:o;html=v,k&&k.axisType&&k.axisType.indexOf("time")>=0&&(html=Object(K.h)(k.axisValue,html,x)),html=y.d(html,o,!0)}else if(h.w(v)){var w=it((function(e,html){e===this._ticket&&(_.setContent(html,f,t,m,c),this._updatePosition(t,c,r,l,_,o,d))}),this);this._ticket=n,html=v(o,n,w)}else html=v;_.setContent(html,f,t,m,c),_.show(t,m),this._updatePosition(t,c,r,l,_,o,d)}},e.prototype._getNearestPoint=function(t,e,o,n){return"axis"===o||h.t(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:h.t(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._doUpdatePosition=function(t,e,o,n,content,r,l){var c=this._api.getWidth(),d=this._api.getHeight();e=e||t.get("position");var f=content.getSize(),_=t.get("align"),v=t.get("verticalAlign"),rect=l&&l.getBoundingRect().clone();if(l&&rect.applyTransform(l.transform),h.w(e)&&(e=e([o,n],r,content.el,rect,{viewSize:[c,d],contentSize:f.slice()})),h.t(e))o=nt(e[0],c),n=nt(e[1],d);else if(h.A(e)){var m=e;m.width=f[0],m.height=f[1];var y=V.e(m,{width:c,height:d});o=y.x,n=y.y,_=null,v=null}else if(h.B(e)&&l){var k=function(t,rect,e,o){var n=e[0],r=e[1],l=Math.ceil(Math.SQRT2*o)+8,c=0,d=0,h=rect.width,f=rect.height;switch(t){case"inside":c=rect.x+h/2-n/2,d=rect.y+f/2-r/2;break;case"top":c=rect.x+h/2-n/2,d=rect.y-r-l;break;case"bottom":c=rect.x+h/2-n/2,d=rect.y+f+l;break;case"left":c=rect.x-n-l,d=rect.y+f/2-r/2;break;case"right":c=rect.x+h+l,d=rect.y+f/2-r/2}return[c,d]}(e,rect,f,t.get("borderWidth"));o=k[0],n=k[1]}else{k=function(t,e,content,o,n,r,l){var c=content.getSize(),d=c[0],h=c[1];null!=r&&(t+d+r+2>o?t-=d+r:t+=r);null!=l&&(e+h+l>n?e-=h+l:e+=l);return[t,e]}(o,n,content,c,d,_?null:20,v?null:20);o=k[0],n=k[1]}if(_&&(o-=ut(_)?f[0]/2:"right"===_?f[0]:0),v&&(n-=ut(v)?f[1]/2:"bottom"===v?f[1]:0),x(t)){k=function(t,e,content,o,n){var r=content.getSize(),l=r[0],c=r[1];return t=Math.min(t+l,o)-l,e=Math.min(e+c,n)-c,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(o,n,content,c,d);o=k[0],n=k[1]}content.moveTo(o,n)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var o=this._lastDataByCoordSys,n=this._cbParamsList,r=!!o&&o.length===t.length;return r&&ot(o,(function(o,l){var c=o.dataByAxis||[],d=(t[l]||{}).dataByAxis||[];(r=r&&c.length===d.length)&&ot(c,(function(t,o){var l=d[o]||{},c=t.seriesDataIndices||[],f=l.seriesDataIndices||[];(r=r&&t.value===l.value&&t.axisType===l.axisType&&t.axisId===l.axisId&&c.length===f.length)&&ot(c,(function(t,e){var o=f[e];r=r&&t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})),n&&h.k(t.seriesDataIndices,(function(t){var o=t.seriesIndex,l=e[o],c=n[o];l&&c&&c.data!==l.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){f.a.node||(this._tooltipContent.dispose(),Y.b("itemTooltip",e))},e.type="tooltip",e}(J.a);function lt(t,e,o){var n,r=e.ecModel;o?(n=new F.a(o,r,r),n=new F.a(e.option,n,r)):n=e;for(var i=t.length-1;i>=0;i--){var l=t[i];l&&(l instanceof F.a&&(l=l.get("tooltip",!0)),h.B(l)&&(l={formatter:l}),l&&(n=new F.a(l,n,r)))}return n}function ct(t,e){return t.dispatchAction||h.c(e.dispatchAction,e)}function ut(t){return"center"===t||"middle"===t}var ht=st;function pt(t){Object(r.a)(n.a),t.registerComponentModel(d),t.registerComponentView(ht),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}},413:function(t,e,o){"use strict";o(385)},415:function(t,e,o){"use strict";o.r(e);o(18),o(67);var n={props:{vip:{default:!1}},data:function(){return{fakeData:[["1258 其祥-KY",-.24226804123711343,.1,"2021-01-01"],["1336 台翰",-.015452538631346768,.1,"2021-01-01"],["1413 宏洲",-.08035714285714313,.1,"2021-01-01"],["1528 恩德",-.08727858293075608,.1,"2021-01-01"],["8916 光隆",.10973451327433681,.1,"2021-01-01"],["9962 有益",.00964630225080354,.1,"2021-01-01"]]}},methods:{stockReturnColor:function(t){return 0===t?"gray":t>0?"#ff3385":"#08c79e"},sign:function(t){return t>0?"+"+t.toString():t.toString()}}},r=(o(413),o(41)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"uk-inline uk-width-1-1",staticStyle:{"overflow-x":"hidden"}},[o("table",{staticClass:"uk-table uk-table-divider uk-width-1-1",staticStyle:{"white-space":"nowrap"}},[t._m(0),t._v(" "),o("tbody",t._l(t.fakeData,(function(e){return o("tr",{key:e[0]},[o("td",{staticClass:"uk-text-primary"},[t._v(t._s(e[0]))]),t._v(" "),o("td",{style:"color:"+t.stockReturnColor(e[1])},[t._v("\n            "+t._s(Math.round(100*t.sign(e[1]))/100)+"%\n          ")]),t._v(" "),o("td",{style:"color:"+t.stockReturnColor(e[2])},[t._v("\n            "+t._s(100*e[2])+" %\n          ")]),t._v(" "),o("td",{staticClass:"uk-text-right"},[t._v(t._s(e[3]))])])})),0)]),t._v(" "),o("div",{staticClass:"blur uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"},[o("nuxt-link",{attrs:{to:"/pricing"}},[t.vip?o("div",{staticClass:"uk-text-center vip uk-text-primary",attrs:{"uk-scrollspy":"cls: uk-animation-kenburns; repeat: true"}},[o("span",{attrs:{"uk-icon":"icon: lock; ratio: 3.5"}}),t._v(" "),o("h2",{staticClass:"uk-text-primary"},[t._v("FinLab VIP")]),t._v(" "),o("p",[t._v("\n            學程式、練投資一切搞定\n          ")])]):t._e()]),t._v(" "),t.vip?t._e():o("a",{attrs:{"uk-toggle":"target: #login-ui"}},[t._m(1)])],1)])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",[t._v("名稱")]),t._v(" "),o("th",[t._v("漲跌")]),t._v(" "),o("th",[t._v("權重")]),t._v(" "),o("th",{staticClass:"uk-text-right"},[t._v("清單新增")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"uk-text-center vip uk-text-primary",attrs:{"uk-scrollspy":"cls: uk-animation-kenburns; repeat: true"}},[o("span",{attrs:{"uk-icon":"icon: lock; ratio: 3.5"}}),t._v(" "),o("h2",{staticClass:"uk-text-primary"},[t._v("FinLab")]),t._v(" "),o("p",[t._v("\n            登入查看符合條件的清單\n          ")])])}],!1,null,"96fe9148",null);e.default=component.exports},421:function(t,e,o){"use strict";o.r(e);var n=o(23),r=o(8),l=(o(31),o(47),o(117),o(18),o(28),o(67),o(60),o(158),o(62),o(333),o(64),o(83),o(323)),c=o(19),d=o(94),h=o.n(d),f=Object(l.c)({components:{},props:{uid:{default:null,type:String},strategy_id:{default:null,type:String},position_id:{default:null,type:String},positionPredefined:{default:null,type:Object}},data:function(){var t=this;return window.goto=function(link){t.$router.push(link)},{showInfo:!1,position:null,mounted:!1,tableMode:"present",displayTableMode:["當前統計","近期更動清單"],sortTableCol:"股票",sortAscending:!0,table:[],weights:{},userCap:20,colabLink:null,buildingColab:!1,next_trading_date:null,update_date:null,last_updated:null,trade_at:null,stop_loss:-1/0,take_profit:1/0,displayStockId:"",failed:!1,freq:"1d"}},mounted:function(){this.init(),this.mounted=!0},methods:{openStockPanel:function(s){this.displayStockId=s.split(" ")[0],window.scrollTo(document.getElementById("stock-id-".concat(s)).top)},showStock:function(s){this.displayStockId=s,h.a.modal("#modal-stock").show()},setSortColumn:function(col){this.sortTableCol===col?this.sortAscending=!this.sortAscending:this.sortAscending=!1,this.sortTableCol=col},init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,l,d,table,p,h,f,_,v,m,y,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.strategy_id&&t.position_id||t.positionPredefined){e.next=2;break}return e.abrupt("return");case 2:if(o=null,!t.positionPredefined){e.next=7;break}o=t.positionPredefined,e.next=21;break;case 7:return e.prev=7,e.next=10,c.c.collection("users").doc(t.uid).collection("strategies").doc(t.strategy_id).collection("positions").doc(t.position_id).get();case 10:r=e.sent,l=r.data(),o="position"in l?l.position:l,console.log(o),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(7),console.log("PositionPanel: cannot read position "+e.t0),t.failed=!0,e.abrupt("return");case 21:d=o,t.next_trading_date=d.next_trading_date,t.update_date=d.update_date,t.trade_at=d.trade_at,t.last_updated=d.last_updated.toDate(),t.position=d,table=[],t.weights={},e.t1=regeneratorRuntime.keys(d);case 30:if((e.t2=e.t1()).done){e.next=54;break}if(p=e.t2.value,h=d[p],"object"===Object(n.a)(h)){e.next=36;break}return"freq"==p?t.freq=h:"stop_loss"===p?t.stop_loss=h:"take_profit"===p&&(t.take_profit=h),e.abrupt("continue",30);case 36:if("NaT"===h.exit_date&&(h.exit_date=""),h.exit_date&&(h.status="exit"),"weight"in h||"return"in h){e.next=40;break}return e.abrupt("continue",30);case 40:f={close:"收盤",open:"開盤","open|close":"盤中"},_=t.trade_at in f?f[self.trade_at]:self.trade_at,v={hold:"持有",exit:"移除",enter:"新增",sl:"".concat(_,"停損"),tp:"".concat(_,"停利"),sl_:"已停損",tp_:"已停利","買進":"新增","賣出":"移除","停損停利":h.return>0?"".concat(_,"停利"):"".concat(_,"停損")},m=h.status in v?v[h.status]:h.status,y=0,"next_weight"in h&&(y=h.next_weight),"string"==typeof h.exit_date&-1!=h.exit_date.indexOf("T")&&(h.exit_date=h.exit_date.split("T")[0]),"string"==typeof h.entry_date&-1!=h.entry_date.indexOf("T")&&(h.entry_date=h.entry_date.split("T")[0]),x={stock:p,action:m,profit:Math.round(1e3*h.return)/10,weight:Math.round(1e3*h.weight)/10,nextWeight:Math.round(1e3*y)/10,entry_sig_date:h.entry_date,exit_sig_date:h.exit_date,entry_price:h.entry_price},table.push(x),"買進"==h.status||"entry"==h.status?t.update_date=h.entry_date:"賣出"!=h.status&&"exit"!=h.status||(t.update_date=h.exit_date),"weight"in h&&(t.weights[p]=h.weight),e.next=30;break;case 54:t.table=table;case 55:case"end":return e.stop()}}),e,null,[[7,16]])})))()},stockStatusColor:function(t){var output={"新增":"gray","持有":"lightgray","移除":"gray","停損停利":"#252786"};return t in output?output[t]:"gray"},stockReturnColor:function(t){return 0===t?"gray":t>0?"#ff3385":"#08c79e"},sign:function(t){return t>0?"+"+t.toString():t.toString()},formatDate:function(t){if(null===t)return"";var e=new Date,o=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?o[1]:o[0]},generate_colab_script:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.buildingColab=!0,o="",t.weights)r=n.match(/\d+/)[0],o+='  "'.concat(r,'" : ').concat(t.weights[n],",\n");return l=["!pip install finlab -q","from finlab.online.order_executor import OrderExecutor\n\noe = OrderExecutor.from_weights({\n\n".concat(o,"\n}, ").concat(1e4*t.userCap,")"),"# 查看欲執行的委託單：\noe._calculate_new_orders()","# 市價下單（所有委託單）\noe.create_orders()","# 更新委託單價格到市價（所有未成交委託單）\noe.create_orders()","# 刪單（所有委託單）\noe.cancel_orders()"],c=null,e.prev=5,d={sid:t.$props.strategy_id,uid:t.$props.uid,code:JSON.stringify(l)},e.next=9,t.$axios.post("https://asia-northeast1-fdata-299302.cloudfunctions.net/generate_colab_strategy",d);case 9:c=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),alert("upload colab fail: "+e.t0.data+" "+e.t0),console.log(e.t0),e.abrupt("return");case 17:t.colabLink=c.data;case 18:case"end":return e.stop()}}),e,null,[[5,12]])})))()}},computed:{filteredCols:function(){return this.$store.state.user&&this.$route.query.uid===this.$store.state.user.uid?"present"===this.tableMode?["名稱","漲跌","權重","進場價格","清單新增"]:["名稱","新增移除","漲跌","權重更新","清單新增","清單移除"]:"present"===this.tableMode?["名稱","漲跌","權重","清單新增"]:["名稱","新增移除","漲跌","權重更新","清單新增","清單移除"]},realNextTradingDate:function(){if(0===this.table.length)return"";var t="1977-01-01";for(var e in this.table){var o=Object.assign({},this.table[e]);o.entry_sig_date>t&&(t=o.entry_sig_date),o.exit_sig_date>t&&(t=o.exit_sig_date)}return t},rows:function(){var t=this;if(0===this.table.length)return[];var e=[];for(var o in this.table)if("present"!==this.tableMode||0!=this.table[o].weight){var n=Object.assign({},this.table[o]);e.push(n)}return e.sort((function(a,b){var e={"名稱":"stock","漲跌":"profit","新增移除":"action","權重":"weight","權重更新":"nextWeight","進場價格":"entry_price","清單新增":"entry_sig_date","清單移除":"exit_sig_date"}[t.sortTableCol];return a[e]<b[e]^t.sortAscending?1:-1})),e},unrealizedReturn:function(){var t=0;for(var e in this.table){var o=this.table[e].weight,n=this.table[e].profit*(o/100);isNaN(n)||(t+=n,o)}return t=Math.round(10*t)/10,isNaN(t)?0:t},realizedReturn:function(){var t=0;for(var e in this.table){var o=this.table[e].weight,n=this.table[e].profit*(o/100);isNaN(n)||"移除"!==this.table[e].action||(t+=n,o)}return t=Math.round(10*t)/10,isNaN(t)?0:t},hasPermission:function(){var t=this.$store.state.strategy.info.public_position,e=null!==this.$store.state.user;return this.userPermission>=t||e&&this.$store.state.user.uid===this.$props.uid},userPermission:function(){return""===this.$store.state.role?0:"free"===this.$store.state.role?1:this.$store.state.role.includes("vip")?2:void 0}},watch:{userPermission:function(){this.init()}}}),_=(o(438),o(41)),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"padding-bottom":"24px"}},[null===t.$store.state.user?o("div",[o("FakePosition",{attrs:{vip:!1}})],1):t._e(),t._v(" "),null!==t.$store.state.user?o("div",[o("div",{staticClass:"uk-width-1-1"},[o("ul",{staticClass:"uk-flex uk-subnav uk-subnav-divider",attrs:{"uk-margin":""}},[o("li",{class:{"uk-active":"present"===t.tableMode}},[o("a",{on:{click:function(e){t.tableMode="present"}}},[o("div",[t._v("\n              "+t._s(t.displayTableMode[0])+" "),o("br"),t._v(" "),o("span",{staticClass:"uk-text-lead uk-text-bold",style:{color:t.stockReturnColor(t.unrealizedReturn)}},[t._v("\n                "+t._s(t.sign(t.unrealizedReturn))+" %\n              ")])])])]),t._v(" "),o("li",{class:{"uk-active":"future"===t.tableMode}},[o("a",{on:{click:function(e){t.tableMode="future"}}},[o("div",[t._v("\n              "+t._s(t.displayTableMode[1])+" "),o("br"),t._v(" "),o("span",{staticClass:"uk-text-lead uk-text-bold",staticStyle:{color:"#777"}},[t._v(t._s(t.realNextTradingDate))])])])])]),t._v(" "),"future"==t.tableMode?o("div",{staticClass:"uk-text-small uk-card uk-padding-small uk-margin-large-top uk-margin-large-bottom shadow"},[o("p",[t._v("此策略的模擬交易的細節")]),t._v(" "),o("ul",{staticClass:"uk-list"},[o("li",[t._v("於 "+t._s("1d"===t.freq?t.next_trading_date.split("T")[0]:t.next_trading_date)+" 之後的下個交易日\n            接近\n            "+t._s("close"===t.trade_at?"收盤":"開盤")+" 時調整部位\n          ")]),t._v(" "),t.stop_loss!=-1/0||t.take_profit!=1/0?o("li",[t._v("\n\n            "+t._s(t.stop_loss!=-1/0?"停損為"+100*t.stop_loss+"%，":"")+"\n            "+t._s(t.take_profit!=1/0?"停利為"+100*t.take_profit+"%，":"")+"\n            每日盤後檢查，如觸發則於下個交易日的\n            "+t._s("close"===t.trade_at?"收盤":"開盤")+"\n            出場\n          ")]):t._e()])]):t._e(),t._v(" "),t.mounted?o("div",{staticClass:"uk-overflow-auto"},[0!==t.rows.length?o("table",{staticClass:"uk-table uk-table-divider",staticStyle:{"white-space":"nowrap"}},[o("thead",[o("tr",{staticClass:"uk-text-right"},t._l(t.filteredCols,(function(e,n){return o("th",{key:"table-col-"+e,staticStyle:{"padding-left":"0"},style:0===n?"text-align:left!important":"text-align:right!important",on:{click:function(o){return t.setSortColumn(e)}}},[t._v("\n                "+t._s(e)+"\n                "),t.sortTableCol===e?o("span",[t._v(t._s(t.sortAscending?"▲":"▼"))]):t._e()])})),0)]),t._v(" "),o("tbody",{staticClass:"uk-text-right"},t._l(t.rows,(function(e){return o("tr",{key:"table-row-"+e.stock},[t.filteredCols.includes("名稱")?o("td",{staticClass:"uk-text-left",staticStyle:{"padding-left":"0"}},[o("div",{staticClass:"uk-text-primary",staticStyle:{cursor:"pointer"},attrs:{id:"stock-id-"+e.stock},on:{click:function(o){return t.openStockPanel(e.stock)}}},[t._v("\n                  "+t._s(e.stock)+"\n                  "),"持有"!==e.action&&"移除"!==e.action&&"新增"!==e.action?o("span",{staticClass:"round-border uk-background-primary",staticStyle:{"font-size":"0.9rem",color:"white",padding:"0 10px"}},[t._v(t._s(e.action))]):t._e()])]):t._e(),t._v(" "),t.filteredCols.includes("新增移除")?o("td",{style:"color:"+t.stockStatusColor(e.action)},[t._v("\n                "+t._s(e.action)+"\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("漲跌")?o("td",{style:"color:"+t.stockReturnColor(e.profit)},[t._v("\n                "+t._s(t.sign(e.profit))+"%\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("權重")?o("td",{style:"color:"+t.stockReturnColor(e.weight)},[t._v("\n                "+t._s(e.weight)+" %\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("權重更新")?o("td",{style:"color:"+t.stockReturnColor(e.nextWeight)},[t._v("\n                "+t._s(e.nextWeight)+" %\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("進場價格")?o("td",[t._v("\n                "+t._s(e.entry_price)+"\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("清單新增")?o("td",[t._v("\n                "+t._s(e.entry_sig_date)+"\n              ")]):t._e(),t._v(" "),t.filteredCols.includes("清單移除")?o("td",[t._v("\n                "+t._s(e.exit_sig_date)+"\n              ")]):t._e()])})),0)]):o("div",[t.failed?o("FakePosition",{attrs:{vip:!0}}):o("span",[t._v("目前策略無持股喔！")])],1)]):t._e(),t._v(" "),o("div",{staticClass:"uk-margin-large-top uk-margin-large-bottom"},[o("p",[t._v("\n          不知道怎麼使用？"),o("br"),t._v("趕快來看\n          "),o("nuxt-link",{attrs:{to:"/course?cid=LqYTLW3KkXRSPnci47xe"}},[o("span",{staticStyle:{"text-decoration":"underline"}},[t._v("平台速成教學")])]),t._v("\n          ！\n        ")],1)])])]):t._e(),t._v(" "),t.displayStockId?o("div",{staticClass:"stock-panel shadow"},[o("a",{staticClass:"uk-icon-button shadow",staticStyle:{border:"1px solid #ccc",top:"3px",right:"6px",position:"absolute","z-index":"100"},attrs:{"uk-icon":"close"},on:{click:function(e){t.displayStockId=""}}}),t._v(" "),o("div",{staticStyle:{height:"100%"}},[o("StockPanel",{attrs:{stock_id:t.displayStockId,displaySearchBar:!1}})],1)]):t._e()])}),[],!1,null,"f2a918de",null);e.default=component.exports;installComponents(component,{FakePosition:o(415).default,StockPanel:o(394).default})},438:function(t,e,o){"use strict";o(407)}}]);
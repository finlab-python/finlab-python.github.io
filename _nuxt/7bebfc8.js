(window.webpackJsonp=window.webpackJsonp||[]).push([[95,22,50],{1015:function(t,e,n){"use strict";n.r(e);n(74),n(54),n(60),n(53),n(23),n(44),n(45),n(66),n(67),n(56);var r=n(77),o=n(12),c=n(28),l=(n(43),n(65),n(75),n(429),n(39),n(30),n(86),n(64),n(122)),d=n.n(l),h=n(26),f=n(196),v=n(57),m=n(554),_=n(742),k=n(835);n(708);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){Object(c.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var S={head:{title:"最優質的 Python 選股程式範例 | FinLab 台股策略庫",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"多種股票投資策略範例，所有策略歷史績效表現顯著。更有當月走勢、大盤比較等詳細資訊，快來股票投資策略庫查看！\n          技術指標交易策略：利用股票價格、成交量、動能等技術指標，對市場走勢進行分析和預測，進行交易。例如，MACD、RSI、KD、布林帶等指標。其中包含事件驅動策略：關注公司公告、新聞、市場事件等，利用事件對股票價格產生的影響進行交易。例如，併購、分拆、股票回購等事件。本益比策略：以公司股票的本益比為依據，選擇相對低估的股票進行投資。本益比高於市場平均值的股票視為高估，本益比低於市場平均值的股票視為低估。股利收益率策略：以公司股票的股利收益率為依據，選擇相對高收益的股票進行投資。股利收益率高於市場平均值的股票視為高收益，反之則低收益。\n          大盤择时策略：根據大盤指數的走勢，選擇進場或出場時機。例如，當大盤上漲時，進場買進；當大盤下跌時，出場賣出。\n          預測股價策略：利用基本面分析、技術分析等方法，對股票未來價格進行預測，選擇相對低估的股票進行投資。\n          價值投資策略：選擇市場低估的優質公司股票進行投資。例如，利用股票的財務報表等基本面指標，分析公司價值。\n          成長投資策略：選擇市場成長潛力較高的公司股票進行投資。例如，利用公司的業績、產品創新等因素，分析公司成長潛力。\n          統計套利策略：利用市場的價格異常、漏洞進行交易。例如，股票與期貨之間的價差。"}]},components:{LineCanvas:m.default,AutoUpdatePanel:_.default,BulletinBoard:k.default},watchQuery:function(t){this.changeTab(t.tab)},data:function(){return{targetStrategy:null,newStrategyName:"",finlabStrategies:null,tab:"FinLab台股",otherUid:this.$route.query.uid||"TJN4FDuqrwU8DML7DAjUYFIMutp2",publicList:!1,publicName:"",showTab:void 0===this.$route.query.uid,showAutoUpdate:!1,showShareStrategies:!1,sortSelectedColumn:6,sortDecending:!0,sortAttritubes:[function(s){return s.name},function(s){return s.annual_return},function(s){return s.max_drawdown},function(s){return s.sharpe_ratio},function(s){return s.ndays_return[5]},function(s){return s.ndays_return[20]},function(s){return s.ndays_return[60]},function(s){return s.last_updated}],sortNames:{"名稱":0,"近季報酬":6,"近月報酬":5,"近週報酬":4,"年化報酬":1,"最大下跌":2,"夏普值":3},isChangingName:!1,courses:{},selectedTag:"全部",cardDisplay:!0,showFilter:!0}},mounted:function(){this.downloadFinLabStrategy(),this.changeTab(this.$route.query.tab),this.updateCourse(),window.innerWidth<640&&(this.showFilter=!1)},methods:w(w({displayMarketTag:function(t){var e=!1,n=!1,r=null;"我的策略"===this.tab&&this.userInfo.info&&(r=this.userInfo.info.tags),"FinLab台股"!==this.tab&&"FinLab美股"!==this.tab||null===this.finlabStrategies||(r=this.finlabStrategies.tags);var o=null!=r;if(o&&void 0!==r[t]||(e=!1,n=!1),o)for(var i in r[t])"美股"===r[t][i].text?e=!0:"台股"===r[t][i].text&&(n=!0);return!("FinLab台股"!==this.tab||!n)||(!("FinLab美股"!==this.tab||!e)||("TJN4FDuqrwU8DML7DAjUYFIMutp2"!==this.otherUid||"FinLab台股"!==this.tab&&"FinLab美股"!==this.tab))},hasTag:function(t,e){var n=this.selectedTag;if("全部"===n)return!0;var r=null;if("我的策略"===this.tab&&this.userInfo.info&&(r=this.userInfo.info.tags),"FinLab台股"!==this.tab&&"FinLab美股"!==this.tab||null===this.finlabStrategies||(r=this.finlabStrategies.tags),void 0===r[e])return!1;for(var i in r[e])if(r[e][i].text===n)return!0;return!1},updateCourse:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,h.c.collection("courses").doc("menu").get();case 1:for(r in n=e.sent.data())n[r].sid&&(t.courses[n[r].sid]=r);t.$forceUpdate();case 2:case"end":return e.stop()}},e)}))()},changeTab:function(t){t&&(this.tab=t)},officialStrategies:function(){return("FinLab台股"===this.tab||"FinLab美股"===this.tab)&"TJN4FDuqrwU8DML7DAjUYFIMutp2"===this.otherUid},updateListInfo:function(){this.userInfo.info&&("public"in this.userInfo.info&&(this.publicList=this.userInfo.info.public),"title"in this.userInfo.info&&(this.publicName=this.userInfo.info.title))},switchTab:function(t){this.tab=t,window.history.pushState({},null,window.location.href.split("?")[0]+"?tab="+t)},copyStrategyMethod:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r,o,l,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.user.uid,r=t.targetStrategy,o="undefined"!=typeof window&&window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"sid-"+Math.random().toString(36).slice(2)+Date.now().toString(36),e.next=1,Object(f.b)(n,r,n,o);case 1:return e.prev=1,l=h.c.collection("users").doc(n),e.next=2,l.update(Object(c.a)({},"strategies.".concat(o,".name"),t.newStrategyName));case 2:d.a.notification("複製完成",{status:"success"}),e.next=4;break;case 3:e.prev=3,v=e.catch(1),console.error(v);case 4:case"end":return e.stop()}},e,null,[[1,3]])}))()},updatePublicList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.user.uid,e.next=1,h.c.collection("users").doc(n);case 1:e.sent.update({public:t.publicList,title:t.publicName}),d.a.modal.alert("成功更新!");case 2:case"end":return e.stop()}},e)}))()},format_float:function(t){return Math.round(100*t)/100},addSign:function(t){return t>0?"+"+t.toString():t.toString()},addSignColor:function(t){return 0===t?"color:gray":t>0?"color:rgb(255, 82, 121)":"color:#00c9b7"},copyToClp:function(text){var input=document.createElement("textarea");input.innerHTML=text,document.body.appendChild(input),input.select();var t=document.execCommand("copy");return document.body.removeChild(input),t},strategyName:function(t,e){return e&&"string"==typeof e.name&&e.name.length>0?e.name:t},truncatedStrategyName:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=this.strategyName(t,e);return"string"==typeof r&&r.length>n?r.slice(0,n)+"...":r},removeStrategyMethod:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Object(f.c)(t.$store.state.user.uid,t.targetStrategy);case 1:case"end":return e.stop()}},e)}))()},formatDate:function(t){if(null===t)return"無法顯示時間";if("string"==typeof t)return t;t=t.toDate();var e=new Date,n=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?n[1]:n[0]},createStrategy:function(){var t=Object(f.d)("未命名",this.userInfo),e="undefined"!=typeof window&&window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"sid-"+Math.random().toString(36).slice(2)+Date.now().toString(36);this.$router.push("/notebook/?uid=".concat(this.$store.state.user.uid,"&sid=").concat(e,"&name=").concat(encodeURIComponent(t)))}},Object(v.b)({setRealtimeUpdate:"userInfo/setRealtimeUpdate",cancelRealtimeUpdate:"userInfo/cancelRealtimeUpdate"})),{},{downloadFinLabStrategy:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.finlabStrategies){e.next=1;break}return e.abrupt("return");case 1:return n=null,e.prev=2,e.next=3,h.c.collection("users").doc(t.otherUid).get();case 3:r=e.sent,n=r.data(),e.next=5;break;case 4:return e.prev=4,o=e.catch(2),alert("cannot fetch finlab strategy"+o),e.abrupt("return");case 5:t.finlabStrategies=n;case 6:case"end":return e.stop()}},e,null,[[2,4]])}))()},sortTable:function(table){if(null===table)return null;"playground"in table&&delete table.playground;var t=Object.keys(table).map(function(t){return[t,table[t]]}),e=this;return t.sort(function(t,n){var r=e.sortAttritubes[e.sortSelectedColumn];function o(t){try{return r(t)}catch(t){}}if(0!==e.sortSelectedColumn)return(o(n[1])-o(t[1]))*(e.sortDecending-.5);var c=t[1]&&t[1].name?t[1].name:t[0],l=n[1]&&n[1].name?n[1].name:n[0];return c.localeCompare(l)*(e.sortDecending-.5)}),t},to_notebook:function(t){var e=this.permission(t,"public_code");if(10!=e){var n=this.finlabStrategies&&this.finlabStrategies.strategies&&this.finlabStrategies.strategies[t]?this.finlabStrategies.strategies[t]:null,r=n&&n.name?n.name:t;2!==e?1!==e?0!==e?d.a.modal.alert("神奇的權限等級: "+e):this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(r))):this.$store.state.userInfo.info?this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(r))):d.a.modal.alert("請登入來觀看策略"):"vip_y"===this.$store.state.role||"vip_m"===this.$store.state.role?this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t,"&name=").concat(encodeURIComponent(r))):d.a.modal.alert("限 VIP 權限之用戶使用！")}else d.a.modal.alert("該策略並沒有對外開放！")},permission:function(t,e){if(!this.finlabStrategies.strategies)return!1;if(!(t in this.finlabStrategies.strategies))return!1;if(e in this.finlabStrategies.strategies[t]){var n=this.finlabStrategies.strategies[t][e];return n}return!1},permissionColor:function(t,e){if(this.finlabStrategies.strategies&&t in this.finlabStrategies.strategies){if(e in this.finlabStrategies.strategies[t]){var n=this.finlabStrategies.strategies[t][e];if(n<=1)return"color: #252786";if(2==n)return"color: #ff0f47"}return"color: #ddd"}},columnArrow:function(i){return i!==this.sortSelectedColumn?"minus":this.sortDecending?"arrow-down":"arrow-up"},thActive:function(i){return i!==this.sortSelectedColumn?"cursor: pointer;user-select: none;white-space: nowrap;min-width:5rem":"color: #252786;cursor: pointer;user-select: none;white-space: nowrap;min-width:5rem"},thClick:function(i){this.sortSelectedColumn!==i?(this.sortSelectedColumn=i,this.sortDecending=!0):this.sortDecending=!this.sortDecending},shouldUpdate:function(s){if(!1 in s)return!1;if(!1 in s)return!1;var t=new Date,e=t-new Date(s.next_trading_date)+288e5,n=t.getDay(),r=Math.ceil(e/864e5),o=r>0;return o=1===n?o&&r<=4:o&&r<=2,s.stop_actions||o}}),computed:w(w({displayTable:function(){var t=this;if(null===this.targetStrategies)return null;var e=this.sortTable(this.targetStrategies);return e=e.filter(function(e){return 1 in e&&("我的策略"===t.tab||"ndays_return"in e[1])})},currentTags:function(){var t=null,e=null;if("我的策略"===this.tab&&this.userInfo.info&&(t=this.userInfo.info.tags,e=Object.keys(this.userInfo.info.strategies)),"FinLab台股"!==this.tab&&"FinLab美股"!==this.tab||null===this.finlabStrategies||(t=this.finlabStrategies.tags,e=Object.keys(this.finlabStrategies.strategies)),null===t)return["全部"];var n=["全部"];for(var r in t){var o=t[r];for(var i in o)-1===n.indexOf(o[i].text)&&e.includes(r)&&"美股"!==o[i].text&&n.push(o[i].text)}return n},targetStrategies:function(){var t=null;if("我的策略"===this.tab&&this.userInfo.info&&this.userInfo.info.strategies)t=this.userInfo.info.strategies;else if(("FinLab台股"===this.tab||"FinLab美股"===this.tab)&&this.finlabStrategies){t=this.finlabStrategies.strategies;var e=this.officialStrategies();for(var n in t)(10==t[n].public_position&&e||10===t[n].public_performance)&&delete t[n]}return t},targetStrategyBetterCount:function(){if(!this.targetStrategies)return["0/0","0/0","0/0"];var t=0,e=0,n=0,r=0,o=0,c=0,l=0,d=0,h=0,f=0;for(var s in this.targetStrategies){var v=this.targetStrategies[s];(2===v.public_code||3===v.public_code||"FinLab台股"!==this.tab&&"FinLab美股"!==this.tab)&&("ndays_return_benchmark"in v&&(t+=1,v.ndays_return[5]>v.ndays_return_benchmark[5]&&(e+=1),v.ndays_return[20]>v.ndays_return_benchmark[20]&&(n+=1),v.ndays_return[60]>v.ndays_return_benchmark[60]&&(r+=1),o+=v.ndays_return[5],c+=v.ndays_return[20],l+=v.ndays_return[60],d+=v.ndays_return_benchmark[5],h+=v.ndays_return_benchmark[20],f+=v.ndays_return_benchmark[60]))}return o/=t,c/=t,l/=t,d/=t,h/=t,f/=t,{weeklyCnt:"".concat(e," / ").concat(t),monthlyCnt:"".concat(n," / ").concat(t),quarterlyCnt:"".concat(r," / ").concat(t),weeklyMean:Math.round(1e3*o)/10,monthlyMean:Math.round(1e3*c)/10,quarterlyMean:Math.round(1e3*l)/10,bweeklyMean:Math.round(1e3*d)/10,bmonthlyMean:Math.round(1e3*h)/10,bquarterlyMean:Math.round(1e3*f)/10}},best3Strategies:function(){var t=this;if(!this.displayTable)return[];var table=Object(r.a)(this.displayTable);return(table=table.filter(function(s){return t.displayMarketTag(s[0])})).sort(function(t,e){return e[1].ndays_return[5]-t[1].ndays_return[5]}),table.slice(0,3)},strategyUid:function(){return this.$route.query.uid?this.$route.query.uid:"我的策略"===this.tab?this.$store.state.user?this.$store.state.user.uid:"":"TJN4FDuqrwU8DML7DAjUYFIMutp2"},displayTitle:function(){return this.finlabStrategies?"title"in this.finlabStrategies&&"我的策略"!==this.tab?this.finlabStrategies.title:"我的策略":""}},Object(v.c)({userInfo:"userInfo"})),{},{renameInfo:function(){var t=Object(f.a)(this.newStrategyName);return t[0]?"":t[1]},userStrategiesForAutoUpdate:function(){try{if(this.userInfo&&this.userInfo.info&&this.userInfo.info.strategies){var t=[],e=this.userInfo.info.strategies;for(var n in e)if("playground"!==n){var r=e[n],o=r&&"string"==typeof r.name&&r.name.length>0?r.name:n;t.push({sid:n,name:o})}return t.sort(function(a,b){return a.name.localeCompare(b.name)}),t}}catch(t){}return[]}})},C=S,x=(n(917),n(52)),component=Object(x.a)(C,function(){var t=this,e=this,r=e._self._c;return r("div",[r("div",{staticClass:"light-muted"},[r("div",{staticClass:"dark-muted"},[r("div",{staticClass:"uk-container"},[r("div",{staticClass:"uk-flex uk-flex-middle uk-margin-large-top uk-margin-large-bottom uk-visible@s"},[r("h1",{staticClass:"uk-text-primary uk-margin-large-right",staticStyle:{"margin-bottom":"0"}},[e._v("\n            "+e._s(e.displayTitle)+"\n          ")]),e._v(" "),e.$store.state.user?r("div",{staticClass:"uk-visible@s"},[e.$store.state.user?r("a",{staticStyle:{color:"white"},on:{click:e.createStrategy}},[e._m(0)]):e._e(),e._v(" "),e.$store.state.user?r("button",{staticClass:"uk-button uk-button-default uk-margin-left",on:{click:function(t){e.showAutoUpdate=!0}}},[r("span",{attrs:{"uk-icon":"icon: future"}}),e._v(" 自動更新\n            ")]):e._e(),e._v(" "),e.userInfo.info&&e.userInfo.info.strategies?r("AutoUpdatePanel",{attrs:{strategies:e.userStrategiesForAutoUpdate},model:{value:e.showAutoUpdate,callback:function(t){e.showAutoUpdate=t},expression:"showAutoUpdate"}}):e._e(),e._v(" "),e.userInfo.info?r("button",{staticClass:"uk-button uk-button-default uk-margin-left",on:{click:function(t){e.updateListInfo(),e.showShareStrategies=!0}}},[r("span",{attrs:{"uk-icon":"icon: link"}}),e._v(" 分享策略頁\n            ")]):e._e(),e._v(" "),r("Modal",{attrs:{title:"公開自己的清單",confirm:e.updatePublicList},model:{value:e.showShareStrategies,callback:function(t){e.showShareStrategies=t},expression:"showShareStrategies"}},[r("h2",{staticClass:"uk-modal-title"},[e._v("公開清單")]),e._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.publicList,expression:"publicList"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.publicList)?e._i(e.publicList,null)>-1:e.publicList},on:{change:function(t){var n=e.publicList,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=e._i(n,null);r.checked?c<0&&(e.publicList=n.concat([null])):c>-1&&(e.publicList=n.slice(0,c).concat(n.slice(c+1)))}else e.publicList=o}}}),e._v("\n                公開清單")]),e._v(" "),e.publicList?r("div",{staticClass:"uk-margin"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("清單名稱")]),e._v(" "),r("div",{staticClass:"uk-form-controls"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.publicName,expression:"publicName"}],staticClass:"uk-input",attrs:{id:"form-stacked-text",type:"text",placeholder:"我的策略清單(必填)",autocomplete:"off"},domProps:{value:e.publicName},on:{input:function(t){t.target.composing||(e.publicName=t.target.value)}}})])]):e._e(),e._v(" "),e.publicList?r("div",{staticClass:"uk-margin"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("清單連結")]),e._v(" "),r("div",{staticClass:"uk-inline uk-width-1-1"},[r("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-icon":"icon: copy"},on:{click:function(t){return e.copyToClp("https://ai.finlab.tw/strategies?uid=".concat(e.$store.state.user.uid))}}}),e._v(" "),r("input",{staticClass:"uk-input uk-width-1-1 uk-background-muted",attrs:{type:"text",disabled:""},domProps:{value:"https://ai.finlab.tw/strategies?uid=".concat(e.$store.state.user.uid)}})])]):e._e()]),e._v(" "),e.userInfo.info&&e.userInfo.info.strategies?r("div",{attrs:{id:"modal-link","uk-modal":""}}):e._e(),e._v(" "),e.$store.state.user?r("div",{attrs:{id:"modal-overflow","uk-modal":""}},[r("div",{staticClass:"uk-modal-dialog round-border"},[r("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),e._v(" "),r("div",{staticClass:"uk-modal-body"},[r("div",{staticClass:"uk-margin"},[r("h3",[e._v("策略名稱")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newStrategyName,expression:"newStrategyName"}],staticClass:"uk-input",attrs:{id:"form-stacked-text",type:"text",placeholder:"策略名稱",autocomplete:"off"},domProps:{value:e.newStrategyName},on:{input:function(t){t.target.composing||(e.newStrategyName=t.target.value)}}})]),e._v(" "),r("br")]),e._v(" "),r("button",{staticClass:"uk-button uk-button-primary uk-modal-close",attrs:{type:"button"},on:{click:e.createStrategy}},[e._v("\n                    確定\n                  ")]),e._v(" "),r("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"}},[e._v("\n                    取消\n                  ")])])])]):e._e()],1):e._e()]),e._v(" "),e.showTab?r("ul",{staticClass:"uk-visible@s",attrs:{"uk-tab":""}},[r("li",{class:"FinLab台股"===e.tab?"uk-active":"",on:{click:function(t){return e.switchTab("FinLab台股")}}},[r("a",{attrs:{href:"#"}},[e._v("FinLab 台股")])]),e._v(" "),r("li",{class:"我的策略"===e.tab?"uk-active":"",staticStyle:{"margin-bottom":"0"},on:{click:function(t){return e.switchTab("我的策略")}}},[r("a",{attrs:{href:"#"}},[e._v("我的策略")])])]):e._e(),e._v(" "),r("div",{staticClass:"dark-muted",attrs:{"uk-sticky":""}},[e.showTab?r("ul",{staticClass:"uk-child-width-expand uk-hidden@s",staticStyle:{"margin-top":"24px !important"},attrs:{"uk-tab":""}},[r("li",{class:"FinLab台股"===e.tab?"uk-active":"",on:{click:function(t){return e.switchTab("FinLab台股")}}},[r("a",{attrs:{href:"#"}},[e._v("台股")])]),e._v(" "),r("li",{class:"我的策略"===e.tab?"uk-active":"",staticStyle:{"margin-bottom":"0"},on:{click:function(t){return e.switchTab("我的策略")}}},[r("a",{attrs:{href:"#"}},[e._v("我的策略")])])]):e._e()])])]),e._v(" "),"我的策略"!==e.tab?r("div",{staticClass:"uk-container"}):e._e(),e._v(" "),"我的策略"!==e.tab?r("div",{staticClass:"uk-container uk-margin-large-top"},[r("div",[e.displayTable&&0!==Object.keys(e.displayTable).length?r("div",[e.targetStrategyBetterCount?r("div",{staticClass:"uk-grid-small",attrs:{"uk-height-match":"target: > div > .uk-card","uk-grid":""}},[r("div",{staticClass:"uk-width-2-3@m uk-width-1-1"},[r("h3",[e._v("近週排行")]),e._v(" "),r("div",{staticClass:"mobile-overflow"},[0!==e.best3Strategies.length?r("div",{staticClass:"uk-flex uk-margin-bottom"},e._l(e.best3Strategies,function(i){return r("div",{key:"n-"+i[0]+"-best",staticClass:"uk-margin-right"},[r("nuxt-link",{attrs:{to:"/strategyview/?uid="+e.strategyUid+"&sid="+i[0]}},[r("div",{staticClass:"uk-card uk-background-default round-border uk-margin-right",staticStyle:{height:"105px",width:"190px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",border:"1px solid #ccc"}},[r("div",{staticClass:"uk-padding-small uk-padding-remove-bottom",staticStyle:{position:"relative"}},[e._v("\n\n                          "+e._s(e.strategyName(i[0],i[1]))+"\n                          "),i[1].public_position>=2?r("span",[r("sup",{staticStyle:{"font-weight":"800",color:"#aaa"}},[e._v("VIP")])]):e._e(),e._v(" "),r("br"),e._v(" "),r("div",[r("span",{staticClass:"uk-text-lead uk-text-bold",style:e.addSignColor(i[1].ndays_return[5])},[e._v("\n                              "+e._s(e.addSign(e.format_float(100*i[1].ndays_return[5])))+"%\n                            ")]),e._v(" "),r("span",{staticClass:"uk-text-small"},[e._v(" | 週報酬")])])]),e._v(" "),r("div",{staticStyle:{"text-align":"center","margin-top":"-25px"}},[r("LineCanvas",{attrs:{data:i[1].cumulative_return,canvasId:"canvas-best-"+i[0],width:220,height:64,gradient:!1}})],1)])])],1)}),0):e._e()])])]):e._e()]):e._e()])]):e._e()]),e._v(" "),"FinLab台股"===this.tab||"FinLab美股"===this.tab||null!==e.displayTable&&0!==e.displayTable.length?r("div",{staticClass:"light-muted"},[r("div",{staticClass:"uk-container"},[r("div",{staticClass:"uk-margin-large-top uk-flex uk-flex-middle"},[r("h3",{staticStyle:{margin:"0"}},[e._v("所有策略")]),e._v(" "),r("span",{staticClass:"uk-icon-button shadow uk-margin-left shadow",attrs:{"uk-icon":"thumbnails"},on:{click:function(t){e.cardDisplay=!0}}}),e._v(" "),r("span",{staticClass:"uk-icon-button shadow uk-margin-left shadow",attrs:{"uk-icon":"table"},on:{click:function(t){e.cardDisplay=!1}}}),e._v(" "),r("span",{staticClass:"uk-width-expand"}),e._v(" "),r("span",{staticClass:"uk-icon-button shadow",attrs:{"uk-icon":"cog"},on:{click:function(t){e.showFilter=!e.showFilter}}})]),e._v(" "),e.currentTags.length>1&&e.showFilter?r("div",{staticClass:"uk-flex uk-flex-middle"},[r("div",{staticClass:"uk-margin-top",staticStyle:{"min-width":"3rem"}},[e._v("類別：")]),e._v(" "),r("div",e._l(e.currentTags,function(t){return r("button",{key:"tag-names-".concat(t),staticClass:"uk-button uk-button-small uk-margin-top uk-margin-right",class:{"uk-button-primary":t===e.selectedTag},on:{click:function(n){e.selectedTag=t}}},[e._v(e._s(t))])}),0)]):e._e(),e._v(" "),e.showFilter?r("div",{staticClass:"uk-flex uk-flex-middle"},[r("div",{staticClass:"uk-margin-top",staticStyle:{"min-width":"3rem"}},[e._v("排序：")]),e._v(" "),r("div",e._l(e.sortNames,function(i,t){return r("button",{key:"sort-names-".concat(t),staticClass:"uk-button uk-button-small uk-margin-top uk-margin-right",class:{"uk-button-primary":i===e.sortSelectedColumn},on:{click:function(t){e.sortSelectedColumn=i}}},[e._v(e._s(t))])}),0)]):e._e(),e._v(" "),e.displayTable&&e.cardDisplay?r("div",{staticClass:"uk-margin-top"},e._l(e.displayTable,function(s){return r("div",{key:s[0]},[e.hasTag(e.strategyUid,s[0])&&(e.displayMarketTag(s[0])||"TJN4FDuqrwU8DML7DAjUYFIMutp2"!==e.strategyUid)?r("StrategyCard",{attrs:{uid:e.strategyUid,stats:s[1],sid:s[0],cid:"TJN4FDuqrwU8DML7DAjUYFIMutp2"===e.strategyUid?e.courses[s[0]]:null}}):e._e()],1)}),0):e.displayTable?r("div",{staticClass:"uk-margin-top uk-overflow-auto round-border shadow screen-padding",staticStyle:{background:"white"}},[r("table",{staticClass:"uk-table uk-table-middle uk-table-divider",staticStyle:{"z-index":"3"}},[r("thead",{staticStyle:{background:"white",position:"sticky",top:"0","z-index":"5"}},[r("tr",[r("th",{staticClass:"sticky-col",staticStyle:{background:"white"}},[e._v("策略")]),e._v(" "),e.officialStrategies()?r("th",{staticClass:"uk-visible@m",staticStyle:{"white-space":"nowrap"}},[e._v("\n                權限("),r("span",{staticStyle:{color:"#252786"}},[e._v("Free")]),e._v(" "),r("span",{staticStyle:{color:"#ff0f47"}},[e._v("VIP")]),e._v(")\n              ")]):e._e(),e._v(" "),r("th",{style:e.thActive(1),on:{click:function(t){return e.thClick(1)}}},[e._v("\n                年化報酬"),r("span",{attrs:{"uk-icon":e.columnArrow(1)}})]),e._v(" "),r("th",{style:e.thActive(2),on:{click:function(t){return e.thClick(2)}}},[e._v("\n                最大下跌"),r("span",{attrs:{"uk-icon":e.columnArrow(2)}})]),e._v(" "),r("th",{style:e.thActive(3),on:{click:function(t){return e.thClick(3)}}},[e._v("\n                夏普值"),r("span",{attrs:{"uk-icon":e.columnArrow(3)}})]),e._v(" "),r("th",{style:e.thActive(4),on:{click:function(t){return e.thClick(4)}}},[e._v("\n                近週"),r("span",{attrs:{"uk-icon":e.columnArrow(4)}})]),e._v(" "),r("th",{style:e.thActive(5),on:{click:function(t){return e.thClick(5)}}},[e._v("\n                近月"),r("span",{attrs:{"uk-icon":e.columnArrow(5)}})]),e._v(" "),r("th",{style:e.thActive(6),on:{click:function(t){return e.thClick(6)}}},[e._v("\n                近季"),r("span",{attrs:{"uk-icon":e.columnArrow(6)}})]),e._v(" "),r("th",{style:e.thActive(7),on:{click:function(t){return e.thClick(7)}}},[e._v("\n                更新日期"),r("span",{attrs:{"uk-icon":e.columnArrow(7)}})]),e._v(" "),r("th",{staticStyle:{"white-space":"nowrap"}},[e._v("累積報酬")]),e._v(" "),"我的策略"===e.tab?r("th",[e._v("設定")]):e._e()])]),e._v(" "),r("tbody",e._l(e.displayTable.filter(function(s){return("我的策略"===t.tab||"ndays_return"in s[1])&&t.hasTag(e.strategyUid,s[0])&&(t.displayMarketTag(s[0])||"TJN4FDuqrwU8DML7DAjUYFIMutp2"!==e.strategyUid)}),function(s){return r("tr",{key:s[0]},[r("td",{staticClass:"sticky-col uk-background-default",staticStyle:{"white-space":"nowrap"}},[r("nuxt-link",{attrs:{to:(s[1].codeOnly?"/notebook":"/strategyview")+"/?uid=".concat(e.strategyUid,"&sid=").concat(s[0])}},[r("span",[e._v(e._s(e.truncatedStrategyName(s[0],s[1],8))),e.shouldUpdate(s[1])?r("span",{staticClass:"uk-text-small uk-text-middle uk-margin-left",staticStyle:{color:"#54e3a5"}},[e._v("●")]):e._e()])])],1),e._v(" "),e.officialStrategies()?r("td",{staticClass:"uk-visible@m"},[r("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(e.otherUid,"&sid=").concat(s[0])}},[r("a",{staticClass:"uk-icon-button",style:e.permissionColor(s[0],"public_position"),attrs:{"uk-icon":"table","uk-tooltip":"統計清單"}})]),e._v(" "),r("a",{staticClass:"uk-icon-button",staticStyle:{cursor:"pointer"},style:e.permissionColor(s[0],"public_code"),attrs:{"uk-icon":"code","uk-tooltip":"程式碼"},on:{click:function(t){return e.to_notebook(s[0])}}})],1):e._e(),e._v(" "),r("td",{style:e.addSignColor(s[1].annual_return)},[e._v("\n                "+e._s(e.addSign(e.format_float(100*s[1].annual_return)))+"%\n              ")]),e._v(" "),r("td",{style:e.addSignColor(s[1].max_drawdown)},[e._v("\n                "+e._s(e.addSign(e.format_float(100*s[1].max_drawdown)))+"%\n              ")]),e._v(" "),r("td",[e._v(e._s(e.format_float(s[1].sharpe_ratio)))]),e._v(" "),r("td",{style:e.addSignColor(s[1].ndays_return[5])},[e._v("\n                "+e._s(e.addSign(e.format_float(100*s[1].ndays_return[5])))+"%\n              ")]),e._v(" "),r("td",{style:e.addSignColor(s[1].ndays_return[20])},[e._v("\n                "+e._s(e.addSign(e.format_float(100*s[1].ndays_return[20])))+"%\n              ")]),e._v(" "),r("td",{style:e.addSignColor(s[1].ndays_return[60])},[e._v("\n                "+e._s(e.addSign(e.format_float(100*s[1].ndays_return[60])))+"%\n              ")]),e._v(" "),r("td",[e._v(e._s(e.formatDate(s[1].last_updated)))]),e._v(" "),r("td",{staticClass:"uk-text-align:right",staticStyle:{width:"120px"}},[r("LineCanvas",{attrs:{data:s[1].cumulative_return,canvasId:"canvas-"+s[0].toString(),width:120,height:40}})],1),e._v(" "),"我的策略"===e.tab?r("td",[r("div",{staticClass:"uk-button",staticStyle:{width:"64px",padding:"0",margin:"0",color:"gray"}},[r("font-awesome-icon",{attrs:{icon:"cog",size:"lg"}})],1)]):e._e()])}),0)])]):e._e()])]):r("div",{staticClass:"uk-section light-muted"},[r("div",{staticClass:"uk-container"},[r("br"),r("br"),e._v(" "),r("h2",{staticClass:"uk-text-primary"},[e._v("製作專屬於你的策略")]),e._v(" "),e.$store.state.user?r("button",{staticClass:"uk-margin-large-top uk-margin-large-bottom uk-button uk-button-primary uk-button-large uk-light",on:{click:e.createStrategy}},[r("a",[e._v(" 製作你的策略 ")])]):r("button",{staticClass:"uk-margin-large-top uk-margin-large-bottom uk-button uk-button-primary uk-button-large uk-light",attrs:{href:"#login-ui","uk-toggle":""}},[r("a",[e._v(" 製作你的策略 ")])]),r("br"),r("br"),r("br"),e._v(" "),r("img",{attrs:{src:n(670),width:"320px"}}),r("br"),r("br")])])])},[function(){var t=this._self._c;return t("button",{staticClass:"uk-button uk-button-primary"},[t("span",{attrs:{"uk-icon":"icon: plus-circle"}}),this._v(" 建立策略")])}],!1,null,"bafa9fbc",null);e.default=component.exports;installComponents(component,{AutoUpdatePanel:n(742).default,Modal:n(534).default,LineCanvas:n(554).default,StrategyCard:n(836).default})},534:function(t,e,n){"use strict";n.r(e);var r={props:{confirm:{default:null},title:{default:null},value:{default:!1}},methods:{confirmClose:function(){this.confirm&&this.confirm(),this.hide()},hide:function(){this.$emit("input",!1)}}},o=n(52),component=Object(o.a)(r,function(){var t=this,e=t._self._c;return e("div",{staticClass:"uk-modal uk-open",style:t.value?"display: initial":""},[e("div",{staticClass:"uk-modal-dialog",staticStyle:{"border-radius":"15px",overflow:"hidden"}},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.hide}}),t._v(" "),t.title?e("div",{staticClass:"uk-modal-header"},[e("h2",{staticClass:"uk-modal-title uk-text-primary"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),e("div",{staticClass:"uk-modal-body"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"uk-modal-footer uk-text-right"},[t.confirm?e("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:t.hide}},[t._v("取消")]):t._e(),t._v(" "),e("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"button"},on:{click:t.confirmClose}},[t._v("確定")])])])])},[],!1,null,null,null);e.default=component.exports},554:function(t,e,n){"use strict";n.r(e);var r=n(77),o=(n(443),{props:{data:{default:function(){return[1,3,2,4,6,5,3,3,6,7]}},canvasId:{default:"id"},width:{default:250},height:{default:100},gradient:{default:!0}},methods:{mapy:function(t){return(this.ymax-t)/(this.ymax-this.ymin)*this.height},mapx:function(t){return(t-this.xmin)/(this.xmax-this.xmin)*this.width},getRealWidth:function(){document.getElementById(this.$props.canvasId);return this.width}},data:function(){return{ymax:0,ymin:0,xmax:0,xmin:0}},mounted:function(){var t=this.getRealWidth();this.ymax=Math.max.apply(Math,Object(r.a)(this.data)),this.ymin=Math.min.apply(Math,Object(r.a)(this.data)),this.xmax=this.data.length-1,this.xmin=0;var e=document.getElementById(this.canvasId).getContext("2d");for(var i in e.beginPath(),e.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var n=this.mapx(i),o=this.mapy(this.data[i]);e.lineTo(n,o)}e.lineTo(this.mapx(this.xmax),this.mapy(this.data[0])),e.lineTo(this.mapx(this.xmax),this.mapy(this.ymin)),e.lineTo(this.mapx(0),this.mapy(this.ymin)),e.strokeStyle="#ffffff",e.stroke();var c=e.createRadialGradient(t/2,0,0,t/2,0,60);for(var l in c.addColorStop(0,"#3f42ba44"),this.gradient?c.addColorStop(1,"#25278600"):c.addColorStop(1,"#3f42ba44"),e.fillStyle=c,e.fill(),e.closePath(),e.beginPath(),e.lineWidth=1,e.strokeStyle="#252786",e.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var d=this.mapx(l),h=this.mapy(this.data[l]);e.lineTo(d,h)}e.stroke(),e.closePath()}}),c=n(52),component=Object(c.a)(o,function(){var t=this;return(0,t._self._c)("canvas",{attrs:{id:t.canvasId,width:t.width,height:t.height}})},[],!1,null,null,null);e.default=component.exports},627:function(t,e,n){t.exports={}},632:function(t,e,n){t.exports={}},670:function(t,e,n){t.exports=n.p+"img/icons.e64a378.png"},707:function(t,e,n){"use strict";n(627)},716:function(t,e,n){"use strict";n(632)},742:function(t,e,n){"use strict";n.r(e);n(54),n(75),n(39),n(53),n(23),n(45),n(68),n(61),n(69),n(60),n(30),n(40),n(38);var r=n(12),o=(n(43),n(44),n(6)),c=n(26),l=n(122),d=n.n(l);function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return f(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function f(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}var v=Object(o.b)({props:{strategies:[],value:{default:!1}},data:function(){return{selectedStrategy:"",updateTime:"19:00",settings:{}}},mounted:function(){this.init()},computed:{strategyNameBySid:function(){var map={};try{var t,e=h(this.$props.strategies||[]);try{for(e.s();!(t=e.n()).done;){var s=t.value;s&&s.sid&&(map[s.sid]=s.name||s.sid)}}catch(t){e.e(t)}finally{e.f()}}catch(t){}return map}},methods:{init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.generateRandomTime(),t.$props.strategies.length>0&&(n=t.$props.strategies[0],t.selectedStrategy=n&&n.sid?n.sid:n),r=null,e.prev=1,r="schedule"in t.$store.state.userInfo.info?t.$store.state.userInfo.info.schedule:{},e.next=3;break;case 2:throw e.prev=2,o=e.catch(1),alert("cannot view schedule"+o),o;case 3:t.settings={},t.settings=Object.assign({},t.settings,r);case 4:case"end":return e.stop()}},e,null,[[1,2]])}))()},generateRandomTime:function(){var time=Math.round(59*Math.random()),t=time<10?"0"+time.toString():time.toString();this.updateTime="19:"+t},addStrategy:function(){"free"!==this.$store.state.role?10!==Object.keys(this.settings).length||"TJN4FDuqrwU8DML7DAjUYFIMutp2"===this.$store.state.user.uid?(this.settings[this.selectedStrategy]=this.updateTime,this.generateRandomTime()):alert("最多只能更新 10 個策略"):alert("免費用戶無法使用此功能喔！")},removeStrategy:function(t){this.$delete(this.settings,t)},setSchedule:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var n,r,o,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("free"!==t.$store.state.role){e.next=1;break}return alert("免費用戶無法使用此功能喔！"),e.abrupt("return");case 1:return{api_token:t.$store.state.api_token,sids:t.settings},e.prev=2,n=c.c.batch(),r=c.c.collection("global").doc("schedule"),o=c.c.collection("users").doc(t.$store.state.user.uid),n.update(o,{schedule:t.settings}),(l={})[t.$store.state.user.uid]=t.settings,n.update(r,l),e.next=3,n.commit();case 3:d.a.modal.alert("儲存成功!"),e.next=5;break;case 4:e.prev=4,h=e.catch(2),console.log(h),d.a.modal.alert("cannot set schedule "+h);case 5:case"end":return e.stop()}},e,null,[[2,4]])}))()}}}),m=n(52),component=Object(m.a)(v,function(){var t=this,e=this,n=e._self._c;e._self._setupProxy;return n("Modal",{attrs:{title:"自動更新策略",confirm:e.setSchedule,value:e.value},on:{input:function(e){return t.$emit("input",!1)}}},[this.$store.state.userInfo.info&&this.$store.state.userInfo.info.strategies?n("div",[n("div",[n("div",{attrs:{"uk-grid":""}},[n("div",{staticClass:"uk-width-1-1"},[n("p",[e._v("建議於晚上7點之後執行，才能獲取最新的資料喔！")]),e._v(" "),n("p",[e._v("建議將策略更新時間錯開，來避免回測塞車！")]),e._v(" "),n("p",[e._v("\n            當設定完成後，系統不會即時更新，而是在每個整點更新您的新設定喔！\n          ")])]),e._v(" "),n("div",{staticClass:"uk-width-1-2"},[n("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("策略")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedStrategy,expression:"selectedStrategy"}],staticClass:"uk-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});e.selectedStrategy=t.target.multiple?n:n[0]}}},e._l(e.strategies,function(s){return n("option",{key:s.sid,domProps:{value:s.sid}},[e._v(e._s(s.name))])}),0)]),e._v(" "),n("div",{staticClass:"uk-width-1-4@m uk-width-1-2"},[n("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("自動更新時間")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.updateTime,expression:"updateTime"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"19:30"},domProps:{value:e.updateTime},on:{input:function(t){t.target.composing||(e.updateTime=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"uk-width-expand uk-margin-bottom"},[n("br",{staticClass:"uk-visible@m"}),e._v(" "),n("button",{staticClass:"uk-button uk-button-primary uk-width-1-1",on:{click:e.addStrategy}},[e._v("\n            新增\n          ")])])])]),e._v(" "),n("hr"),e._v(" "),0===Object.keys(e.settings).length?n("div",{staticStyle:{padding:"48px 0"}},[e._v("\n      尚未新增策略\n    ")]):n("div",[n("ul",{staticClass:"uk-list"},e._l(e.settings,function(time,t){return n("li",{key:t+"_select"},[n("button",{staticClass:"uk-button",staticStyle:{"margin-right":"12px"},on:{click:function(n){return e.removeStrategy(t)}}},[e._v("\n            刪除\n          ")]),e._v("\n          每天 "+e._s(time)+" 自動執行\n          "),n("span",{staticClass:"uk-text-primary"},[e._v(e._s(e.strategyNameBySid[t]||t))])])}),0)]),e._v(" "),n("hr")]):n("div",[e._v("尚未登入")])])},[],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:n(534).default})},803:function(t,e,n){t.exports={}},835:function(t,e,n){"use strict";n.r(e);var r=n(12),o=(n(43),n(429),n(53),n(23),n(6)),c=n(26),l=Object(o.b)({data:function(){return{content:[]}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var n,r,o,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.c.collection("global").doc("bulletinBoard"),r=null,e.prev=1,e.next=2,n.get();case 2:r=(r=e.sent).data(),e.next=4;break;case 3:throw e.prev=3,d=e.catch(1),alert("Mounted: cannot download list of posts"+d),d;case 4:for(l in o=Object.keys(r).sort().reduce(function(t,e){return t[e]=r[e],t},{}),o)t.content.push(o[l]);case 5:case"end":return e.stop()}},e,null,[[1,3]])}))()}}),d=(n(707),n(52)),component=Object(d.a)(l,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"uk-alert-primary round-border shadow",attrs:{"uk-alert":""}},[e("a",{staticClass:"uk-alert-close",attrs:{"uk-close":""}}),t._v(" "),e("p",[e("nuxt-link",{attrs:{to:"/course?cid=LqYTLW3KkXRSPnci47xe"}},[e("span",{staticStyle:{"text-decoration":"underline"}},[t._v("平台速成教學")])]),t._v("\n      ！\n    ")],1)]),t._v(" "),t._l(t.content,function(n){return e("div",{key:n,staticClass:"uk-alert-primary round-border shadow",attrs:{"uk-alert":""}},[e("a",{staticClass:"uk-alert-close",attrs:{"uk-close":""}}),t._v(" "),e("div",{domProps:{innerHTML:t._s(n)}})])})],2)},[],!1,null,"aaca2836",null);e.default=component.exports},836:function(t,e,n){"use strict";n.r(e);n(74),n(39),n(23),n(44),n(714),n(581),n(30),n(64);var r={props:{sid:{default:"下載中"},uid:{default:""},cid:{default:null},stats:{default:{annual_return:0,max_drawdown:0,cumulative_return:[0,0,0],last_updated:"2022-10-10",next_trading_date:"2022-10-10",ndays_return:{5:0,20:0,60:0}}}},data:function(){return{showSetting:!1}},methods:{format_float:function(t){return Number.parseFloat(Math.round(10*t)/10).toFixed(1)},addSignColor:function(t){return 0===t?"color:gray":t>0?"color:rgb(255, 82, 121)":"color:#18b89b"},addSign:function(t){return t>0?"+"+t.toString():t.toString()},shouldUpdate:function(){var s=this.stats;if(!1 in s)return!1;if(!1 in s)return!1;var t=new Date,e=t-new Date(s.next_trading_date)+288e5,n=t.getDay(),r=Math.ceil(e/864e5),o=r>0;return o=1===n?o&&r<=4:o&&r<=2,s.stop_actions||o},formatDate:function(t){if(null===t)return"無法顯示時間";if("string"==typeof t)return t;t=t.seconds?new Date(1e3*t.seconds):new Date;var e=new Date,n=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?n[1]:n[0]}},computed:{gradient:function(){var t=0,s=this.sid;if(0===s.length)return t;for(var i=0,e=s.length;i<e;i++){t=(t<<5)-t+s.charCodeAt(i),t|=0}function n(){for(var t="",e="0123456789abcdef",i=0;i<6;i++)t+=e.charAt(Math.floor(16*Math.random()));return t}return"linear-gradient("+(t%10+100)+"deg, #"+n()+"77, #"+n()+"77)"}}},o=(n(716),n(52)),component=Object(o.a)(r,function(){var t=this,e=t._self._c;return e("div",{staticClass:"uk-card round-border shadow uk-margin-large uk-padding-small",staticStyle:{background:"white"}},[e("div",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-1-4@l uk-width-1-3@m uk-width-1-1",staticStyle:{display:"grid","align-items":"center"}},[e("div",[e("div",[e("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[e("span",{staticClass:"uk-text-primary"},[t._v(t._s(t.stats&&t.stats.name?t.stats.name:t.sid)+" ")]),e("sup",[t._v(t._s(t.stats.public_code>=2?"VIP":""))]),t._v(" "),t.shouldUpdate()?e("span",{staticStyle:{color:"#54e3a5"}},[t._v("●")]):t._e()]),t._v(" "),e("hr",{staticClass:"uk-hidden@s"}),t._v(" "),e("div",{staticClass:"uk-visible@s"},[t.stats.codeOnly?t._e():e("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[e("button",{staticClass:"uk-button uk-button-default uk-button-small"},[e("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n                績效\n              ")])]),t._v(" "),e("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&name=").concat(encodeURIComponent(t.stats&&t.stats.name?t.stats.name:t.sid))}},[e("button",{staticClass:"uk-button uk-button-default uk-button-small"},[e("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n                編輯\n              ")])]),t._v(" "),t.cid?e("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&cid=").concat(t.cid)}},[e("button",{staticClass:"uk-button uk-button-default uk-button-small"},[e("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n                教學\n              ")])]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?e("button",{staticClass:"uk-button uk-button-small uk-button-default",on:{click:function(e){t.showSetting=!0}}},[e("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}})]):t._e()],1)],1)])]),t._v(" "),t.stats.ndays_return_benchmark?e("div",{staticClass:"uk-width-expand@m uk-width-1-1"},[e("div",{staticClass:"uk-overflow-auto"},[e("div",{staticClass:"uk-child-width-auto@s uk-child-width-1-3 uk-grid-small uk-grid-divider uk-text-small uk-text-center",attrs:{"uk-grid":""}},[e("div",[e("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("年化報酬")]),t._v(" "),e("div",{staticStyle:{color:"gray"}},[e("div",[e("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.annual_return)},[t._v("\n                  "+t._s(t.addSign(t.format_float(100*t.stats.annual_return))))]),t._v("\n                %\n              ")])])]),t._v(" "),e("div",{staticClass:"uk-visible@s"},[e("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("最大虧損")]),t._v(" "),e("div",{staticStyle:{color:"gray"}},[e("div",[e("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.max_drawdown)},[t._v("\n                  "+t._s(t.format_float(100*t.stats.max_drawdown)))]),t._v("\n                %\n              ")])])]),t._v(" "),e("div",{staticClass:"uk-visible@s"},[e("div",{staticClass:"uk-margin"},[t._v("夏普值")]),t._v(" "),e("span",{staticClass:"uk-text-lead uk-text-bold uk-text-muted"},[t._v("\n              "+t._s(t.format_float(t.stats.sharpe_ratio))+"\n            ")])]),t._v(" "),t.stats.ndays_return_benchmark?e("div",[e("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("大盤比較")]),t._v(" "),e("span",[t._v("  週   月   季   ")]),e("br"),t._v("\n             \n            "),t._l([5,20,60],function(n){return e("span",{key:"ndays-return"+n,style:t.addSignColor(t.stats.ndays_return[n]-t.stats.ndays_return_benchmark[n])},[t._v("\n              "+t._s(t.stats.ndays_return[n]>t.stats.ndays_return_benchmark[n]?"勝":"負")+"  \n            ")])})],2):t._e(),t._v(" "),e("div",[e("div",{staticClass:"uk-margin"},[t._v("當月走勢")]),t._v(" "),e("LineCanvas",{attrs:{data:t.stats.cumulative_return,canvasId:"canvas2-"+t.sid.toString(),width:80,height:36}})],1),t._v(" "),e("div",{staticClass:"uk-visible@l",staticStyle:{color:"#888"}},[e("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("近期報酬")]),t._v(" "),t._l([20,60],function(n){return e("div",{key:"ndays-return-stats"+n},[e("span",[t._v(t._s({5:"週",20:"月",60:"季"}[n]))]),t._v(" "),e("span",{style:t.addSignColor(t.stats.ndays_return[n])},[t._v("\n                "+t._s(t.addSign(t.format_float(100*t.stats.ndays_return[n])))+" ")]),e("span",[t._v("%")])])})],2),t._v(" "),t.stats.ndays_return_benchmark?e("div",{staticClass:"uk-visible@l uk-text-left",staticStyle:{color:"#888"}},[e("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("重要日期")]),t._v("\n            近期換股： "+t._s(t.stats.next_trading_date.split("T")[0])),e("br"),t._v("\n            策略更新： "+t._s(t.formatDate(t.stats.last_updated))+"\n          ")]):t._e()]),t._v(" "),e("hr",{staticClass:"uk-hidden@s"}),t._v(" "),e("div",{staticClass:"uk-hidden@s uk-child-width-1-3 uk-text-center",attrs:{"uk-grid":""}},[t.stats.codeOnly?t._e():e("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[e("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n            績效\n          ")]),t._v(" "),e("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&name=").concat(encodeURIComponent(t.stats&&t.stats.name?t.stats.name:t.sid))}},[e("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n            編輯\n          ")]),t._v(" "),t.cid?e("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&cid=").concat(t.cid)}},[e("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n            教學\n          ")]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?e("div",{staticClass:"uk-text-primary",on:{click:function(e){t.showSetting=!0}}},[e("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}}),t._v(" 設定\n          ")]):t._e()],1)])]):t._e()]),t._v(" "),e("strategyTags",{attrs:{sid:t.sid,uid:t.uid},model:{value:t.showSetting,callback:function(e){t.showSetting=e},expression:"showSetting"}})],1)},[],!1,null,"10e3eb73",null);e.default=component.exports;installComponents(component,{LineCanvas:n(554).default})},917:function(t,e,n){"use strict";n(803)}}]);
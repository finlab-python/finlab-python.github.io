(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{711:function(t,e,r){"use strict";r.r(e);var n=r(78),h=(r(448),r(75),r(23),r(44),r(6)),d=r(558),o=r.n(d),c=Object(h.b)({components:{VueP5:o.a},props:{},data:function(){return{time:0,nbars:100,maxTime:50,lineSize:20,padding:100,height:.9*window.innerHeight,RED:"#ff3385",GREEN:"#08c79e",BLUE:"#252786",prices:[100],signals:[0],fr:30,frCnt:0,addKbarTime:5}},methods:{generateNewPrice:function(t,e){var r=(t.random(100)-50)/10+e[e.length-1];return r=t.min(2e4,r),(r=t.max(0,r))+(this.time>this.maxTime/2?t.random(2):-t.random(2))},appendArray:function(t,e,r){return t.push(e),t.length>r&&t.shift(),t},generateNewSignal:function(){return 0===this.time?-1:this.time===this.maxTime/2?1:0},drawArrow:function(t,base,e){t.triangle(base.x-10,base.y,base.x+10,base.y,e.x,e.y)},windowresized:function(t){t.resizeCanvas(t.windowWidth,this.height)},setup:function(t){t.createCanvas(t.windowWidth,this.height)},draw:function(t){t.background(255),t.frameRate(this.fr),this.kbarMargin=.5*t.width/this.nbars,this.kbarDistance=t.width/this.nbars;var e=this.kbarDistance/this.addKbarTime*(this.frCnt%this.addKbarTime);if(this.prices.length<this.nbars&&(e=0),this.frCnt%this.addKbarTime===0||this.prices.length!==this.nbars){var p=this.generateNewPrice(t,this.prices);this.prices=this.appendArray(this.prices,p,this.nbars);var r=this.generateNewSignal();this.signals=this.appendArray(this.signals,r,this.nbars),this.time+=1}for(var h=this.prices,d=t.max.apply(t,Object(n.a)(h))+10,o=t.min.apply(t,Object(n.a)(h))-10,i=1;i<h.length;i++){var c=t.map(h[i-1],o,d,this.padding,t.height-this.padding),l=t.map(h[i],o,d,this.padding,t.height-this.padding),m=t.map(h[h.length-1],o,d,this.padding,t.height-this.padding),w=c<l?this.GREEN:this.RED;t.fill(w),t.stroke(w),t.strokeWeight(.5);var f=this.kbarDistance,x=this.kbarMargin,k=this.lineSize;if(t.line(i*f+(f-x)/2-e,t.min(c,l)-k,i*f+(f-x)/2-e,t.max(c,l)+k),t.rect(i*f-e,c,f-x,l-c),i===h.length-1&&(t.stroke("#666"),t.line(0,l,t.width,l)),0!==this.signals[i]){var v=1===this.signals[i]?this.GREEN:this.RED,E=i*f+(f-x)/2-e,y=1===this.signals[i]?1:-1,R=t.min(l,c),z=t.max(l,c),C=1===this.signals[i]?R:z,N=C-30*y,T=C-50*y,D=C-90*y+30*t.max(y,0),S=C-120*y+30*t.max(y,0),W=1===this.signals[i]?"SELL":"BUY",A=y*Math.round((h[h.length-1]-h[i])/300*1e3)/10,L=A>0?this.RED:this.GREEN,j=A>0;A=A.toString()+"%",j&&(A="+"+A);var B=(l+c)/2;t.noFill(),t.stroke(v),t.strokeWeight(2),t.circle(E,B,50),t.fill(this.BLUE),t.stroke(this.BLUE);var G=t.createVector(E,T),K=t.createVector(E,N);this.drawArrow(t,G,K,v),t.strokeWeight(.1),t.textSize(30),t.text(W,G.x-30,D),t.fill(L),t.text(A,G.x-40,S),t.stroke("#666"),t.strokeWeight(1),t.line(E,l,E,m),t.stroke("white"),t.circle(E,m,10)}}this.frCnt+=1,this.time===this.maxTime&&(this.time=0),1e3*this.fr===this.frCnt&&(this.frCnt=0)}}}),l=r(52),component=Object(l.a)(c,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("vue-p5",{attrs:{"additional-events":["windowresized"]},on:{windowresized:t.windowresized,setup:t.setup,draw:t.draw}})},[],!1,null,"2a34c825",null);e.default=component.exports}}]);
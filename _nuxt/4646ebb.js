(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{506:function(t,e,r){t.exports={}},516:function(t,e,r){"use strict";r.r(e);r(23),r(38);var n=r(6),o=r(462),h=r(595),l=r(668),c=r(545),d=r(827),f=r(656),y=r(658);Object(o.a)([l.a,d.a,f.a,c.a,y.a]);var x=Object(n.b)({name:"Maxdrawdown",props:{values:{type:Array,default:function(){return[1,2,3,4]}},benchmark:{type:Array,default:function(){return[1,2,3,4]}},index:{type:Array,default:function(){return["2020-01-01","2020-02-01","2020-03-01","2020-04-01"]}},height:{type:String,default:"250px"},width:{type:String,default:"100%"}},data:function(){return{chartInstance:null,chartOption:{legend:{bottom:50,left:-5,orient:"vertical"},tooltip:{trigger:"axis",position:function(t){return[t[0]-100,t[1]-100]},axisPointer:{type:"line",snap:!0,axis:"x"},formatter:function(t){for(var e,r=t[0].value[0]+"<br/>",i=0,n=t.length;i<n;i++)e=Math.round(100*t[i].value[1])/100+"%",r+=t[i].marker+t[i].seriesName+"："+e+"<br/>";return r}},grid:{left:0,right:0,top:"12px",bottom:"10px"},xAxis:{type:"time",name:"日期",minorTick:{show:!1},minorSplitLine:{show:!1},axisLabel:{inside:!0},inverval:1},yAxis:{type:"value",name:"下跌幅度",axisLabel:{formatter:"{value}%",inside:!0,position:"right"},show:!0,minorTick:{show:!1},minorSplitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},lineStyle:{width:0},position:"right"},series:[{name:"策略",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(232, 56, 115, 0)"},{offset:1,color:"rgba(232, 56, 115, 1)",alpha:1}],global:!1}},itemStyle:{color:"rgba(232, 56, 115, 0.5)",borderColor:"rgba(232, 56, 115, 0.5)",opacity:0},lineStyle:{color:"rgba(232, 56, 115, 0.5)"}},{name:"大盤",data:[],type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(209, 204, 204, 0)"},{offset:1,color:"#aaa",alpha:1}],global:!1}},itemStyle:{color:"#aaa",borderColor:"#aaa",opacity:0},lineStyle:{color:"#aaa"}}],backgroundColor:"transparent"}}},watch:{values:{handler:"updateChart",deep:!0},benchmark:{handler:"updateChart",deep:!0},index:{handler:"updateChart",deep:!0}},mounted:function(){var t=this;this.initChart(),this.updateChart(),window.addEventListener("resize",this.resizeChart),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){t.resizeChart()}),this.resizeObserver.observe(this.$refs.chart))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose()},methods:{initChart:function(){this.chartInstance=Object(h.b)(this.$refs.chart,"light")},resizeChart:function(){this.chartInstance&&this.chartInstance.resize()},calDD:function(t){if(!(t&&Array.isArray(t)&&0!==t.length&&this.index&&Array.isArray(this.index)&&0!==this.index.length))return[];var e=[],r=0;for(var i in t)r=Math.max(t[i],r),e.push(t[i]/r);var n=[];for(var o in this.index)n.push([this.index[o],100*e[o]-100]);return n},updateChart:function(){this.values&&Array.isArray(this.values)&&this.values.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[0].data=this.calDD(this.values)),this.benchmark&&Array.isArray(this.benchmark)&&this.benchmark.length>0&&this.index&&Array.isArray(this.index)&&this.index.length>0&&(this.chartOption.series[1].data=this.calDD(this.benchmark)),this.chartInstance&&this.chartInstance.setOption(this.chartOption)}}}),v=(r(537),r(52)),component=Object(v.a)(x,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{ref:"chart",staticClass:"chart",style:{height:t.height,width:t.width,zIndex:0}})])},[],!1,null,"5b5fc17b",null);e.default=component.exports},537:function(t,e,r){"use strict";r(506)}}]);
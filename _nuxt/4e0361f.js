(window.webpackJsonp=window.webpackJsonp||[]).push([[65,46],{443:function(t,n,e){"use strict";var r=e(4),o=e(461),d=e(149);r({target:"Array",proto:!0},{fill:o}),d("fill")},461:function(t,n,e){"use strict";var r=e(50),o=e(123),d=e(76);t.exports=function(t){for(var n=r(this),e=d(n),c=arguments.length,l=o(c>1?arguments[1]:void 0,e),v=c>2?arguments[2]:void 0,h=void 0===v?e:o(v,e);h>l;)n[l++]=t;return n}},554:function(t,n,e){"use strict";e.r(n);var r=e(77),o=(e(443),{props:{data:{default:function(){return[1,3,2,4,6,5,3,3,6,7]}},canvasId:{default:"id"},width:{default:250},height:{default:100},gradient:{default:!0}},methods:{mapy:function(t){return(this.ymax-t)/(this.ymax-this.ymin)*this.height},mapx:function(t){return(t-this.xmin)/(this.xmax-this.xmin)*this.width},getRealWidth:function(){document.getElementById(this.$props.canvasId);return this.width}},data:function(){return{ymax:0,ymin:0,xmax:0,xmin:0}},mounted:function(){var t=this.getRealWidth();this.ymax=Math.max.apply(Math,Object(r.a)(this.data)),this.ymin=Math.min.apply(Math,Object(r.a)(this.data)),this.xmax=this.data.length-1,this.xmin=0;var n=document.getElementById(this.canvasId).getContext("2d");for(var i in n.beginPath(),n.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var e=this.mapx(i),o=this.mapy(this.data[i]);n.lineTo(e,o)}n.lineTo(this.mapx(this.xmax),this.mapy(this.data[0])),n.lineTo(this.mapx(this.xmax),this.mapy(this.ymin)),n.lineTo(this.mapx(0),this.mapy(this.ymin)),n.strokeStyle="#ffffff",n.stroke();var d=n.createRadialGradient(t/2,0,0,t/2,0,60);for(var c in d.addColorStop(0,"#3f42ba44"),this.gradient?d.addColorStop(1,"#25278600"):d.addColorStop(1,"#3f42ba44"),n.fillStyle=d,n.fill(),n.closePath(),n.beginPath(),n.lineWidth=1,n.strokeStyle="#252786",n.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var l=this.mapx(c),v=this.mapy(this.data[c]);n.lineTo(l,v)}n.stroke(),n.closePath()}}),d=e(52),component=Object(d.a)(o,function(){var t=this;return(0,t._self._c)("canvas",{attrs:{id:t.canvasId,width:t.width,height:t.height}})},[],!1,null,null,null);n.default=component.exports},581:function(t,n,e){"use strict";var r=e(4),o=e(8),d=e(78),c=e(280),l=e(278),v=e(9),h=RangeError,_=String,f=Math.floor,m=o(l),k=o("".slice),y=o(1.1.toFixed),x=function(t,n,e){return 0===n?e:n%2==1?x(t,n-1,e*t):x(t*t,n/2,e)},w=function(data,t,n){for(var e=-1,r=n;++e<6;)r+=t*data[e],data[e]=r%1e7,r=f(r/1e7)},C=function(data,t){for(var n=6,e=0;--n>=0;)e+=data[n],data[n]=f(e/t),e=e%t*1e7},S=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var n=_(data[t]);s=""===s?n:s+m("0",7-n.length)+n}return s};r({target:"Number",proto:!0,forced:v(function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)})||!v(function(){y({})})},{toFixed:function(t){var n,e,r,o,l=c(this),v=d(t),data=[0,0,0,0,0,0],f="",y="0";if(v<0||v>20)throw new h("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return _(l);if(l<0&&(f="-",l=-l),l>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(l*x(2,69,1))-69)<0?l*x(2,-n,1):l/x(2,n,1),e*=4503599627370496,(n=52-n)>0){for(w(data,0,e),r=v;r>=7;)w(data,1e7,0),r-=7;for(w(data,x(10,r,1),0),r=n-1;r>=23;)C(data,1<<23),r-=23;C(data,1<<r),w(data,1,1),C(data,2),y=S(data)}else w(data,0,e),w(data,1<<-n,0),y=S(data)+m("0",v);return y=v>0?f+((o=y.length)<=v?"0."+m("0",v-o)+y:k(y,0,o-v)+"."+k(y,o-v)):f+y}})},632:function(t,n,e){t.exports={}},714:function(t,n,e){"use strict";var r=e(4),o=e(715);r({target:"Number",stat:!0,forced:Number.parseFloat!==o},{parseFloat:o})},715:function(t,n,e){"use strict";var r=e(11),o=e(9),d=e(8),c=e(24),l=e(200).trim,v=e(201),h=d("".charAt),_=r.parseFloat,f=r.Symbol,m=f&&f.iterator,k=1/_(v+"-0")!=-1/0||m&&!o(function(){_(Object(m))});t.exports=k?function(t){var n=l(c(t)),e=_(n);return 0===e&&"-"===h(n,0)?-0:e}:_},716:function(t,n,e){"use strict";e(632)},836:function(t,n,e){"use strict";e.r(n);e(74),e(39),e(23),e(44),e(714),e(581),e(30),e(64);var r={props:{sid:{default:"下載中"},uid:{default:""},cid:{default:null},stats:{default:{annual_return:0,max_drawdown:0,cumulative_return:[0,0,0],last_updated:"2022-10-10",next_trading_date:"2022-10-10",ndays_return:{5:0,20:0,60:0}}}},data:function(){return{showSetting:!1}},methods:{format_float:function(t){return Number.parseFloat(Math.round(10*t)/10).toFixed(1)},addSignColor:function(t){return 0===t?"color:gray":t>0?"color:rgb(255, 82, 121)":"color:#18b89b"},addSign:function(t){return t>0?"+"+t.toString():t.toString()},shouldUpdate:function(){var s=this.stats;if(!1 in s)return!1;if(!1 in s)return!1;var t=new Date,n=t-new Date(s.next_trading_date)+288e5,e=t.getDay(),r=Math.ceil(n/864e5),o=r>0;return o=1===e?o&&r<=4:o&&r<=2,s.stop_actions||o},formatDate:function(t){if(null===t)return"無法顯示時間";if("string"==typeof t)return t;t=t.seconds?new Date(1e3*t.seconds):new Date;var n=new Date,e=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()?e[1]:e[0]}},computed:{gradient:function(){var t=0,s=this.sid;if(0===s.length)return t;for(var i=0,n=s.length;i<n;i++){t=(t<<5)-t+s.charCodeAt(i),t|=0}function e(){for(var t="",n="0123456789abcdef",i=0;i<6;i++)t+=n.charAt(Math.floor(16*Math.random()));return t}return"linear-gradient("+(t%10+100)+"deg, #"+e()+"77, #"+e()+"77)"}}},o=(e(716),e(52)),component=Object(o.a)(r,function(){var t=this,n=t._self._c;return n("div",{staticClass:"uk-card round-border shadow uk-margin-large uk-padding-small",staticStyle:{background:"white"}},[n("div",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":""}},[n("div",{staticClass:"uk-width-1-4@l uk-width-1-3@m uk-width-1-1",staticStyle:{display:"grid","align-items":"center"}},[n("div",[n("div",[n("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[n("span",{staticClass:"uk-text-primary"},[t._v(t._s(t.stats&&t.stats.name?t.stats.name:t.sid)+" ")]),n("sup",[t._v(t._s(t.stats.public_code>=2?"VIP":""))]),t._v(" "),t.shouldUpdate()?n("span",{staticStyle:{color:"#54e3a5"}},[t._v("●")]):t._e()]),t._v(" "),n("hr",{staticClass:"uk-hidden@s"}),t._v(" "),n("div",{staticClass:"uk-visible@s"},[t.stats.codeOnly?t._e():n("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[n("button",{staticClass:"uk-button uk-button-default uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n                績效\n              ")])]),t._v(" "),n("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&name=").concat(encodeURIComponent(t.stats&&t.stats.name?t.stats.name:t.sid))}},[n("button",{staticClass:"uk-button uk-button-default uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n                編輯\n              ")])]),t._v(" "),t.cid?n("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&cid=").concat(t.cid)}},[n("button",{staticClass:"uk-button uk-button-default uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n                教學\n              ")])]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?n("button",{staticClass:"uk-button uk-button-small uk-button-default",on:{click:function(n){t.showSetting=!0}}},[n("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}})]):t._e()],1)],1)])]),t._v(" "),t.stats.ndays_return_benchmark?n("div",{staticClass:"uk-width-expand@m uk-width-1-1"},[n("div",{staticClass:"uk-overflow-auto"},[n("div",{staticClass:"uk-child-width-auto@s uk-child-width-1-3 uk-grid-small uk-grid-divider uk-text-small uk-text-center",attrs:{"uk-grid":""}},[n("div",[n("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("年化報酬")]),t._v(" "),n("div",{staticStyle:{color:"gray"}},[n("div",[n("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.annual_return)},[t._v("\n                  "+t._s(t.addSign(t.format_float(100*t.stats.annual_return))))]),t._v("\n                %\n              ")])])]),t._v(" "),n("div",{staticClass:"uk-visible@s"},[n("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("最大虧損")]),t._v(" "),n("div",{staticStyle:{color:"gray"}},[n("div",[n("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.max_drawdown)},[t._v("\n                  "+t._s(t.format_float(100*t.stats.max_drawdown)))]),t._v("\n                %\n              ")])])]),t._v(" "),n("div",{staticClass:"uk-visible@s"},[n("div",{staticClass:"uk-margin"},[t._v("夏普值")]),t._v(" "),n("span",{staticClass:"uk-text-lead uk-text-bold uk-text-muted"},[t._v("\n              "+t._s(t.format_float(t.stats.sharpe_ratio))+"\n            ")])]),t._v(" "),t.stats.ndays_return_benchmark?n("div",[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("大盤比較")]),t._v(" "),n("span",[t._v("  週   月   季   ")]),n("br"),t._v("\n             \n            "),t._l([5,20,60],function(e){return n("span",{key:"ndays-return"+e,style:t.addSignColor(t.stats.ndays_return[e]-t.stats.ndays_return_benchmark[e])},[t._v("\n              "+t._s(t.stats.ndays_return[e]>t.stats.ndays_return_benchmark[e]?"勝":"負")+"  \n            ")])})],2):t._e(),t._v(" "),n("div",[n("div",{staticClass:"uk-margin"},[t._v("當月走勢")]),t._v(" "),n("LineCanvas",{attrs:{data:t.stats.cumulative_return,canvasId:"canvas2-"+t.sid.toString(),width:80,height:36}})],1),t._v(" "),n("div",{staticClass:"uk-visible@l",staticStyle:{color:"#888"}},[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("近期報酬")]),t._v(" "),t._l([20,60],function(e){return n("div",{key:"ndays-return-stats"+e},[n("span",[t._v(t._s({5:"週",20:"月",60:"季"}[e]))]),t._v(" "),n("span",{style:t.addSignColor(t.stats.ndays_return[e])},[t._v("\n                "+t._s(t.addSign(t.format_float(100*t.stats.ndays_return[e])))+" ")]),n("span",[t._v("%")])])})],2),t._v(" "),t.stats.ndays_return_benchmark?n("div",{staticClass:"uk-visible@l uk-text-left",staticStyle:{color:"#888"}},[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("重要日期")]),t._v("\n            近期換股： "+t._s(t.stats.next_trading_date.split("T")[0])),n("br"),t._v("\n            策略更新： "+t._s(t.formatDate(t.stats.last_updated))+"\n          ")]):t._e()]),t._v(" "),n("hr",{staticClass:"uk-hidden@s"}),t._v(" "),n("div",{staticClass:"uk-hidden@s uk-child-width-1-3 uk-text-center",attrs:{"uk-grid":""}},[t.stats.codeOnly?t._e():n("nuxt-link",{attrs:{to:"/strategyview/?uid=".concat(t.uid,"&sid=").concat(t.sid)}},[n("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n            績效\n          ")]),t._v(" "),n("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&name=").concat(encodeURIComponent(t.stats&&t.stats.name?t.stats.name:t.sid))}},[n("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n            編輯\n          ")]),t._v(" "),t.cid?n("nuxt-link",{attrs:{to:"/notebook/?uid=".concat(t.uid,"&sid=").concat(t.sid,"&cid=").concat(t.cid)}},[n("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n            教學\n          ")]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?n("div",{staticClass:"uk-text-primary",on:{click:function(n){t.showSetting=!0}}},[n("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}}),t._v(" 設定\n          ")]):t._e()],1)])]):t._e()]),t._v(" "),n("strategyTags",{attrs:{sid:t.sid,uid:t.uid},model:{value:t.showSetting,callback:function(n){t.showSetting=n},expression:"showSetting"}})],1)},[],!1,null,"10e3eb73",null);n.default=component.exports;installComponents(component,{LineCanvas:e(554).default})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[96,21,26,47,51,59,66],{339:function(t,e,n){"use strict";var r=n(10),o=n(81),l=n(41),c=n(59),d=n(20),f=n(11),h=n(350),v=n(154),m=n(351),k=n(352),_=n(92),y=n(353),w=[],C=w.sort,S=f((function(){w.sort(void 0)})),x=f((function(){w.sort(null)})),I=v("sort"),T=!f((function(){if(_)return _<70;if(!(m&&m>3)){if(k)return!0;if(y)return y<603;var code,t,e,n,r="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)w.push({k:t+n,v:e})}for(w.sort((function(a,b){return b.v-a.v})),n=0;n<w.length;n++)t=w[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));r({target:"Array",proto:!0,forced:S||!x||!I||!T},{sort:function(t){void 0!==t&&o(t);var e=l(this);if(T)return void 0===t?C.call(e):C.call(e,t);var n,r,f=[],v=c(e);for(r=0;r<v;r++)r in e&&f.push(e[r]);for(f=h(f,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:d(e)>d(n)?1:-1}}(t)),n=f.length,r=0;r<n;)e[r]=f[r++];for(;r<v;)delete e[r++];return e}})},350:function(t,e){var n=Math.floor,r=function(t,e){var c=t.length,d=n(c/2);return c<8?o(t,e):l(r(t.slice(0,d),e),r(t.slice(d),e),e)},o=function(t,e){for(var element,n,r=t.length,i=1;i<r;){for(n=i,element=t[i];n&&e(t[n-1],element)>0;)t[n]=t[--n];n!==i++&&(t[n]=element)}return t},l=function(t,e,n){for(var r=t.length,o=e.length,l=0,c=0,d=[];l<r||c<o;)l<r&&c<o?d.push(n(t[l],e[c])<=0?t[l++]:e[c++]):d.push(l<r?t[l++]:e[c++]);return d};t.exports=r},351:function(t,e,n){var r=n(80).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},352:function(t,e,n){var r=n(80);t.exports=/MSIE|Trident/.test(r)},353:function(t,e,n){var r=n(80).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},362:function(t,e,n){var r=n(10),o=n(378),l=n(121);r({target:"Array",proto:!0},{fill:o}),l("fill")},378:function(t,e,n){"use strict";var r=n(41),o=n(119),l=n(59);t.exports=function(t){for(var e=r(this),n=l(e),c=arguments.length,d=o(c>1?arguments[1]:void 0,n),f=c>2?arguments[2]:void 0,h=void 0===f?n:o(f,n);h>d;)e[d++]=t;return e}},432:function(t,e,n){"use strict";n.r(e);var r={props:{confirm:{default:null},title:{default:null},value:{default:!1}},methods:{confirmClose:function(){this.confirm&&this.confirm(),this.hide()},hide:function(){this.$emit("input",!1)}}},o=n(40),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-modal uk-open",style:t.value?"display: initial":""},[n("div",{staticClass:"uk-modal-dialog",staticStyle:{"border-radius":"15px",overflow:"hidden"}},[n("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.hide}}),t._v(" "),t.title?n("div",{staticClass:"uk-modal-header"},[n("h2",{staticClass:"uk-modal-title uk-text-primary"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),n("div",{staticClass:"uk-modal-body"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"uk-modal-footer uk-text-right"},[t.confirm?n("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:t.hide}},[t._v("取消")]):t._e(),t._v(" "),n("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"button"},on:{click:t.confirmClose}},[t._v("確定")])])])])}),[],!1,null,null,null);e.default=component.exports},464:function(t,e){var n=1..valueOf;t.exports=function(t){return n.call(t)}},470:function(t,e,n){"use strict";n.r(e);var r=n(96),o=(n(362),{props:{data:{default:function(){return[1,3,2,4,6,5,3,3,6,7]}},canvasId:{default:"id"},width:{default:250},height:{default:100},gradient:{default:!0}},methods:{mapy:function(t){return(this.ymax-t)/(this.ymax-this.ymin)*this.height},mapx:function(t){return(t-this.xmin)/(this.xmax-this.xmin)*this.width},getRealWidth:function(){document.getElementById(this.$props.canvasId);return this.width}},data:function(){return{ymax:0,ymin:0,xmax:0,xmin:0}},mounted:function(){var t=this.getRealWidth();this.ymax=Math.max.apply(Math,Object(r.a)(this.data)),this.ymin=Math.min.apply(Math,Object(r.a)(this.data)),this.xmax=this.data.length-1,this.xmin=0;var e=document.getElementById(this.canvasId).getContext("2d");for(var i in e.beginPath(),e.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var n=this.mapx(i),o=this.mapy(this.data[i]);e.lineTo(n,o)}e.lineTo(this.mapx(this.xmax),this.mapy(this.data[0])),e.lineTo(this.mapx(this.xmax),this.mapy(this.ymin)),e.lineTo(this.mapx(0),this.mapy(this.ymin)),e.strokeStyle="#ffffff",e.stroke();var l=e.createRadialGradient(t/2,0,0,t/2,0,60);for(var c in l.addColorStop(0,"#3f42ba44"),this.gradient?l.addColorStop(1,"#25278600"):l.addColorStop(1,"#3f42ba44"),e.fillStyle=l,e.fill(),e.closePath(),e.beginPath(),e.lineWidth=1,e.strokeStyle="#252786",e.moveTo(this.mapx(0),this.mapy(this.data[0])),this.data){var d=this.mapx(c),f=this.mapy(this.data[c]);e.lineTo(d,f)}e.stroke(),e.closePath()}}),l=n(40),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{attrs:{id:t.canvasId,width:t.width,height:t.height}})}),[],!1,null,null,null);e.default=component.exports},508:function(t,e,n){"use strict";var r=n(23),o=n(12),l=n(122),c=n(34),d=n(26),f=n(229),h=n(124),v=n(232),m=n(11),k=n(95).f,_=n(56).f,y=n(31).f,w=n(464),C=n(230).trim,S="Number",x=o.Number,I=x.prototype,T=function(t){var e=v(t,"number");return"bigint"==typeof e?e:O(e)},O=function(t){var e,n,r,o,l,c,d,code,f=v(t,"number");if(h(f))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(43===(e=(f=C(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(c=(l=f.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>o)return NaN;return parseInt(l,r)}return+f};if(l(S,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var $,M=function(t){var e=arguments.length<1?0:x(T(t)),n=this;return n instanceof M&&m((function(){w(n)}))?f(Object(e),n,M):e},j=r?k(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),F=0;j.length>F;F++)d(x,$=j[F])&&!d(M,$)&&y(M,$,_(x,$));M.prototype=I,I.constructor=M,c(o,S,M)}},536:function(t,e,n){},537:function(t,e,n){},568:function(t,e,n){t.exports=n.p+"img/icons.6abb2e6.png"},606:function(t,e,n){"use strict";n(536)},607:function(t,e,n){"use strict";var r=n(10),o=n(69),l=n(464),c=n(235),d=n(11),f=1..toFixed,h=Math.floor,v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},m=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=h(r/1e7)},k=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=h(n/t),n=n%t*1e7},_=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+c.call("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:f&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){f.call({})}))},{toFixed:function(t){var e,n,r,d,f=l(this),h=o(t),data=[0,0,0,0,0,0],y="",w="0";if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(y="-",f=-f),f>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(f*v(2,69,1))-69)<0?f*v(2,-e,1):f/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(m(data,0,n),r=h;r>=7;)m(data,1e7,0),r-=7;for(m(data,v(10,r,1),0),r=e-1;r>=23;)k(data,1<<23),r-=23;k(data,1<<r),m(data,1,1),k(data,2),w=_(data)}else m(data,0,n),m(data,1<<-e,0),w=_(data)+c.call("0",h);return w=h>0?y+((d=w.length)<=h?"0."+c.call("0",h-d)+w:w.slice(0,d-h)+"."+w.slice(d-h)):y+w}})},608:function(t,e,n){var r=n(10),o=n(609);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},609:function(t,e,n){var r=n(12),o=n(11),l=n(20),c=n(230).trim,d=n(167),f=r.parseFloat,h=r.Symbol,v=h&&h.iterator,m=1/f(d+"-0")!=-1/0||v&&!o((function(){f(Object(v))}));t.exports=m?function(t){var e=c(l(t)),n=f(e);return 0===n&&"-"==e.charAt(0)?-0:n}:f},610:function(t,e,n){"use strict";n(537)},617:function(t,e,n){"use strict";n.r(e);var r=n(8),o=(n(18),n(66),n(46),n(38),n(325)),l=n(15),c=n(94),d=n.n(c),f=Object(o.c)({props:{strategies:[],value:{default:!1}},data:function(){return{selectedStrategy:"",updateTime:"19:00",settings:{}}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.generateRandomTime(),t.$props.strategies.length>0&&(t.selectedStrategy=t.$props.strategies[0]),n=null,e.prev=3,n="schedule"in t.$store.state.userInfo.info?t.$store.state.userInfo.info.schedule:{},e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(3),alert("cannot view schedule"+e.t0),e.t0;case 11:t.settings={},t.settings=Object.assign({},t.settings,n);case 13:case"end":return e.stop()}}),e,null,[[3,7]])})))()},generateRandomTime:function(){var time=Math.round(59*Math.random()),t=time<10?"0"+time.toString():time.toString();this.updateTime="19:"+t},addStrategy:function(){"free"!==this.$store.state.role?10!==Object.keys(this.settings).length||"TJN4FDuqrwU8DML7DAjUYFIMutp2"===this.$store.state.user.uid?(this.settings[this.selectedStrategy]=this.updateTime,this.generateRandomTime()):alert("最多只能更新 10 個策略"):alert("免費用戶無法使用此功能喔！")},removeStrategy:function(t){this.$delete(this.settings,t)},setSchedule:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("free"!==t.$store.state.role){e.next=3;break}return alert("免費用戶無法使用此功能喔！"),e.abrupt("return");case 3:return{api_token:t.$store.state.api_token,sids:t.settings},e.prev=4,n=l.c.batch(),r=l.c.collection("global").doc("schedule"),o=l.c.collection("users").doc(t.$store.state.user.uid),n.update(o,{schedule:t.settings}),(c={})[t.$store.state.user.uid]=t.settings,n.update(r,c),e.next=14,n.commit();case 14:d.a.modal.alert("儲存成功!"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0),d.a.modal.alert("cannot set schedule "+e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})))()}}}),h=n(40),component=Object(h.a)(f,(function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("Modal",{attrs:{title:"自動更新策略",confirm:e.setSchedule,value:e.value},on:{input:function(e){return t.$emit("input",!1)}}},[this.$store.state.userInfo.info&&this.$store.state.userInfo.info.strategies?r("div",[r("div",[r("div",{attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-1-1"},[r("p",[e._v("建議於晚上7點之後執行，才能獲取最新的資料喔！")]),e._v(" "),r("p",[e._v("建議將策略更新時間錯開，來避免回測塞車！")]),e._v(" "),r("p",[e._v("\n            當設定完成後，系統不會即時更新，而是在每個整點更新您的新設定喔！\n          ")])]),e._v(" "),r("div",{staticClass:"uk-width-1-2"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("策略")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedStrategy,expression:"selectedStrategy"}],staticClass:"uk-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));e.selectedStrategy=t.target.multiple?n:n[0]}}},e._l(e.strategies,(function(s){return r("option",{key:s},[e._v(e._s(s))])})),0)]),e._v(" "),r("div",{staticClass:"uk-width-1-4@m uk-width-1-2"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[e._v("自動更新時間")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.updateTime,expression:"updateTime"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"19:30"},domProps:{value:e.updateTime},on:{input:function(t){t.target.composing||(e.updateTime=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"uk-width-expand uk-margin-bottom"},[r("br",{staticClass:"uk-visible@m"}),e._v(" "),r("button",{staticClass:"uk-button uk-button-primary uk-width-1-1",on:{click:e.addStrategy}},[e._v("\n            新增\n          ")])])])]),e._v(" "),r("hr"),e._v(" "),0===Object.keys(e.settings).length?r("div",{staticStyle:{padding:"48px 0"}},[e._v("\n      尚未新增策略\n    ")]):r("div",[r("ul",{staticClass:"uk-list"},e._l(e.settings,(function(time,t){return r("li",{key:t+"_select"},[r("button",{staticClass:"uk-button",staticStyle:{"margin-right":"12px"},on:{click:function(n){return e.removeStrategy(t)}}},[e._v("\n            刪除\n          ")]),e._v("\n          每天 "+e._s(time)+" 自動執行\n          "),r("span",{staticClass:"uk-text-primary"},[e._v(e._s(t))])])})),0)]),e._v(" "),r("hr")]):r("div",[e._v("尚未登入")])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:n(432).default})},673:function(t,e,n){},705:function(t,e,n){"use strict";n.r(e);var r=n(8),o=(n(38),n(339),n(46),n(325)),l=n(15),c=Object(o.c)({data:function(){return{content:[]}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.c.collection("global").doc("bulletinBoard"),r=null,e.prev=2,e.next=5,n.get();case 5:r=(r=e.sent).data(),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),alert("Mounted: cannot download list of posts"+e.t0),e.t0;case 13:for(c in o=Object.keys(r).sort().reduce((function(t,e){return t[e]=r[e],t}),{}),o)t.content.push(o[c]);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))()}}),d=(n(606),n(40)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"uk-alert-primary round-border shadow",attrs:{"uk-alert":""}},[n("a",{staticClass:"uk-alert-close",attrs:{"uk-close":""}}),t._v(" "),n("p",[n("nuxt-link",{attrs:{to:"/course?cid=LqYTLW3KkXRSPnci47xe"}},[n("span",{staticStyle:{"text-decoration":"underline"}},[t._v("平台速成教學")])]),t._v("\n      ！\n    ")],1)]),t._v(" "),t._l(t.content,(function(e){return n("div",{key:e,staticClass:"uk-alert-primary round-border shadow",attrs:{"uk-alert":""}},[n("a",{staticClass:"uk-alert-close",attrs:{"uk-close":""}}),t._v(" "),n("div",{domProps:{innerHTML:t._s(e)}})])}))],2)}),[],!1,null,"269b9e6b",null);e.default=component.exports},706:function(t,e,n){"use strict";n.r(e);var r=n(8),o=(n(18),n(66),n(38),n(15)),l={data:function(){return{menu:null,post:"",imgHeader:""}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.collection("posts").doc("menu").get();case 2:t.menu=e.sent.data().posts,console.log(t.menu),console.log(t.menu);case 5:case"end":return e.stop()}}),e)})))()},methods:{showPost:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.c.collection("posts").doc(t.toString()).get();case 2:r=n.sent.data(),console.log(r),e.post=r.post;case 5:case"end":return n.stop()}}),n)})))()}}},c=n(40),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-width-1-1"},[t.$store.state.user&&"TJN4FDuqrwU8DML7DAjUYFIMutp2"===t.$store.state.user.uid?n("nuxt-link",{attrs:{to:"posts"}},[t._v("設定公告\n  ")]):t._e(),t._v(" "),t.menu?n("div",{staticClass:"uk-overflow-auto",staticStyle:{height:"260px"}},[n("div",{staticClass:"uk-margin-right"},[t._l(t.menu,(function(e){return n("span",{staticStyle:{cursor:"pointer",height:"64px"}},[n("img",{key:e.id,staticClass:"round-border uk-margin-bottom",staticStyle:{width:"100%"},attrs:{src:e.thumbnail,"uk-toggle":"target: #modal-post",alt:"image"},on:{click:function(n){t.showPost(e.id),t.imgHeader=e.thumbnail}}})])})),n("br")],2)]):t._e(),t._v(" "),n("div",{attrs:{id:"modal-post","uk-modal":""}},[n("div",{staticClass:"uk-modal-dialog uk-modal-body",staticStyle:{"border-radius":"15px"}},[n("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),t._v(" "),n("img",{staticClass:"round-border",staticStyle:{"margin-bottom":"12px"},attrs:{width:"100%",src:t.imgHeader,"uk-toggle":"target: #modal-post",alt:"image"}}),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.post)}})])])],1)}),[],!1,null,null,null);e.default=component.exports},707:function(t,e,n){"use strict";n.r(e);n(607),n(608),n(508),n(18),n(66),n(44),n(117),n(58);var r={props:{sid:{default:"下載中"},uid:{default:""},cid:{default:null},stats:{default:{annual_return:0,max_drawdown:0,cumulative_return:[0,0,0],last_updated:"2022-10-10",next_trading_date:"2022-10-10",ndays_return:{5:0,20:0,60:0}}}},data:function(){return{showSetting:!1}},methods:{format_float:function(t){return Number.parseFloat(Math.round(10*t)/10).toFixed(1)},addSignColor:function(t){return 0===t?"color:gray":t>0?"color:rgb(255, 82, 121)":"color:#18b89b"},addSign:function(t){return t>0?"+"+t.toString():t.toString()},shouldUpdate:function(){var s=this.stats;if(!1 in s)return!1;if(!1 in s)return!1;var t=new Date,e=t-new Date(s.next_trading_date)+288e5,n=t.getDay(),r=Math.ceil(e/864e5),o=r>0;return o=1===n?o&&r<=4:o&&r<=2,s.stop_actions||o},formatDate:function(t){if(null===t)return"無法顯示時間";if("string"==typeof t)return t;t=t.toDate();var e=new Date,n=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?n[1]:n[0]}},computed:{gradient:function(){var t=0,s=this.sid;if(0===s.length)return t;for(var i=0,e=s.length;i<e;i++){t=(t<<5)-t+s.charCodeAt(i),t|=0}function n(){for(var t="",e="0123456789abcdef",i=0;i<6;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}return"linear-gradient("+(t%10+100)+"deg, #"+n()+"77, #"+n()+"77)"}}},o=(n(610),n(40)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-card round-border shadow uk-margin-large uk-padding-small",staticStyle:{background:"white"}},[n("div",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":""}},[n("div",{staticClass:"uk-width-1-4@l uk-width-1-3@m uk-width-1-1",staticStyle:{display:"grid","align-items":"center"}},[n("div",[n("div",[n("nuxt-link",{attrs:{to:"/strategyview/?uid="+t.uid+"&sid="+t.sid}},[n("span",{staticClass:"uk-text-primary"},[t._v(t._s(t.sid)+" ")]),n("sup",[t._v(t._s(t.stats.public_code>=2?"VIP":""))]),t._v(" "),t.shouldUpdate()?n("span",{staticStyle:{color:"#54e3a5"}},[t._v("●")]):t._e()]),t._v(" "),n("hr",{staticClass:"uk-hidden@s"}),t._v(" "),n("div",{staticClass:"uk-visible@s"},[t.stats.codeOnly?t._e():n("nuxt-link",{attrs:{to:"/strategyview/?uid="+t.uid+"&sid="+t.sid}},[n("button",{staticClass:"uk-button uk-button-default uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n                績效\n              ")])]),t._v(" "),n("nuxt-link",{attrs:{to:"/notebook/?uid="+t.uid+"&sid="+t.sid}},[n("button",{staticClass:"uk-button uk-button-default  uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n                編輯\n              ")])]),t._v(" "),t.cid?n("nuxt-link",{attrs:{to:"/notebook/?uid="+t.uid+"&sid="+t.sid+"&cid="+t.cid}},[n("button",{staticClass:"uk-button uk-button-default  uk-button-small"},[n("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n                教學\n              ")])]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?n("button",{staticClass:"uk-button uk-button-small uk-button-default",on:{click:function(e){t.showSetting=!0}}},[n("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}})]):t._e()],1)],1)])]),t._v(" "),t.stats.ndays_return_benchmark?n("div",{staticClass:"uk-width-expand@m uk-width-1-1"},[n("div",{staticClass:"uk-overflow-auto"},[n("div",{staticClass:"uk-child-width-auto@s uk-child-width-1-3 uk-grid-small uk-grid-divider uk-text-small uk-text-center",attrs:{"uk-grid":""}},[n("div",[n("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("年化報酬")]),t._v(" "),n("div",{staticStyle:{color:"gray"}},[n("div",[n("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.annual_return)},[t._v("\n                  "+t._s(t.addSign(t.format_float(100*t.stats.annual_return))))]),t._v(" %\n              ")])])]),t._v(" "),n("div",{staticClass:"uk-visible@s"},[n("div",{staticClass:"uk-margin",staticStyle:{width:"5.5rem"}},[t._v("最大虧損")]),t._v(" "),n("div",{staticStyle:{color:"gray"}},[n("div",[n("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(t.stats.max_drawdown)},[t._v("\n                  "+t._s(t.format_float(100*t.stats.max_drawdown)))]),t._v(" %\n              ")])])]),t._v(" "),n("div",{staticClass:"uk-visible@s"},[n("div",{staticClass:"uk-margin"},[t._v("夏普值")]),t._v(" "),n("span",{staticClass:"uk-text-lead uk-text-bold uk-text-muted"},[t._v("\n              "+t._s(t.format_float(t.stats.sharpe_ratio))+"\n            ")])]),t._v(" "),t.stats.ndays_return_benchmark?n("div",[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("大盤比較")]),t._v(" "),n("span",[t._v("  週   月   季   ")]),n("br"),t._v("\n             \n            "),t._l([5,20,60],(function(e){return n("span",{key:"ndays-return"+e,style:t.addSignColor(t.stats.ndays_return[e]-t.stats.ndays_return_benchmark[e])},[t._v("\n              "+t._s(t.stats.ndays_return[e]>t.stats.ndays_return_benchmark[e]?"勝":"負")+"  \n            ")])}))],2):t._e(),t._v(" "),n("div",[n("div",{staticClass:"uk-margin"},[t._v("當月走勢")]),t._v(" "),n("LineCanvas",{attrs:{data:t.stats.cumulative_return,canvasId:"canvas2-"+t.sid.toString(),width:80,height:36}})],1),t._v(" "),n("div",{staticClass:"uk-visible@l",staticStyle:{color:"#888"}},[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("近期報酬")]),t._v(" "),t._l([20,60],(function(e){return n("div",{key:"ndays-return-stats"+e},[n("span",[t._v(t._s({5:"週",20:"月",60:"季"}[e]))]),t._v(" "),n("span",{style:t.addSignColor(t.stats.ndays_return[e])},[t._v("\n                "+t._s(t.addSign(t.format_float(100*t.stats.ndays_return[e])))+"\n              ")]),n("span",[t._v("%")])])}))],2),t._v(" "),t.stats.ndays_return_benchmark?n("div",{staticClass:"uk-visible@l uk-text-left",staticStyle:{color:"#888"}},[n("div",{staticStyle:{"margin-bottom":"0.4rem"}},[t._v("重要日期")]),t._v("\n            近期換股： "+t._s(t.stats.next_trading_date.split("T")[0])),n("br"),t._v("\n            策略更新： "+t._s(t.formatDate(t.stats.last_updated))+"\n          ")]):t._e()]),t._v(" "),n("hr",{staticClass:"uk-hidden@s"}),t._v(" "),n("div",{staticClass:"uk-hidden@s uk-child-width-1-3 uk-text-center",attrs:{"uk-grid":""}},[t.stats.codeOnly?t._e():n("nuxt-link",{attrs:{to:"/strategyview/?uid="+t.uid+"&sid="+t.sid}},[n("span",{attrs:{"uk-icon":"icon: history; ratio: 1"}}),t._v("\n            績效\n          ")]),t._v(" "),n("nuxt-link",{attrs:{to:"/notebook/?uid="+t.uid+"&sid="+t.sid}},[n("span",{attrs:{"uk-icon":"icon: file-edit; ratio: 1"}}),t._v("\n            編輯\n          ")]),t._v(" "),t.cid?n("nuxt-link",{attrs:{to:"/notebook/?uid="+t.uid+"&sid="+t.sid+"&cid="+t.cid}},[n("span",{attrs:{"uk-icon":"icon: video-camera; ratio: 1"}}),t._v("\n            教學\n          ")]):t._e(),t._v(" "),this.$store.state.user&&t.uid===this.$store.state.user.uid?n("div",{staticClass:"uk-text-primary",on:{click:function(e){t.showSetting=!0}}},[n("span",{attrs:{"uk-icon":"icon: cog; ratio: 1"}}),t._v(" 設定\n          ")]):t._e()],1)])]):t._e()]),t._v(" "),n("strategyTags",{attrs:{sid:t.sid,uid:t.uid},model:{value:t.showSetting,callback:function(e){t.showSetting=e},expression:"showSetting"}})],1)}),[],!1,null,"5439dd30",null);e.default=component.exports;installComponents(component,{LineCanvas:n(470).default})},734:function(t,e,n){"use strict";n(673)},825:function(t,e,n){"use strict";n.r(e);n(30),n(62),n(42),n(63);var r=n(96),o=n(8),l=n(25),c=(n(38),n(32),n(44),n(117),n(18),n(66),n(58),n(60),n(61),n(46),n(339),n(47),n(67),n(93),n(48),n(94)),d=n.n(c),f=n(15),h=n(164),v=n(54),m=n(470),k=n(617),_=n(705);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={head:{title:"最優質的 Python 選股程式範例 | FinLab 台股策略庫",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"多種股票投資策略範例，所有策略歷史績效表現顯著。更有當月走勢、大盤比較等詳細資訊，快來股票投資策略庫查看！\n          技術指標交易策略：利用股票價格、成交量、動能等技術指標，對市場走勢進行分析和預測，進行交易。例如，MACD、RSI、KD、布林帶等指標。其中包含事件驅動策略：關注公司公告、新聞、市場事件等，利用事件對股票價格產生的影響進行交易。例如，併購、分拆、股票回購等事件。本益比策略：以公司股票的本益比為依據，選擇相對低估的股票進行投資。本益比高於市場平均值的股票視為高估，本益比低於市場平均值的股票視為低估。股利收益率策略：以公司股票的股利收益率為依據，選擇相對高收益的股票進行投資。股利收益率高於市場平均值的股票視為高收益，反之則低收益。\n          大盤择时策略：根據大盤指數的走勢，選擇進場或出場時機。例如，當大盤上漲時，進場買進；當大盤下跌時，出場賣出。\n          預測股價策略：利用基本面分析、技術分析等方法，對股票未來價格進行預測，選擇相對低估的股票進行投資。\n          價值投資策略：選擇市場低估的優質公司股票進行投資。例如，利用股票的財務報表等基本面指標，分析公司價值。\n          成長投資策略：選擇市場成長潛力較高的公司股票進行投資。例如，利用公司的業績、產品創新等因素，分析公司成長潛力。\n          統計套利策略：利用市場的價格異常、漏洞進行交易。例如，股票與期貨之間的價差。"}]},components:{LineCanvas:m.default,AutoUpdatePanel:k.default,BulletinBoard:_.default},watchQuery:function(t){this.changeTab(t.tab)},data:function(){return{targetStrategy:null,newStrategyName:"",finlabStrategies:null,tab:"FinLab策略",otherUid:this.$route.query.uid||"TJN4FDuqrwU8DML7DAjUYFIMutp2",publicList:!1,publicName:"",showTab:void 0===this.$route.query.uid,showAutoUpdate:!1,showShareStrategies:!1,sortSelectedColumn:7,sortDecending:!0,sortAttritubes:[function(s){return s.name},function(s){return s.annual_return},function(s){return s.max_drawdown},function(s){return s.sharpe_ratio},function(s){return s.ndays_return[5]},function(s){return s.ndays_return[20]},function(s){return s.last_updated},function(s){return s.ndays_return[60]}],sortNames:{"近季報酬":7,"近月報酬":5,"近週報酬":4,"年化報酬":1,"最大下跌":2,"夏普值":3},isChangingName:!1,courses:{},selectedTag:"全部",cardDisplay:!0,showFilter:!0}},mounted:function(){this.downloadFinLabStrategy(),this.changeTab(this.$route.query.tab),this.updateCourse(),window.innerWidth<640&&(this.showFilter=!1)},methods:w(w({hasTag:function(t,e){var n=this.selectedTag;if("全部"===n)return!0;var r=null;if("我的策略"===this.tab&&this.userInfo.info&&(r=this.userInfo.info.tags),"FinLab策略"===this.tab&&null!==this.finlabStrategies&&(r=this.finlabStrategies.tags),void 0===r[e])return!1;for(var i in r[e])if(r[e][i].text===n)return!0;return!1},updateCourse:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c.collection("courses").doc("menu").get();case 2:for(r in n=e.sent.data(),console.log(n),n)n[r].sid&&(console.log(r,n[r].sid),t.courses[n[r].sid]=r);console.log(t.courses),t.$forceUpdate();case 7:case"end":return e.stop()}}),e)})))()},changeTab:function(t){t&&(this.tab=t)},officialStrategies:function(){return"FinLab策略"===this.tab&"TJN4FDuqrwU8DML7DAjUYFIMutp2"===this.otherUid},updateListInfo:function(){this.userInfo.info&&("public"in this.userInfo.info&&(this.publicList=this.userInfo.info.public),"title"in this.userInfo.info&&(this.publicName=this.userInfo.info.title))},switchTab:function(t){this.tab=t,window.history.pushState({},null,window.location.href.split("?")[0]+"?tab="+t)},copyStrategyMethod:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.user.uid,r=t.targetStrategy,o=t.newStrategyName,e.next=5,Object(h.b)(n,r,n,o);case 5:case"end":return e.stop()}}),e)})))()},updatePublicList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.user.uid,e.next=3,f.c.collection("users").doc(n);case 3:e.sent.update({public:t.publicList,title:t.publicName}),d.a.modal.alert("成功更新!");case 6:case"end":return e.stop()}}),e)})))()},format_float:function(t){return Math.round(100*t)/100},addSign:function(t){return t>0?"+"+t.toString():t.toString()},addSignColor:function(t){return 0===t?"color:gray":t>0?"color:rgb(255, 82, 121)":"color:#00c9b7"},copyToClp:function(text){var input=document.createElement("textarea");input.innerHTML=text,document.body.appendChild(input),input.select();var t=document.execCommand("copy");return document.body.removeChild(input),t},removeStrategyMethod:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(t.$store.state.user.uid,t.targetStrategy);case 2:case"end":return e.stop()}}),e)})))()},formatDate:function(t){if(null===t)return"無法顯示時間";if("string"==typeof t)return t;t=t.toDate();var e=new Date,n=t.toLocaleString("en-us").replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2").replace(/(\d+):(\d+):(\d+)/,"$1:$2").split(", ");return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?n[1]:n[0]},createStrategy:function(){var t=Object(h.d)("未命名",this.userInfo);this.$router.push("/notebook/?uid=".concat(this.$store.state.user.uid,"&sid=").concat(t))}},Object(v.b)({setRealtimeUpdate:"userInfo/setRealtimeUpdate",cancelRealtimeUpdate:"userInfo/cancelRealtimeUpdate"})),{},{downloadFinLabStrategy:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.finlabStrategies){e.next=2;break}return e.abrupt("return");case 2:return n=null,e.prev=3,e.next=6,f.c.collection("users").doc(t.otherUid).get();case 6:r=e.sent,n=r.data(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),alert("cannot fetch finlab strategy"+e.t0),e.abrupt("return");case 14:t.finlabStrategies=n;case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))()},sortTable:function(table){if(null===table)return null;"playground"in table&&delete table.playground;var t=Object.keys(table).map((function(t){return[t,table[t]]})),e=this;return t.sort((function(t,n){var r=e.sortAttritubes[e.sortSelectedColumn];function o(t){try{return r(t)}catch(t){}}return(o(n[1])-o(t[1]))*(e.sortDecending-.5)})),t},to_notebook:function(t){var e=this.permission(t,"public_code");10!=e?2!==e?1!==e?0!==e?d.a.modal.alert("神奇的權限等級: "+e):this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t)):this.$store.state.userInfo.info?this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t)):d.a.modal.alert("請登入來觀看策略"):"vip_y"===this.$store.state.role||"vip_m"===this.$store.state.role?this.$router.push("/notebook/?uid=".concat(this.otherUid,"&sid=").concat(t)):d.a.modal.alert("限 VIP 權限之用戶使用！"):d.a.modal.alert("該策略並沒有對外開放！")},permission:function(t,e){if(!this.finlabStrategies.strategies)return!1;if(!(t in this.finlabStrategies.strategies))return!1;if(e in this.finlabStrategies.strategies[t]){var n=this.finlabStrategies.strategies[t][e];return n}return!1},permissionColor:function(t,e){if(this.finlabStrategies.strategies&&t in this.finlabStrategies.strategies){if(e in this.finlabStrategies.strategies[t]){var n=this.finlabStrategies.strategies[t][e];if(n<=1)return"color: #252786";if(2==n)return"color: #ff0f47"}return"color: #ddd"}},columnArrow:function(i){return i!==this.sortSelectedColumn?"minus":this.sortDecending?"arrow-down":"arrow-up"},thActive:function(i){return i!==this.sortSelectedColumn?"cursor: pointer;user-select: none;white-space: nowrap;min-width:5rem":"color: #252786;cursor: pointer;user-select: none;white-space: nowrap;min-width:5rem"},thClick:function(i){this.sortSelectedColumn!==i?(this.sortSelectedColumn=i,this.sortDecending=!0):this.sortDecending=!this.sortDecending},shouldUpdate:function(s){if(!1 in s)return!1;if(!1 in s)return!1;var t=new Date,e=t-new Date(s.next_trading_date)+288e5,n=t.getDay(),r=Math.ceil(e/864e5),o=r>0;return o=1===n?o&&r<=4:o&&r<=2,s.stop_actions||o}}),computed:w(w({displayTable:function(){if(null===this.targetStrategies)return null;var t=this.sortTable(this.targetStrategies);return t=t.filter((function(t){return 1 in t&&"ndays_return"in t[1]}))},currentTags:function(){var t=null,e=null;if("我的策略"===this.tab&&this.userInfo.info&&(console.log(this.userInfo.info.tags),t=this.userInfo.info.tags,e=Object.keys(this.userInfo.info.strategies)),"FinLab策略"===this.tab&&null!==this.finlabStrategies&&(t=this.finlabStrategies.tags,e=Object.keys(this.finlabStrategies.strategies)),null===t)return["全部"];var n=["全部"];for(var r in t){var o=t[r];for(var i in o)-1===n.indexOf(o[i].text)&&e.includes(r)&&n.push(o[i].text)}return n},targetStrategies:function(){var t=null;if("我的策略"===this.tab&&this.userInfo.info&&this.userInfo.info.strategies)t=this.userInfo.info.strategies;else if("FinLab策略"===this.tab&&this.finlabStrategies)for(var e in t=this.finlabStrategies.strategies)10==t[e].public_position&&delete t[e];return t},targetStrategyBetterCount:function(){if(!this.targetStrategies)return["0/0","0/0","0/0"];var t=0,e=0,n=0,r=0,o=0,l=0,c=0,d=0,f=0,h=0;for(var s in this.targetStrategies){var v=this.targetStrategies[s];2!==v.public_code&&3!==v.public_code&&"FinLab策略"===this.tab||"ndays_return_benchmark"in v&&(t+=1,v.ndays_return[5]>v.ndays_return_benchmark[5]&&(e+=1),v.ndays_return[20]>v.ndays_return_benchmark[20]&&(n+=1),v.ndays_return[60]>v.ndays_return_benchmark[60]&&(r+=1),o+=v.ndays_return[5],l+=v.ndays_return[20],c+=v.ndays_return[60],d+=v.ndays_return_benchmark[5],f+=v.ndays_return_benchmark[20],h+=v.ndays_return_benchmark[60])}return o/=t,l/=t,c/=t,d/=t,f/=t,h/=t,{weeklyCnt:"".concat(e," / ").concat(t),monthlyCnt:"".concat(n," / ").concat(t),quarterlyCnt:"".concat(r," / ").concat(t),weeklyMean:Math.round(1e3*o)/10,monthlyMean:Math.round(1e3*l)/10,quarterlyMean:Math.round(1e3*c)/10,bweeklyMean:Math.round(1e3*d)/10,bmonthlyMean:Math.round(1e3*f)/10,bquarterlyMean:Math.round(1e3*h)/10}},best3Strategies:function(){if(!this.displayTable)return[];var table=Object(r.a)(this.displayTable);return table.sort((function(t,e){return e[1].ndays_return[5]-t[1].ndays_return[5]})),table.slice(0,3)},strategyUid:function(){return"我的策略"===this.tab?this.$store.state.user?this.$store.state.user.uid:"":"TJN4FDuqrwU8DML7DAjUYFIMutp2"},displayTitle:function(){return this.finlabStrategies?"title"in this.finlabStrategies&&"我的策略"!==this.tab?this.finlabStrategies.title:"我的策略":""}},Object(v.c)({userInfo:"userInfo"})),{},{renameInfo:function(){console.log("this.newsid"),console.log(this.newStrategyName);var t=Object(h.a)(this.newStrategyName);return t[0]?"":t[1]}})},S=C,x=(n(734),n(40)),component=Object(x.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"light-muted"},[r("div",{staticClass:"dark-muted"},[r("div",{staticClass:"uk-container"},[r("div",{staticClass:"uk-flex uk-flex-middle uk-margin-large-top uk-margin-large-bottom uk-visible@s"},[r("h1",{staticClass:"uk-text-primary uk-margin-large-right",staticStyle:{"margin-bottom":"0"}},[t._v("\n            "+t._s(t.displayTitle)+"\n          ")]),t._v(" "),t.$store.state.user?r("div",{staticClass:"uk-visible@s"},[t.$store.state.user?r("a",{staticStyle:{color:"white"},on:{click:t.createStrategy}},[t._m(0)]):t._e(),t._v(" "),t.$store.state.user?r("button",{staticClass:"uk-button uk-button-default uk-margin-left",on:{click:function(e){t.showAutoUpdate=!0}}},[r("span",{attrs:{"uk-icon":"icon: future"}}),t._v(" 自動更新\n            ")]):t._e(),t._v(" "),t.userInfo.info&&t.userInfo.info.strategies?r("AutoUpdatePanel",{attrs:{strategies:Object.keys(t.userInfo.info.strategies)},model:{value:t.showAutoUpdate,callback:function(e){t.showAutoUpdate=e},expression:"showAutoUpdate"}}):t._e(),t._v(" "),t.userInfo.info?r("button",{staticClass:"uk-button uk-button-default uk-margin-left",on:{click:function(e){t.updateListInfo(),t.showShareStrategies=!0}}},[r("span",{attrs:{"uk-icon":"icon: link"}}),t._v(" 分享策略頁\n            ")]):t._e(),t._v(" "),r("Modal",{attrs:{title:"公開自己的清單",confirm:t.updatePublicList},model:{value:t.showShareStrategies,callback:function(e){t.showShareStrategies=e},expression:"showShareStrategies"}},[r("h2",{staticClass:"uk-modal-title"},[t._v("公開清單")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.publicList,expression:"publicList"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.publicList)?t._i(t.publicList,null)>-1:t.publicList},on:{change:function(e){var n=t.publicList,r=e.target,o=!!r.checked;if(Array.isArray(n)){var l=t._i(n,null);r.checked?l<0&&(t.publicList=n.concat([null])):l>-1&&(t.publicList=n.slice(0,l).concat(n.slice(l+1)))}else t.publicList=o}}}),t._v("\n                公開清單")]),t._v(" "),t.publicList?r("div",{staticClass:"uk-margin"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[t._v("清單名稱")]),t._v(" "),r("div",{staticClass:"uk-form-controls"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.publicName,expression:"publicName"}],staticClass:"uk-input",attrs:{id:"form-stacked-text",type:"text",placeholder:"我的策略清單(必填)",autocomplete:"off"},domProps:{value:t.publicName},on:{input:function(e){e.target.composing||(t.publicName=e.target.value)}}})])]):t._e(),t._v(" "),t.publicList?r("div",{staticClass:"uk-margin"},[r("label",{staticClass:"uk-form-label",attrs:{for:"form-stacked-text"}},[t._v("清單連結")]),t._v(" "),r("div",{staticClass:"uk-inline uk-width-1-1"},[r("a",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"uk-icon":"icon: copy"},on:{click:function(e){return t.copyToClp("https://ai.finlab.tw/strategies?uid="+t.$store.state.user.uid)}}}),t._v(" "),r("input",{staticClass:"uk-input uk-width-1-1 uk-background-muted",attrs:{type:"text",disabled:""},domProps:{value:"https://ai.finlab.tw/strategies?uid="+t.$store.state.user.uid}})])]):t._e()]),t._v(" "),t.userInfo.info&&t.userInfo.info.strategies?r("div",{attrs:{id:"modal-link","uk-modal":""}}):t._e(),t._v(" "),t.$store.state.user?r("div",{attrs:{id:"modal-overflow","uk-modal":""}},[r("div",{staticClass:"uk-modal-dialog round-border"},[r("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),t._v(" "),r("div",{staticClass:"uk-modal-body"},[r("div",{staticClass:"uk-margin"},[r("h3",[t._v("策略名稱")]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.newStrategyName,expression:"newStrategyName"}],staticClass:"uk-input",attrs:{id:"form-stacked-text",type:"text",placeholder:"策略名稱",autocomplete:"off"},domProps:{value:t.newStrategyName},on:{input:function(e){e.target.composing||(t.newStrategyName=e.target.value)}}})]),t._v(" "),r("br")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-primary uk-modal-close",attrs:{type:"button"},on:{click:t.createStrategy}},[t._v("\n                    確定\n                  ")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"}},[t._v("\n                    取消\n                  ")])])])]):t._e()],1):t._e()]),t._v(" "),t.showTab?r("ul",{staticClass:"uk-visible@s",attrs:{"uk-tab":""}},[r("li",{class:"FinLab策略"===t.tab?"uk-active":"",on:{click:function(e){return t.switchTab("FinLab策略")}}},[r("a",{attrs:{href:"#"}},[t._v("FinLab 策略")])]),t._v(" "),r("li",{class:"我的策略"===t.tab?"uk-active":"",staticStyle:{"margin-bottom":"0"},on:{click:function(e){return t.switchTab("我的策略")}}},[r("a",{attrs:{href:"#"}},[t._v("我的策略")])])]):t._e(),t._v(" "),r("div",{staticClass:"dark-muted",attrs:{"uk-sticky":""}},[t.showTab?r("ul",{staticClass:"uk-child-width-expand uk-hidden@s",staticStyle:{"margin-top":"24px !important"},attrs:{"uk-tab":""}},[r("li",{class:"FinLab策略"===t.tab?"uk-active":"",on:{click:function(e){return t.switchTab("FinLab策略")}}},[r("a",{attrs:{href:"#"}},[t._v("FinLab 策略")])]),t._v(" "),r("li",{class:"我的策略"===t.tab?"uk-active":"",staticStyle:{"margin-bottom":"0"},on:{click:function(e){return t.switchTab("我的策略")}}},[r("a",{attrs:{href:"#"}},[t._v("我的策略")])])]):t._e()])])]),t._v(" "),"我的策略"!==t.tab?r("div",{staticClass:"uk-container"}):t._e(),t._v(" "),"我的策略"!==t.tab?r("div",{staticClass:"uk-container uk-margin-large-top"},[r("div",[t.displayTable&&0!==Object.keys(t.displayTable).length?r("div",[t.targetStrategyBetterCount?r("div",{staticClass:"uk-grid-small",attrs:{"uk-height-match":"target: > div > .uk-card","uk-grid":""}},[r("div",{staticClass:"uk-width-2-3@m uk-width-1-1"},[r("h3",[t._v("近週排行")]),t._v(" "),r("div",{staticClass:"mobile-overflow"},[0!==t.best3Strategies.length?r("div",{staticClass:"uk-flex uk-margin-bottom"},t._l(t.best3Strategies,(function(i,e){return r("div",{key:"n-"+i[0]+"-best",staticClass:"uk-margin-right"},[r("nuxt-link",{attrs:{to:"/strategyview/?uid="+t.strategyUid+"&sid="+i[0]}},[r("div",{staticClass:"uk-card uk-background-default round-border uk-margin-right",staticStyle:{height:"105px",width:"190px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",border:"1px solid #ccc"}},[r("div",{staticClass:"uk-padding-small uk-padding-remove-bottom",staticStyle:{position:"relative"}},[t._v("\n\n                          "+t._s(i[0])+"\n                          "),i[1].public_position>=2?r("span",[r("sup",{staticStyle:{"font-weight":"800",color:"#aaa"}},[t._v("VIP")])]):t._e(),t._v(" "),r("br"),t._v(" "),r("div",[r("span",{staticClass:"uk-text-lead uk-text-bold",style:t.addSignColor(i[1].ndays_return[5])},[t._v("\n                              "+t._s(t.addSign(t.format_float(100*i[1].ndays_return[5])))+"%\n                            ")]),t._v(" "),r("span",{staticClass:"uk-text-small"},[t._v(" | 週報酬")])])]),t._v(" "),r("div",{staticStyle:{"text-align":"center","margin-top":"-25px"}},[r("LineCanvas",{attrs:{data:i[1].cumulative_return,canvasId:"canvas-best-"+i[0],width:220,height:64,gradient:!1}})],1)])])],1)})),0):t._e()])]),t._v(" "),r("div",{staticClass:"uk-width-1-3@m uk-width-1-1 uk-visible@m"},[r("div",{staticClass:"uk-card shadow uk-padding-small uk-padding-remove-right latest-news",staticStyle:{"z-index":"2",background:"white"}},[r("h3",[t._v("最新消息")]),t._v(" "),r("PostView")],1)])]):t._e()]):t._e()])]):t._e()]),t._v(" "),"FinLab策略"===this.tab||null!==t.displayTable&&0!==t.displayTable.length?r("div",{staticClass:"light-muted"},[r("div",{staticClass:"uk-container"},[r("div",{staticClass:"uk-margin-large-top uk-flex uk-flex-middle"},[r("h3",{staticStyle:{margin:"0"}},[t._v("所有策略")]),t._v(" "),r("span",{staticClass:"uk-icon-button shadow uk-margin-left shadow",attrs:{"uk-icon":"thumbnails"},on:{click:function(e){t.cardDisplay=!0}}}),t._v(" "),r("span",{staticClass:"uk-icon-button shadow uk-margin-left shadow",attrs:{"uk-icon":"table"},on:{click:function(e){t.cardDisplay=!1}}}),t._v(" "),r("span",{staticClass:"uk-width-expand"}),t._v(" "),r("span",{staticClass:"uk-icon-button shadow",attrs:{"uk-icon":"cog"},on:{click:function(e){t.showFilter=!t.showFilter}}})]),t._v(" "),t.currentTags.length>1&&t.showFilter?r("div",{staticClass:"uk-flex uk-flex-middle"},[r("div",{staticClass:"uk-margin-top",staticStyle:{"min-width":"3rem"}},[t._v("類別：")]),t._v(" "),r("div",t._l(t.currentTags,(function(e){return r("button",{key:"tag-names-"+e,staticClass:"uk-button uk-button-small uk-margin-top uk-margin-right",class:{"uk-button-primary":e===t.selectedTag},on:{click:function(n){t.selectedTag=e}}},[t._v(t._s(e))])})),0)]):t._e(),t._v(" "),t.showFilter?r("div",{staticClass:"uk-flex uk-flex-middle"},[r("div",{staticClass:"uk-margin-top",staticStyle:{"min-width":"3rem"}},[t._v("排序：")]),t._v(" "),r("div",t._l(t.sortNames,(function(i,e){return r("button",{key:"sort-names-"+e,staticClass:"uk-button uk-button-small uk-margin-top uk-margin-right",class:{"uk-button-primary":i===t.sortSelectedColumn},on:{click:function(e){t.sortSelectedColumn=i}}},[t._v(t._s(e))])})),0)]):t._e(),t._v(" "),t.displayTable&&t.cardDisplay?r("div",{staticClass:"uk-margin-top"},t._l(t.displayTable,(function(s){return r("div",{key:s[0]},[t.hasTag(t.strategyUid,s[0])?r("StrategyCard",{attrs:{uid:t.strategyUid,stats:s[1],sid:s[0],cid:"TJN4FDuqrwU8DML7DAjUYFIMutp2"===t.strategyUid?t.courses[s[0]]:null}}):t._e()],1)})),0):t.displayTable?r("div",{staticClass:"uk-margin-top uk-overflow-auto round-border shadow screen-padding",staticStyle:{background:"white"}},[r("table",{staticClass:"uk-table uk-table-middle uk-table-divider",staticStyle:{"z-index":"3"}},[r("thead",{staticStyle:{background:"white",position:"sticky",top:"0","z-index":"5"}},[r("tr",[r("th",{staticClass:"sticky-col",staticStyle:{background:"white"}},[t._v("策略")]),t._v(" "),t.officialStrategies()?r("th",{staticClass:"uk-visible@m",staticStyle:{"white-space":"nowrap"}},[t._v("\n                權限("),r("span",{staticStyle:{color:"#252786"}},[t._v("Free")]),t._v(" "),r("span",{staticStyle:{color:"#ff0f47"}},[t._v("VIP")]),t._v(")\n              ")]):t._e(),t._v(" "),r("th",{style:t.thActive(1),on:{click:function(e){return t.thClick(1)}}},[t._v("\n                年化報酬"),r("span",{attrs:{"uk-icon":t.columnArrow(1)}})]),t._v(" "),r("th",{style:t.thActive(2),on:{click:function(e){return t.thClick(2)}}},[t._v("\n                最大下跌"),r("span",{attrs:{"uk-icon":t.columnArrow(2)}})]),t._v(" "),r("th",{style:t.thActive(3),on:{click:function(e){return t.thClick(3)}}},[t._v("\n                夏普值"),r("span",{attrs:{"uk-icon":t.columnArrow(3)}})]),t._v(" "),r("th",{style:t.thActive(4),on:{click:function(e){return t.thClick(4)}}},[t._v("\n                近週"),r("span",{attrs:{"uk-icon":t.columnArrow(4)}})]),t._v(" "),r("th",{style:t.thActive(5),on:{click:function(e){return t.thClick(5)}}},[t._v("\n                近月"),r("span",{attrs:{"uk-icon":t.columnArrow(5)}})]),t._v(" "),r("th",{style:t.thActive(6),on:{click:function(e){return t.thClick(6)}}},[t._v("\n                更新日期"),r("span",{attrs:{"uk-icon":t.columnArrow(6)}})]),t._v(" "),r("th",{staticStyle:{"white-space":"nowrap"}},[t._v("累積報酬")]),t._v(" "),"我的策略"===t.tab?r("th",[t._v("設定")]):t._e()])]),t._v(" "),r("tbody",t._l(t.displayTable,(function(s){return r("tr",{key:s[0]},[r("td",{staticClass:"sticky-col uk-background-default",staticStyle:{"white-space":"nowrap"}},[r("nuxt-link",{attrs:{to:(s[1].codeOnly?"/notebook":"/strategyview")+"/?uid="+t.strategyUid+"&sid="+s[0]}},[r("span",[t._v(t._s(s[0].length>8?s[0].slice(0,8)+"...":s[0])),t.shouldUpdate(s[1])?r("span",{staticClass:"uk-text-small uk-text-middle uk-margin-left",staticStyle:{color:"#54e3a5"}},[t._v("●")]):t._e()])])],1),t._v(" "),t.officialStrategies()?r("td",{staticClass:"uk-visible@m"},[r("nuxt-link",{attrs:{to:"/strategyview/?uid="+t.otherUid+"&sid="+s[0]}},[r("a",{staticClass:"uk-icon-button",style:t.permissionColor(s[0],"public_position"),attrs:{"uk-icon":"table","uk-tooltip":"統計清單"}})]),t._v(" "),r("a",{staticClass:"uk-icon-button",staticStyle:{cursor:"pointer"},style:t.permissionColor(s[0],"public_code"),attrs:{"uk-icon":"code","uk-tooltip":"程式碼"},on:{click:function(e){return t.to_notebook(s[0])}}})],1):t._e(),t._v(" "),r("td",{style:t.addSignColor(s[1].annual_return)},[t._v("\n                "+t._s(t.addSign(t.format_float(100*s[1].annual_return)))+"%\n              ")]),t._v(" "),r("td",{style:t.addSignColor(s[1].max_drawdown)},[t._v("\n                "+t._s(t.addSign(t.format_float(100*s[1].max_drawdown)))+"%\n              ")]),t._v(" "),r("td",[t._v(t._s(t.format_float(s[1].sharpe_ratio)))]),t._v(" "),r("td",{style:t.addSignColor(s[1].ndays_return[5])},[t._v("\n                "+t._s(t.addSign(t.format_float(100*s[1].ndays_return[5])))+"%\n              ")]),t._v(" "),r("td",{style:t.addSignColor(s[1].ndays_return[20])},[t._v("\n                "+t._s(t.addSign(t.format_float(100*s[1].ndays_return[20])))+"%\n              ")]),t._v(" "),r("td",[t._v(t._s(t.formatDate(s[1].last_updated)))]),t._v(" "),r("td",{staticClass:"uk-text-align:right",staticStyle:{width:"120px"}},[r("LineCanvas",{attrs:{data:s[1].cumulative_return,canvasId:"canvas-"+s[0].toString(),width:120,height:40}})],1),t._v(" "),"我的策略"===t.tab?r("td",[r("div",{staticClass:"uk-button",staticStyle:{width:"64px",padding:"0",margin:"0",color:"gray"}},[r("font-awesome-icon",{attrs:{icon:"cog",size:"lg"}})],1)]):t._e()])})),0)])]):t._e()])]):r("div",{staticClass:"uk-section light-muted"},[r("div",{staticClass:"uk-container"},[r("br"),r("br"),t._v(" "),r("h2",{staticClass:"uk-text-primary"},[t._v("製作專屬於你的策略")]),t._v(" "),t.$store.state.user?r("button",{staticClass:"\n                              uk-margin-large-top\n                              uk-margin-large-bottom\n                              uk-button\n                              uk-button-primary\n                              uk-button-large\n                              uk-light\n                            ",on:{click:t.createStrategy}},[r("a",[t._v(" 製作你的策略 ")])]):r("button",{staticClass:"\n                              uk-margin-large-top\n                              uk-margin-large-bottom\n                              uk-button\n                              uk-button-primary\n                              uk-button-large\n                              uk-light\n                            ",attrs:{href:"#login-ui","uk-toggle":""}},[r("a",[t._v(" 製作你的策略 ")])]),r("br"),r("br"),r("br"),t._v(" "),r("img",{attrs:{src:n(568),width:"320px"}}),r("br"),r("br")])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"uk-button uk-button-primary"},[n("span",{attrs:{"uk-icon":"icon: plus-circle"}}),t._v(" 建立策略")])}],!1,null,"0e9acb65",null);e.default=component.exports;installComponents(component,{AutoUpdatePanel:n(617).default,Modal:n(432).default,LineCanvas:n(470).default,PostView:n(706).default,StrategyCard:n(707).default})}}]);
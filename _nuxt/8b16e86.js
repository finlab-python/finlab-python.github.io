(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{524:function(t,e,r){t.exports={}},551:function(t,e,r){"use strict";r(524)},584:function(t,e,r){"use strict";r.r(e);r(60),r(53),r(23),r(38);var n=r(6),o=r(462),h=r(595),l=r(1043),c=r(424),d=r(425),y=r(647),v=r(438),m=r(430),f=r(493),O=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=f.d.createCanvas();this.canvas=canvas}return t.prototype.update=function(data,t,e,r,n,o){var h=this._getBrush(),l=this._getGradient(n,"inRange"),c=this._getGradient(n,"outOfRange"),d=this.pointSize+this.blurSize,canvas=this.canvas,y=canvas.getContext("2d"),v=data.length;canvas.width=t,canvas.height=e;for(var i=0;i<v;++i){var p=data[i],m=p[0],f=p[1],O=r(p[2]);y.globalAlpha=O,y.drawImage(h,m-d,f-d)}if(!canvas.width||!canvas.height)return canvas;for(var x=y.getImageData(0,0,canvas.width,canvas.height),S=x.data,M=0,w=S.length,C=this.minOpacity,z=this.maxOpacity-C;M<w;){O=S[M+3]/256;var I=4*Math.floor(255*O);if(O>0){var _=o(O)?l:c;O>0&&(O=O*z+C),S[M++]=_[I],S[M++]=_[I+1],S[M++]=_[I+2],S[M++]=_[I+3]*O*256}else M+=4}return y.putImageData(x,0,0),canvas},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=f.d.createCanvas()),e=this.pointSize+this.blurSize,r=2*e;t.width=r,t.height=r;var n=t.getContext("2d");return n.clearRect(0,0,r,r),n.shadowOffsetX=r,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},t.prototype._getGradient=function(t,e){for(var r=this._gradientPixels,n=r[e]||(r[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],h=0,i=0;i<256;i++)t[e](i/255,!0,o),n[h++]=o[0],n[h++]=o[1],n[h++]=o[2],n[h++]=o[3];return n},t}(),x=r(423),S=r(458),M=r(467),w=r(428);function C(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var z=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.type=e.type,r}return Object(c.a)(e,t),e.prototype.render=function(t,e,r){var n;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(r){r===t&&(n=e)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):C(o)&&this._renderOnGeo(o,t,n,r)},e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,r,n){var o=e.coordinateSystem;o&&(C(o)?this.render(e,r,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){d.traverseElements(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,r,n,o){var h,l,c,d,v=t.coordinateSystem,f=Object(M.a)(v,"cartesian2d");if(f){var O=v.getAxis("x"),x=v.getAxis("y");0,h=O.getBandWidth()+.5,l=x.getBandWidth()+.5,c=O.scale.getExtent(),d=x.scale.getExtent()}for(var S=this.group,data=t.getData(),C=t.getModel(["emphasis","itemStyle"]).getItemStyle(),z=t.getModel(["blur","itemStyle"]).getItemStyle(),I=t.getModel(["select","itemStyle"]).getItemStyle(),_=t.get(["itemStyle","borderRadius"]),Y=Object(w.d)(t),R=t.getModel("emphasis"),A=R.get("focus"),D=R.get("blurScope"),j=R.get("disabled"),E=f?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],N=r;N<n;N++){var rect=void 0,style=data.getItemVisual(N,"style");if(f){var k=data.get(E[0],N),J=data.get(E[1],N);if(isNaN(data.get(E[2],N))||isNaN(k)||isNaN(J)||k<c[0]||k>c[1]||J<d[0]||J>d[1])continue;var P=v.dataToPoint([k,J]);rect=new y.a({shape:{x:P[0]-h/2,y:P[1]-l/2,width:h,height:l},style:style})}else{if(isNaN(data.get(E[1],N)))continue;rect=new y.a({z2:1,shape:v.dataToRect([data.get(E[0],N)]).contentShape,style:style})}if(data.hasItemOption){var T=data.getItemModel(N),B=T.getModel("emphasis");C=B.getModel("itemStyle").getItemStyle(),z=T.getModel(["blur","itemStyle"]).getItemStyle(),I=T.getModel(["select","itemStyle"]).getItemStyle(),_=T.get(["itemStyle","borderRadius"]),A=B.get("focus"),D=B.get("blurScope"),j=B.get("disabled"),Y=Object(w.d)(T)}rect.shape.r=_;var $=t.getRawValue(N),L="-";$&&null!=$[2]&&(L=$[2]+""),Object(w.f)(rect,Y,{labelFetcher:t,labelDataIndex:N,defaultOpacity:style.opacity,defaultText:L}),rect.ensureState("emphasis").style=C,rect.ensureState("blur").style=z,rect.ensureState("select").style=I,Object(m.J)(rect,A,D,j),rect.incremental=o,o&&(rect.states.emphasis.hoverLayer=!0),S.add(rect),data.setItemGraphicEl(N,rect),this._progressiveEls&&this._progressiveEls.push(rect)}},e.prototype._renderOnGeo=function(t,e,r,n){var o=r.targetVisuals.inRange,h=r.targetVisuals.outOfRange,data=e.getData(),l=this._hmLayer||this._hmLayer||new O;l.blurSize=e.get("blurSize"),l.pointSize=e.get("pointSize"),l.minOpacity=e.get("minOpacity"),l.maxOpacity=e.get("maxOpacity");var rect=t.getViewRect().clone(),c=t.getRoamTransform();rect.applyTransform(c);var d=Math.max(rect.x,0),y=Math.max(rect.y,0),m=Math.min(rect.width+rect.x,n.getWidth()),f=Math.min(rect.height+rect.y,n.getHeight()),S=m-d,M=f-y,w=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],C=data.mapArray(w,function(e,r,n){var o=t.dataToPoint([e,r]);return o[0]-=d,o[1]-=y,o.push(n),o}),z=r.getExtent(),I="visualMap.continuous"===r.type?function(t,e){var r=t[1]-t[0];return e=[(e[0]-t[0])/r,(e[1]-t[0])/r],function(t){return t>=e[0]&&t<=e[1]}}(z,r.option.range):function(t,e,r){var n=t[1]-t[0],o=(e=x.H(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}})).length,h=0;return function(t){var i;for(i=h;i<o;i++)if((n=e[i].interval)[0]<=t&&t<=n[1]){h=i;break}if(i===o)for(i=h-1;i>=0;i--){var n;if((n=e[i].interval)[0]<=t&&t<=n[1]){h=i;break}}return i>=0&&i<o&&r[i]}}(z,r.getPieceList(),r.option.selected);l.update(C,S,M,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:h.color.getColorMapper()},I);var img=new v.a({style:{width:S,height:M,x:d,y:y,image:l.canvas},silent:!0});this.group.add(img)},e.type="heatmap",e}(S.a),I=z,_=r(460),Y=r(472),R=r(501),A=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.type=e.type,r}return Object(c.a)(e,t),e.prototype.getInitialData=function(option,t){return Object(Y.a)(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=R.a.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(_.a),D=A;var j=r(656),E=r(658),N=r(594),k=r(827);Object(o.a)([l.a,j.a,E.a,N.a,function(t){t.registerChartView(I),t.registerSeriesModel(D)},k.a]);var J=Object(n.b)({name:"MonthlyReturnChart",props:{values:{type:Object,default:function(){return{2010:{JAN:1,FEB:2,MAR:3},2011:{JAN:1,FEB:2,MAR:3}}}},stats:{type:Object,default:function(){return{}}}},data:function(){return{option:{backgroundColor:"transparent",tooltip:{position:"top"},grid:{top:"12px",bottom:"48px",right:"0",left:"36px"},xAxis:{type:"category",data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],splitArea:{show:!0}},yAxis:{type:"category",data:[],splitArea:{show:!0}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",right:"0",top:"0",formatter:function(t){return t+"%"},inRange:{color:["#9a91ff","white","#ff85b6"]},show:!1},series:[{name:"報酬率",type:"heatmap",data:[],label:{show:!0,formatter:function(t){return"".concat(t.value[2],"%")}},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},optionYearly:null,years:0,chartInstance:null,chartYearlyInstance:null,resizeObserver:null}},watch:{values:{handler:"init",deep:!0}},mounted:function(){var t=this;this.initChart(),this.init(),window.addEventListener("resize",this.resizeChart),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){t.resizeChart()}),this.$refs.chart&&this.resizeObserver.observe(this.$refs.chart),this.$refs.chartYearly&&this.resizeObserver.observe(this.$refs.chartYearly))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeChart),this.resizeObserver&&this.resizeObserver.disconnect(),this.chartInstance&&this.chartInstance.dispose(),this.chartYearlyInstance&&this.chartYearlyInstance.dispose()},methods:{initChart:function(){this.$refs.chart&&(this.chartInstance=Object(h.b)(this.$refs.chart,"light")),this.$refs.chartYearly&&(this.chartYearlyInstance=Object(h.b)(this.$refs.chartYearly,"light"))},resizeChart:function(){this.chartInstance&&this.chartInstance.resize(),this.chartYearlyInstance&&this.chartYearlyInstance.resize()},init:function(){if(null!=this.values){this.optionYearly=JSON.parse(JSON.stringify(this.option)),this.optionYearly.grid.left="0";var t=this.values,e=[],r=[],n=0;for(var o in t)for(var h in n+=1,t[o])"YTD"!==h&&0!==t[o][h]&&(e.push([h,o,t[o][h]]),r.push(100*t[o][h]));this.years=n;var l={},c=[],i=0;for(var d in t)l[d]=n-1-i,c.unshift(d),i+=1;var y={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},v=[];for(var m in e){var f=e[m][0],O=e[m][1],x=y[String(f).slice(0,3).toLowerCase()];void 0!==x&&v.push([x,l[O],Math.round(1e3*e[m][2])/10])}this.option.series[0].data=v,this.option.yAxis.data=c;var S=r.length?Math.max.apply(Math,r):0,M=r.length?Math.min.apply(Math,r):0,w=Math.round(10*Math.max(Math.abs(S),Math.abs(M)))/10;this.option.visualMap.min=-w,this.option.visualMap.max=w;var C={},z=[];for(var I in i=0,t)C[I]=i,z.push(I),i+=1;var _=[],Y=[];for(var R in t){var A=1;for(var D in t[R])"YTD"!==D&&(A*=1+t[R][D]);A-=1,_.push([C[R],0,Math.round(100*A)]),Y.push(A)}this.optionYearly.series[0].data=_,this.optionYearly.xAxis.data=z,this.optionYearly.series[0].label.formatter=function(t){return"".concat(t.value[2],"%")},this.optionYearly.yAxis.data=["報酬"],S=100*Math.max.apply(Math,Y),M=100*Math.min.apply(Math,Y),w=Math.round(Math.max(Math.abs(S),Math.max(M))),this.optionYearly.visualMap.min=-w,this.optionYearly.visualMap.max=w,this.chartInstance&&this.chartInstance.setOption(this.option),this.chartYearlyInstance&&this.chartYearlyInstance.setOption(this.optionYearly)}}}}),P=(r(551),r(52)),component=Object(P.a)(J,function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("h5",{staticClass:"uk-text-primary uk-margin-large-top"},[t._v("年報酬")]),t._v(" "),e("div",{ref:"chartYearly",staticClass:"chartYearly"}),t._v(" "),e("h5",{staticClass:"uk-text-primary uk-margin-large-top"},[t._v("月報酬")]),t._v(" "),e("div",{staticClass:"uk-overflow-auto",staticStyle:{width:"100%"}},[e("div",{staticStyle:{"min-width":"420px"}},[e("div",{ref:"chart",staticClass:"chart",style:{height:"".concat(30*t.years+150,"px")}})])])])},[],!1,null,"347baf8c",null);e.default=component.exports}}]);